import{M as g,s as S,n as M,o as I,p as D,q as P,t as F,e as R,f as T,b as q,g as z,u as L,v as C,k as N,w as W,x as X,y as Y}from"./DMkSVGaj.js";const j={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function B(s){return s.sort===void 0&&s.reverse===void 0?X({channel:"-r"},s):s}class E extends g{constructor(r,a={}){const{x:o,y:d,r:b,rotate:k,symbol:w=S,frameAnchor:n}=a,[c,e]=M(k,0),[m,i]=I(w),[h,v]=M(b,m==null?3:4.5);super(r,{x:{value:o,scale:"x",optional:!0},y:{value:d,scale:"y",optional:!0},r:{value:h,scale:"r",filter:D,optional:!0},rotate:{value:c,optional:!0},symbol:{value:m,scale:"auto",optional:!0}},B(a),j),this.r=v,this.rotate=e,this.symbol=i,this.frameAnchor=P(n);const{channels:y}=this,{symbol:u}=y;if(u){const{fill:p,stroke:f}=y;u.hint={fill:p?p.value===u.value?"color":"currentColor":this.fill??"currentColor",stroke:f?f.value===u.value?"color":"currentColor":this.stroke??"none"}}}render(r,a,o,d,b){const{x:k,y:w}=a,{x:n,y:c,r:e,rotate:m,symbol:i}=o,{r:h,rotate:v,symbol:y}=this,[u,p]=F(this,d),f=y===S,A=e?void 0:h*h*Math.PI;return W(h)&&(r=[]),R("svg:g",b).call(T,this,d,b).call(q,this,{x:n&&k,y:c&&w}).call($=>$.selectAll().data(r).enter().append(f?"circle":"path").call(z,this).call(f?x=>{x.attr("cx",n?t=>n[t]:u).attr("cy",c?t=>c[t]:p).attr("r",e?t=>e[t]:h)}:x=>{x.attr("transform",L`translate(${n?t=>n[t]:u},${c?t=>c[t]:p})${m?t=>` rotate(${m[t]})`:v?` rotate(${v})`:""}`).attr("d",e&&i?t=>{const l=C();return i[t].draw(l,e[t]*e[t]*Math.PI),l}:e?t=>{const l=C();return y.draw(l,e[t]*e[t]*Math.PI),l}:i?t=>{const l=C();return i[t].draw(l,A),l}:(()=>{const t=C();return y.draw(t,A),t})())}).call(N,this,o)).node()}}function H(s,{x:r,y:a,...o}={}){return o.frameAnchor===void 0&&([r,a]=Y(r,a)),new E(s,{...o,x:r,y:a})}export{H as d};
