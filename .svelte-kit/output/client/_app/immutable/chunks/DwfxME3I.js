import{A as S,y as h,D as m,a7 as D,F,H as R,G as x,B as L,I as A,z as O,M as E,O as q,a8 as B,N as C,U as H,V as M,J as U,a9 as Y,aa as z,e as G,a5 as J,ab as P}from"./DFDNEQV0.js";function Z(e,f,l=!1){h&&m();var i=e,s=null,a=null,r=B,I=l?D:0,d=!1;const N=(c,t=!0)=>{d=!0,v(t,c)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var c=r?s:a,t=r?a:s;c&&H(c),t&&M(t,()=>{r?a=null:s=null})}const v=(c,t)=>{if(r===(r=c))return;let T=!1;if(h){const g=F(i)===R;!!r===g&&(i=x(),L(i),A(!1),T=!0)}var p=C(),u=i;if(p&&(n=document.createDocumentFragment(),n.append(u=O())),r?s??(s=t&&E(()=>t(u))):a??(a=t&&E(()=>t(u))),p){var _=q,k=r?s:a,y=r?a:s;k&&_.skipped_effects.delete(k),y&&_.skipped_effects.add(y),_.add_callback(o)}else o();T&&A(!0)};S(()=>{d=!1,f(N),d||v(null,null)},I),h&&(i=U)}function b(e,f){return e===f||(e==null?void 0:e[P])===f}function j(e={},f,l,i){return Y(()=>{var s,a;return z(()=>{s=a,a=[],G(()=>{e!==l(...a)&&(f(e,...a),s&&b(l(...s),e)&&f(null,...s))})}),()=>{J(()=>{a&&b(l(...a),e)&&f(null,...a)})}}),e}export{j as b,Z as i};
