function En(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function _r(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Zi(t){let n,e,r;t.length!==2?(n=En,e=(f,u)=>En(t(f),u),r=(f,u)=>t(f)-u):(n=t===En||t===_r?t:E1,e=t,r=t);function i(f,u,s=0,c=f.length){if(s<c){if(n(u,u)!==0)return c;do{const d=s+c>>>1;e(f[d],u)<0?s=d+1:c=d}while(s<c)}return s}function a(f,u,s=0,c=f.length){if(s<c){if(n(u,u)!==0)return c;do{const d=s+c>>>1;e(f[d],u)<=0?s=d+1:c=d}while(s<c)}return s}function o(f,u,s=0,c=f.length){const d=i(f,u,s,c-1);return d>s&&r(f[d-1],u)>-r(f[d],u)?d-1:d}return{left:i,center:o,right:a}}function E1(){return 0}function ss(t){return t===null?NaN:+t}function*N1(t,n){if(n===void 0)for(let e of t)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)(r=n(r,++e,t))!=null&&(r=+r)>=r&&(yield r)}}const k1=Zi(En),df=k1.right;Zi(ss).center;function D1(t){return t.length|0}function I1(t){return!(t>0)}function L1(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function R1(t){return n=>t(...n)}function F1(...t){const n=typeof t[t.length-1]=="function"&&R1(t.pop());t=t.map(L1);const e=t.map(D1),r=t.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||e.some(I1))return a;for(;;){a.push(i.map((f,u)=>t[u][f]));let o=r;for(;++i[o]===e[o];){if(o===0)return n?a.map(n):a;i[o--]=0}}}function ls(t,n){let e=0,r,i=0,a=0;if(n===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++e,a+=r*(o-i));else{let o=-1;for(let f of t)(f=n(f,++o,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++e,a+=r*(f-i))}if(e>1)return a/(e-1)}function P1(t,n){const e=ls(t,n);return e&&Math.sqrt(e)}function Nn(t,n){let e,r;if(n===void 0)for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=n(a,++i,t))!=null&&(e===void 0?a>=a&&(e=r=a):(e>a&&(e=a),r<a&&(r=a)))}return[e,r]}class Gn{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=e[i],o=n+a,f=Math.abs(n)<Math.abs(a)?n-(o-a):a-(o-n);f&&(e[r++]=f),n=o}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,a,o=0;if(e>0){for(o=n[--e];e>0&&(r=o,i=n[--e],o=r+i,a=i-(o-r),!a););e>0&&(a<0&&n[e-1]<0||a>0&&n[e-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}class lr extends Map{constructor(n,e=ps){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(fo(this,n))}has(n){return super.has(fo(this,n))}set(n,e){return super.set(ds(this,n),e)}delete(n){return super.delete(hs(this,n))}}class Ki extends Set{constructor(n,e=ps){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const r of n)this.add(r)}has(n){return super.has(fo(this,n))}add(n){return super.add(ds(this,n))}delete(n){return super.delete(hs(this,n))}}function fo({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function ds({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function hs({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function ps(t){return t!==null&&typeof t=="object"?t.valueOf():t}function uo(t){return t}function gs(t,...n){return hf(t,uo,uo,n)}function li(t,n,...e){return hf(t,uo,n,e)}function O1(t,n,...e){return hf(t,Array.from,n,e)}function hf(t,n,e,r){return function i(a,o){if(o>=r.length)return e(a);const f=new lr,u=r[o++];let s=-1;for(const c of a){const d=u(c,++s,a),l=f.get(d);l?l.push(c):f.set(d,[c])}for(const[c,d]of f)f.set(c,i(d,o));return n(f)}(t,0)}function U1(t,n){return Array.from(n,e=>t[e])}function ms(t,...n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&e.length!==2||n.length>1){const r=Uint32Array.from(t,(i,a)=>a);return n.length>1?(n=n.map(i=>t.map(i)),r.sort((i,a)=>{for(const o of n){const f=yi(o[i],o[a]);if(f)return f}})):(e=t.map(e),r.sort((i,a)=>yi(e[i],e[a]))),U1(t,r)}return t.sort(bs(e))}function bs(t=En){if(t===En)return yi;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function yi(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}const q1=Math.sqrt(50),z1=Math.sqrt(10),Y1=Math.sqrt(2);function wi(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=q1?10:a>=z1?5:a>=Y1?2:1;let f,u,s;return i<0?(s=Math.pow(10,-i)/o,f=Math.round(t*s),u=Math.round(n*s),f/s<t&&++f,u/s>n&&--u,s=-s):(s=Math.pow(10,i)*o,f=Math.round(t/s),u=Math.round(n/s),f*s<t&&++f,u*s>n&&--u),u<f&&.5<=e&&e<2?wi(t,n,e*2):[f,u,s]}function vi(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,a,o]=r?wi(n,t,e):wi(t,n,e);if(!(a>=i))return[];const f=a-i+1,u=new Array(f);if(r)if(o<0)for(let s=0;s<f;++s)u[s]=(a-s)/-o;else for(let s=0;s<f;++s)u[s]=(a-s)*o;else if(o<0)for(let s=0;s<f;++s)u[s]=(i+s)/-o;else for(let s=0;s<f;++s)u[s]=(i+s)*o;return u}function co(t,n,e){return n=+n,t=+t,e=+e,wi(t,n,e)[2]}function so(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?co(n,t,e):co(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function nn(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function B1(t,n){let e,r=-1,i=-1;if(n===void 0)for(const a of t)++i,a!=null&&(e<a||e===void 0&&a>=a)&&(e=a,r=i);else for(let a of t)(a=n(a,++i,t))!=null&&(e<a||e===void 0&&a>=a)&&(e=a,r=i);return r}function dr(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function H1(t,n){let e,r=-1,i=-1;if(n===void 0)for(const a of t)++i,a!=null&&(e>a||e===void 0&&a>=a)&&(e=a,r=i);else for(let a of t)(a=n(a,++i,t))!=null&&(e>a||e===void 0&&a>=a)&&(e=a,r=i);return r}function ys(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=i===void 0?yi:bs(i);r>e;){if(r-e>600){const u=r-e+1,s=n-e+1,c=Math.log(u),d=.5*Math.exp(2*c/3),l=.5*Math.sqrt(c*d*(u-d)/u)*(s-u/2<0?-1:1),h=Math.max(e,Math.floor(n-s*d/u+l)),p=Math.min(r,Math.floor(n+(u-s)*d/u+l));ys(t,n,h,p,i)}const a=t[n];let o=e,f=r;for(We(t,e,n),i(t[r],a)>0&&We(t,e,r);o<f;){for(We(t,o,f),++o,--f;i(t[o],a)<0;)++o;for(;i(t[f],a)>0;)--f}i(t[e],a)===0?We(t,e,f):(++f,We(t,f,r)),f<=n&&(e=f+1),n<=f&&(r=f-1)}return t}function We(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function xi(t,n,e){if(t=Float64Array.from(N1(t,e)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return dr(t);if(n>=1)return nn(t);var r,i=(r-1)*n,a=Math.floor(i),o=nn(ys(t,a).subarray(0,a+1)),f=dr(t.subarray(a+1));return o+(f-o)*(i-a)}}function W1(t,n,e=ss){if(!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,a=Math.floor(i),o=+e(t[a],a,t),f=+e(t[a+1],a+1,t);return o+(f-o)*(i-a)}}function V1(t,n){let e=0,r=0;if(n===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let a of t)(a=n(a,++i,t))!=null&&(a=+a)>=a&&(++e,r+=a)}if(e)return r/e}function lo(t,n){return xi(t,.5,n)}function*G1(t){for(const n of t)yield*n}function ws(t){return Array.from(G1(t))}function X1(t,n){const e=new lr;if(n===void 0)for(let a of t)a!=null&&a>=a&&e.set(a,(e.get(a)||0)+1);else{let a=-1;for(let o of t)(o=n(o,++a,t))!=null&&o>=o&&e.set(o,(e.get(o)||0)+1)}let r,i=0;for(const[a,o]of e)o>i&&(i=o,r=a);return r}function Z1(t,n=K1){const e=[];let r,i=!1;for(const a of t)i&&e.push(n(r,a)),r=a,i=!0;return e}function K1(t,n){return[t,n]}function ho(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,a=new Array(i);++r<i;)a[r]=t+r*e;return a}function Qi(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function Mi(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Q1(t){return t}var J1=3,gu=1e-6;function j1(t){return"translate("+t+",0)"}function tp(t){return n=>+t(n)}function np(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function ep(){return!this.__axis}function rp(t,n){var e=[],r=null,i=null,a=6,o=6,f=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=1,c="y",d=j1;function l(h){var p=r??(n.ticks?n.ticks.apply(n,e):n.domain()),g=i??(n.tickFormat?n.tickFormat.apply(n,e):Q1),b=Math.max(a,0)+f,w=n.range(),y=+w[0]+u,v=+w[w.length-1]+u,m=(n.bandwidth?np:tp)(n.copy(),u),M=h.selection?h.selection():h,x=M.selectAll(".domain").data([null]),_=M.selectAll(".tick").data(p,n).order(),S=_.exit(),A=_.enter().append("g").attr("class","tick"),N=_.select("line"),$=_.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(A),N=N.merge(A.append("line").attr("stroke","currentColor").attr(c+"2",s*a)),$=$.merge(A.append("text").attr("fill","currentColor").attr(c,s*b).attr("dy","0.71em")),h!==M&&(x=x.transition(h),_=_.transition(h),N=N.transition(h),$=$.transition(h),S=S.transition(h).attr("opacity",gu).attr("transform",function(D){return isFinite(D=m(D))?d(D+u):this.getAttribute("transform")}),A.attr("opacity",gu).attr("transform",function(D){var F=this.parentNode.__axis;return d((F&&isFinite(F=F(D))?F:m(D))+u)})),S.remove(),x.attr("d",o?"M"+y+","+s*o+"V"+u+"H"+v+"V"+s*o:"M"+y+","+u+"H"+v),_.attr("opacity",1).attr("transform",function(D){return d(m(D)+u)}),N.attr(c+"2",s*a),$.attr(c,s*b).text(g),M.filter(ep).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),M.each(function(){this.__axis=m})}return l.scale=function(h){return arguments.length?(n=h,l):n},l.ticks=function(){return e=Array.from(arguments),l},l.tickArguments=function(h){return arguments.length?(e=h==null?[]:Array.from(h),l):e.slice()},l.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),l):r&&r.slice()},l.tickFormat=function(h){return arguments.length?(i=h,l):i},l.tickSize=function(h){return arguments.length?(a=o=+h,l):a},l.tickSizeInner=function(h){return arguments.length?(a=+h,l):a},l.tickSizeOuter=function(h){return arguments.length?(o=+h,l):o},l.tickPadding=function(h){return arguments.length?(f=+h,l):f},l.offset=function(h){return arguments.length?(u=+h,l):u},l}function ip(t){return rp(J1,t)}var ap={value:()=>{}};function vs(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new di(e)}function di(t){this._=t}function op(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}di.prototype=vs.prototype={constructor:di,on:function(t,n){var e=this._,r=op(t+"",e),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=fp(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<o;)if(i=(t=r[a]).type)e[i]=mu(e[i],t.name,n);else if(n==null)for(i in e)e[i]=mu(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new di(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,a;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};function fp(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function mu(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=ap,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var po="http://www.w3.org/1999/xhtml";const xe={svg:"http://www.w3.org/2000/svg",xhtml:po,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ji(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),xe.hasOwnProperty(n)?{space:xe[n],local:t}:t}function up(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===po&&n.documentElement.namespaceURI===po?n.createElement(t):n.createElementNS(e,t)}}function cp(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ji(t){var n=Ji(t);return(n.local?cp:up)(n)}function sp(){}function pf(t){return t==null?sp:function(){return this.querySelector(t)}}function lp(t){typeof t!="function"&&(t=pf(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,f=r[i]=new Array(o),u,s,c=0;c<o;++c)(u=a[c])&&(s=t.call(u,u.__data__,c,a))&&("__data__"in u&&(s.__data__=u.__data__),f[c]=s);return new Nt(r,this._parents)}function dp(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function hp(){return[]}function xs(t){return t==null?hp:function(){return this.querySelectorAll(t)}}function pp(t){return function(){return dp(t.apply(this,arguments))}}function gp(t){typeof t=="function"?t=pp(t):t=xs(t);for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o=n[a],f=o.length,u,s=0;s<f;++s)(u=o[s])&&(r.push(t.call(u,u.__data__,s,o)),i.push(u));return new Nt(r,i)}function Ms(t){return function(){return this.matches(t)}}function $s(t){return function(n){return n.matches(t)}}var mp=Array.prototype.find;function bp(t){return function(){return mp.call(this.children,t)}}function yp(){return this.firstElementChild}function wp(t){return this.select(t==null?yp:bp(typeof t=="function"?t:$s(t)))}var vp=Array.prototype.filter;function xp(){return Array.from(this.children)}function Mp(t){return function(){return vp.call(this.children,t)}}function $p(t){return this.selectAll(t==null?xp:Mp(typeof t=="function"?t:$s(t)))}function _p(t){typeof t!="function"&&(t=Ms(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,f=r[i]=[],u,s=0;s<o;++s)(u=a[s])&&t.call(u,u.__data__,s,a)&&f.push(u);return new Nt(r,this._parents)}function _s(t){return new Array(t.length)}function Sp(){return new Nt(this._enter||this._groups.map(_s),this._parents)}function $i(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}$i.prototype={constructor:$i,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Tp(t){return function(){return t}}function Ap(t,n,e,r,i,a){for(var o=0,f,u=n.length,s=a.length;o<s;++o)(f=n[o])?(f.__data__=a[o],r[o]=f):e[o]=new $i(t,a[o]);for(;o<u;++o)(f=n[o])&&(i[o]=f)}function Cp(t,n,e,r,i,a,o){var f,u,s=new Map,c=n.length,d=a.length,l=new Array(c),h;for(f=0;f<c;++f)(u=n[f])&&(l[f]=h=o.call(u,u.__data__,f,n)+"",s.has(h)?i[f]=u:s.set(h,u));for(f=0;f<d;++f)h=o.call(t,a[f],f,a)+"",(u=s.get(h))?(r[f]=u,u.__data__=a[f],s.delete(h)):e[f]=new $i(t,a[f]);for(f=0;f<c;++f)(u=n[f])&&s.get(l[f])===u&&(i[f]=u)}function Ep(t){return t.__data__}function Np(t,n){if(!arguments.length)return Array.from(this,Ep);var e=n?Cp:Ap,r=this._parents,i=this._groups;typeof t!="function"&&(t=Tp(t));for(var a=i.length,o=new Array(a),f=new Array(a),u=new Array(a),s=0;s<a;++s){var c=r[s],d=i[s],l=d.length,h=kp(t.call(c,c&&c.__data__,s,r)),p=h.length,g=f[s]=new Array(p),b=o[s]=new Array(p),w=u[s]=new Array(l);e(c,d,g,b,w,h,n);for(var y=0,v=0,m,M;y<p;++y)if(m=g[y]){for(y>=v&&(v=y+1);!(M=b[v])&&++v<p;);m._next=M||null}}return o=new Nt(o,r),o._enter=f,o._exit=u,o}function kp(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Dp(){return new Nt(this._exit||this._groups.map(_s),this._parents)}function Ip(t,n,e){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?a.remove():e(a),r&&i?r.merge(i).order():i}function Lp(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,a=r.length,o=Math.min(i,a),f=new Array(i),u=0;u<o;++u)for(var s=e[u],c=r[u],d=s.length,l=f[u]=new Array(d),h,p=0;p<d;++p)(h=s[p]||c[p])&&(l[p]=h);for(;u<i;++u)f[u]=e[u];return new Nt(f,this._parents)}function Rp(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Fp(t){t||(t=Pp);function n(d,l){return d&&l?t(d.__data__,l.__data__):!d-!l}for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o=e[a],f=o.length,u=i[a]=new Array(f),s,c=0;c<f;++c)(s=o[c])&&(u[c]=s);u.sort(n)}return new Nt(i,this._parents).order()}function Pp(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Op(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Up(){return Array.from(this)}function qp(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function zp(){let t=0;for(const n of this)++t;return t}function Yp(){return!this.node()}function Bp(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],a=0,o=i.length,f;a<o;++a)(f=i[a])&&t.call(f,f.__data__,a,i);return this}function Hp(t){return function(){this.removeAttribute(t)}}function Wp(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Vp(t,n){return function(){this.setAttribute(t,n)}}function Gp(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Xp(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Zp(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Kp(t,n){var e=Ji(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Wp:Hp:typeof n=="function"?e.local?Zp:Xp:e.local?Gp:Vp)(e,n))}function Ss(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Qp(t){return function(){this.style.removeProperty(t)}}function Jp(t,n,e){return function(){this.style.setProperty(t,n,e)}}function jp(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function tg(t,n,e){return arguments.length>1?this.each((n==null?Qp:typeof n=="function"?jp:Jp)(t,n,e??"")):Me(this.node(),t)}function Me(t,n){return t.style.getPropertyValue(n)||Ss(t).getComputedStyle(t,null).getPropertyValue(n)}function ng(t){return function(){delete this[t]}}function eg(t,n){return function(){this[t]=n}}function rg(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function ig(t,n){return arguments.length>1?this.each((n==null?ng:typeof n=="function"?rg:eg)(t,n)):this.node()[t]}function Ts(t){return t.trim().split(/^|\s+/)}function gf(t){return t.classList||new As(t)}function As(t){this._node=t,this._names=Ts(t.getAttribute("class")||"")}As.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Cs(t,n){for(var e=gf(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Es(t,n){for(var e=gf(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function ag(t){return function(){Cs(this,t)}}function og(t){return function(){Es(this,t)}}function fg(t,n){return function(){(n.apply(this,arguments)?Cs:Es)(this,t)}}function ug(t,n){var e=Ts(t+"");if(arguments.length<2){for(var r=gf(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?fg:n?ag:og)(e,n))}function cg(){this.textContent=""}function sg(t){return function(){this.textContent=t}}function lg(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function dg(t){return arguments.length?this.each(t==null?cg:(typeof t=="function"?lg:sg)(t)):this.node().textContent}function hg(){this.innerHTML=""}function pg(t){return function(){this.innerHTML=t}}function gg(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function mg(t){return arguments.length?this.each(t==null?hg:(typeof t=="function"?gg:pg)(t)):this.node().innerHTML}function bg(){this.nextSibling&&this.parentNode.appendChild(this)}function yg(){return this.each(bg)}function wg(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vg(){return this.each(wg)}function xg(t){var n=typeof t=="function"?t:ji(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Mg(){return null}function $g(t,n){var e=typeof t=="function"?t:ji(t),r=n==null?Mg:typeof n=="function"?n:pf(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function _g(){var t=this.parentNode;t&&t.removeChild(this)}function Sg(){return this.each(_g)}function Tg(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ag(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Cg(t){return this.select(t?Ag:Tg)}function Eg(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ng(t){return function(n){t.call(this,n,this.__data__)}}function kg(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function Dg(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,a;e<i;++e)a=n[e],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):n[++r]=a;++r?n.length=r:delete this.__on}}}function Ig(t,n,e){return function(){var r=this.__on,i,a=Ng(n);if(r){for(var o=0,f=r.length;o<f;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=e),i.value=n;return}}this.addEventListener(t.type,a,e),i={type:t.type,name:t.name,value:n,listener:a,options:e},r?r.push(i):this.__on=[i]}}function Lg(t,n,e){var r=kg(t+""),i,a=r.length,o;if(arguments.length<2){var f=this.node().__on;if(f){for(var u=0,s=f.length,c;u<s;++u)for(i=0,c=f[u];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(f=n?Ig:Dg,i=0;i<a;++i)this.each(f(r[i],n,e));return this}function Ns(t,n,e){var r=Ss(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Rg(t,n){return function(){return Ns(this,t,n)}}function Fg(t,n){return function(){return Ns(this,t,n.apply(this,arguments))}}function Pg(t,n){return this.each((typeof n=="function"?Fg:Rg)(t,n))}function*Og(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var ks=[null];function Nt(t,n){this._groups=t,this._parents=n}function Sr(){return new Nt([[document.documentElement]],ks)}function Ug(){return this}Nt.prototype=Sr.prototype={constructor:Nt,select:lp,selectAll:gp,selectChild:wp,selectChildren:$p,filter:_p,data:Np,enter:Sp,exit:Dp,join:Ip,merge:Lp,selection:Ug,order:Rp,sort:Fp,call:Op,nodes:Up,node:qp,size:zp,empty:Yp,each:Bp,attr:Kp,style:tg,property:ig,classed:ug,text:dg,html:mg,raise:yg,lower:vg,append:xg,insert:$g,remove:Sg,clone:Cg,datum:Eg,on:Lg,dispatch:Pg,[Symbol.iterator]:Og};function Bn(t){return typeof t=="string"?new Nt([[document.querySelector(t)]],[document.documentElement]):new Nt([[t]],ks)}function qg(t){let n;for(;n=t.sourceEvent;)t=n;return t}function zg(t,n){if(t=qg(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function Pe(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Tr(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Rn(){}var Xn=.7,$e=1/Xn,ye="\\s*([+-]?\\d+)\\s*",hr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yg=/^#([0-9a-f]{3,8})$/,Bg=new RegExp(`^rgb\\(${ye},${ye},${ye}\\)$`),Hg=new RegExp(`^rgb\\(${jt},${jt},${jt}\\)$`),Wg=new RegExp(`^rgba\\(${ye},${ye},${ye},${hr}\\)$`),Vg=new RegExp(`^rgba\\(${jt},${jt},${jt},${hr}\\)$`),Gg=new RegExp(`^hsl\\(${hr},${jt},${jt}\\)$`),Xg=new RegExp(`^hsla\\(${hr},${jt},${jt},${hr}\\)$`),bu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pe(Rn,Zn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:yu,formatHex:yu,formatHex8:Zg,formatHsl:Kg,formatRgb:wu,toString:wu});function yu(){return this.rgb().formatHex()}function Zg(){return this.rgb().formatHex8()}function Kg(){return Ds(this).formatHsl()}function wu(){return this.rgb().formatRgb()}function Zn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Yg.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?vu(n):e===3?new mt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Vr(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Vr(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Bg.exec(t))?new mt(n[1],n[2],n[3],1):(n=Hg.exec(t))?new mt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Wg.exec(t))?Vr(n[1],n[2],n[3],n[4]):(n=Vg.exec(t))?Vr(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Gg.exec(t))?$u(n[1],n[2]/100,n[3]/100,1):(n=Xg.exec(t))?$u(n[1],n[2]/100,n[3]/100,n[4]):bu.hasOwnProperty(t)?vu(bu[t]):t==="transparent"?new mt(NaN,NaN,NaN,0):null}function vu(t){return new mt(t>>16&255,t>>8&255,t&255,1)}function Vr(t,n,e,r){return r<=0&&(t=n=e=NaN),new mt(t,n,e,r)}function mf(t){return t instanceof Rn||(t=Zn(t)),t?(t=t.rgb(),new mt(t.r,t.g,t.b,t.opacity)):new mt}function Dn(t,n,e,r){return arguments.length===1?mf(t):new mt(t,n,e,r??1)}function mt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Pe(mt,Dn,Tr(Rn,{brighter(t){return t=t==null?$e:Math.pow($e,t),new mt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xn:Math.pow(Xn,t),new mt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new mt(Hn(this.r),Hn(this.g),Hn(this.b),_i(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xu,formatHex:xu,formatHex8:Qg,formatRgb:Mu,toString:Mu}));function xu(){return`#${Yn(this.r)}${Yn(this.g)}${Yn(this.b)}`}function Qg(){return`#${Yn(this.r)}${Yn(this.g)}${Yn(this.b)}${Yn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Mu(){const t=_i(this.opacity);return`${t===1?"rgb(":"rgba("}${Hn(this.r)}, ${Hn(this.g)}, ${Hn(this.b)}${t===1?")":`, ${t})`}`}function _i(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Hn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Yn(t){return t=Hn(t),(t<16?"0":"")+t.toString(16)}function $u(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Yt(t,n,e,r)}function Ds(t){if(t instanceof Yt)return new Yt(t.h,t.s,t.l,t.opacity);if(t instanceof Rn||(t=Zn(t)),!t)return new Yt;if(t instanceof Yt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,f=a-i,u=(a+i)/2;return f?(n===a?o=(e-r)/f+(e<r)*6:e===a?o=(r-n)/f+2:o=(n-e)/f+4,f/=u<.5?a+i:2-a-i,o*=60):f=u>0&&u<1?0:o,new Yt(o,f,u,t.opacity)}function go(t,n,e,r){return arguments.length===1?Ds(t):new Yt(t,n,e,r??1)}function Yt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Pe(Yt,go,Tr(Rn,{brighter(t){return t=t==null?$e:Math.pow($e,t),new Yt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xn:Math.pow(Xn,t),new Yt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new mt(Aa(t>=240?t-240:t+120,i,r),Aa(t,i,r),Aa(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Yt(_u(this.h),Gr(this.s),Gr(this.l),_i(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_i(this.opacity);return`${t===1?"hsl(":"hsla("}${_u(this.h)}, ${Gr(this.s)*100}%, ${Gr(this.l)*100}%${t===1?")":`, ${t})`}`}}));function _u(t){return t=(t||0)%360,t<0?t+360:t}function Gr(t){return Math.max(0,Math.min(1,t||0))}function Aa(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Is=Math.PI/180,Ls=180/Math.PI,Si=18,Rs=.96422,Fs=1,Ps=.82521,Os=4/29,we=6/29,Us=3*we*we,Jg=we*we*we;function qs(t){if(t instanceof tn)return new tn(t.l,t.a,t.b,t.opacity);if(t instanceof mn)return zs(t);t instanceof mt||(t=mf(t));var n=ka(t.r),e=ka(t.g),r=ka(t.b),i=Ca((.2225045*n+.7168786*e+.0606169*r)/Fs),a,o;return n===e&&e===r?a=o=i:(a=Ca((.4360747*n+.3850649*e+.1430804*r)/Rs),o=Ca((.0139322*n+.0971045*e+.7141733*r)/Ps)),new tn(116*i-16,500*(a-i),200*(i-o),t.opacity)}function mo(t,n,e,r){return arguments.length===1?qs(t):new tn(t,n,e,r??1)}function tn(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}Pe(tn,mo,Tr(Rn,{brighter(t){return new tn(this.l+Si*(t??1),this.a,this.b,this.opacity)},darker(t){return new tn(this.l-Si*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=Rs*Ea(n),t=Fs*Ea(t),e=Ps*Ea(e),new mt(Na(3.1338561*n-1.6168667*t-.4906146*e),Na(-.9787684*n+1.9161415*t+.033454*e),Na(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function Ca(t){return t>Jg?Math.pow(t,1/3):t/Us+Os}function Ea(t){return t>we?t*t*t:Us*(t-Os)}function Na(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ka(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function jg(t){if(t instanceof mn)return new mn(t.h,t.c,t.l,t.opacity);if(t instanceof tn||(t=qs(t)),t.a===0&&t.b===0)return new mn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Ls;return new mn(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function bo(t,n,e,r){return arguments.length===1?jg(t):new mn(t,n,e,r??1)}function mn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function zs(t){if(isNaN(t.h))return new tn(t.l,0,0,t.opacity);var n=t.h*Is;return new tn(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}Pe(mn,bo,Tr(Rn,{brighter(t){return new mn(this.h,this.c,this.l+Si*(t??1),this.opacity)},darker(t){return new mn(this.h,this.c,this.l-Si*(t??1),this.opacity)},rgb(){return zs(this).rgb()}}));var Ys=-.14861,bf=1.78277,yf=-.29227,ta=-.90649,pr=1.97294,Su=pr*ta,Tu=pr*bf,Au=bf*yf-ta*Ys;function tm(t){if(t instanceof Wn)return new Wn(t.h,t.s,t.l,t.opacity);t instanceof mt||(t=mf(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Au*r+Su*n-Tu*e)/(Au+Su-Tu),a=r-i,o=(pr*(e-i)-yf*a)/ta,f=Math.sqrt(o*o+a*a)/(pr*i*(1-i)),u=f?Math.atan2(o,a)*Ls-120:NaN;return new Wn(u<0?u+360:u,f,i,t.opacity)}function en(t,n,e,r){return arguments.length===1?tm(t):new Wn(t,n,e,r??1)}function Wn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Pe(Wn,en,Tr(Rn,{brighter(t){return t=t==null?$e:Math.pow($e,t),new Wn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xn:Math.pow(Xn,t),new Wn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Is,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new mt(255*(n+e*(Ys*r+bf*i)),255*(n+e*(yf*r+ta*i)),255*(n+e*(pr*r)),this.opacity)}}));function nm(t,n,e,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*r+o*i)/6}function em(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,f=r<n-1?t[r+2]:2*a-i;return nm((e-r/n)*n,o,i,a,f)}}const na=t=>()=>t;function Bs(t,n){return function(e){return t+e*n}}function rm(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function wf(t,n){var e=n-t;return e?Bs(t,e>180||e<-180?e-360*Math.round(e/360):e):na(isNaN(t)?n:t)}function im(t){return(t=+t)==1?xt:function(n,e){return e-n?rm(n,e,t):na(isNaN(n)?e:n)}}function xt(t,n){var e=n-t;return e?Bs(t,e):na(isNaN(t)?n:t)}const Kn=function t(n){var e=im(n);function r(i,a){var o=e((i=Dn(i)).r,(a=Dn(a)).r),f=e(i.g,a.g),u=e(i.b,a.b),s=xt(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=f(c),i.b=u(c),i.opacity=s(c),i+""}}return r.gamma=t,r}(1);function am(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),a=new Array(e),o,f;for(o=0;o<e;++o)f=Dn(n[o]),r[o]=f.r||0,i[o]=f.g||0,a[o]=f.b||0;return r=t(r),i=t(i),a=t(a),f.opacity=1,function(u){return f.r=r(u),f.g=i(u),f.b=a(u),f+""}}}var om=am(em);function fm(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(a){for(i=0;i<e;++i)r[i]=t[i]*(1-a)+n[i]*a;return r}}function um(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function cm(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),a=new Array(e),o;for(o=0;o<r;++o)i[o]=Ar(t[o],n[o]);for(;o<e;++o)a[o]=n[o];return function(f){for(o=0;o<r;++o)a[o]=i[o](f);return a}}function sm(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function wt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function lm(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=Ar(t[i],n[i]):r[i]=n[i];return function(a){for(i in e)r[i]=e[i](a);return r}}var yo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Da=new RegExp(yo.source,"g");function dm(t){return function(){return t}}function hm(t){return function(n){return t(n)+""}}function Hs(t,n){var e=yo.lastIndex=Da.lastIndex=0,r,i,a,o=-1,f=[],u=[];for(t=t+"",n=n+"";(r=yo.exec(t))&&(i=Da.exec(n));)(a=i.index)>e&&(a=n.slice(e,a),f[o]?f[o]+=a:f[++o]=a),(r=r[0])===(i=i[0])?f[o]?f[o]+=i:f[++o]=i:(f[++o]=null,u.push({i:o,x:wt(r,i)})),e=Da.lastIndex;return e<n.length&&(a=n.slice(e),f[o]?f[o]+=a:f[++o]=a),f.length<2?u[0]?hm(u[0].x):dm(n):(n=u.length,function(s){for(var c=0,d;c<n;++c)f[(d=u[c]).i]=d.x(s);return f.join("")})}function Ar(t,n){var e=typeof n,r;return n==null||e==="boolean"?na(n):(e==="number"?wt:e==="string"?(r=Zn(n))?(n=r,Kn):Hs:n instanceof Zn?Kn:n instanceof Date?sm:um(n)?fm:Array.isArray(n)?cm:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?lm:wt)(t,n)}function vf(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Cu=180/Math.PI,wo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ws(t,n,e,r,i,a){var o,f,u;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(u=t*e+n*r)&&(e-=t*u,r-=n*u),(f=Math.sqrt(e*e+r*r))&&(e/=f,r/=f,u/=f),t*r<n*e&&(t=-t,n=-n,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*Cu,skewX:Math.atan(u)*Cu,scaleX:o,scaleY:f}}var Xr;function pm(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?wo:Ws(n.a,n.b,n.c,n.d,n.e,n.f)}function gm(t){return t==null||(Xr||(Xr=document.createElementNS("http://www.w3.org/2000/svg","g")),Xr.setAttribute("transform",t),!(t=Xr.transform.baseVal.consolidate()))?wo:(t=t.matrix,Ws(t.a,t.b,t.c,t.d,t.e,t.f))}function Vs(t,n,e,r){function i(s){return s.length?s.pop()+" ":""}function a(s,c,d,l,h,p){if(s!==d||c!==l){var g=h.push("translate(",null,n,null,e);p.push({i:g-4,x:wt(s,d)},{i:g-2,x:wt(c,l)})}else(d||l)&&h.push("translate("+d+n+l+e)}function o(s,c,d,l){s!==c?(s-c>180?c+=360:c-s>180&&(s+=360),l.push({i:d.push(i(d)+"rotate(",null,r)-2,x:wt(s,c)})):c&&d.push(i(d)+"rotate("+c+r)}function f(s,c,d,l){s!==c?l.push({i:d.push(i(d)+"skewX(",null,r)-2,x:wt(s,c)}):c&&d.push(i(d)+"skewX("+c+r)}function u(s,c,d,l,h,p){if(s!==d||c!==l){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:wt(s,d)},{i:g-2,x:wt(c,l)})}else(d!==1||l!==1)&&h.push(i(h)+"scale("+d+","+l+")")}return function(s,c){var d=[],l=[];return s=t(s),c=t(c),a(s.translateX,s.translateY,c.translateX,c.translateY,d,l),o(s.rotate,c.rotate,d,l),f(s.skewX,c.skewX,d,l),u(s.scaleX,s.scaleY,c.scaleX,c.scaleY,d,l),s=c=null,function(h){for(var p=-1,g=l.length,b;++p<g;)d[(b=l[p]).i]=b.x(h);return d.join("")}}}var mm=Vs(pm,"px, ","px)","deg)"),bm=Vs(gm,", ",")",")");function ym(t){return function(n,e){var r=t((n=go(n)).h,(e=go(e)).h),i=xt(n.s,e.s),a=xt(n.l,e.l),o=xt(n.opacity,e.opacity);return function(f){return n.h=r(f),n.s=i(f),n.l=a(f),n.opacity=o(f),n+""}}}const wm=ym(wf);function vm(t,n){var e=xt((t=mo(t)).l,(n=mo(n)).l),r=xt(t.a,n.a),i=xt(t.b,n.b),a=xt(t.opacity,n.opacity);return function(o){return t.l=e(o),t.a=r(o),t.b=i(o),t.opacity=a(o),t+""}}function xm(t){return function(n,e){var r=t((n=bo(n)).h,(e=bo(e)).h),i=xt(n.c,e.c),a=xt(n.l,e.l),o=xt(n.opacity,e.opacity);return function(f){return n.h=r(f),n.c=i(f),n.l=a(f),n.opacity=o(f),n+""}}}const Mm=xm(wf);function Gs(t){return function n(e){e=+e;function r(i,a){var o=t((i=en(i)).h,(a=en(a)).h),f=xt(i.s,a.s),u=xt(i.l,a.l),s=xt(i.opacity,a.opacity);return function(c){return i.h=o(c),i.s=f(c),i.l=u(Math.pow(c,e)),i.opacity=s(c),i+""}}return r.gamma=n,r}(1)}Gs(wf);var xf=Gs(xt);function ea(t,n){n===void 0&&(n=t,t=Ar);for(var e=0,r=n.length-1,i=n[0],a=new Array(r<0?0:r);e<r;)a[e]=t(i,i=n[++e]);return function(o){var f=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[f](o-f)}}function Ht(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}var _e=0,Je=0,Ve=0,Xs=1e3,Ti,je,Ai=0,Qn=0,ra=0,gr=typeof performance=="object"&&performance.now?performance:Date,Zs=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Mf(){return Qn||(Zs($m),Qn=gr.now()+ra)}function $m(){Qn=0}function Ci(){this._call=this._time=this._next=null}Ci.prototype=Ks.prototype={constructor:Ci,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Mf():+e)+(n==null?0:+n),!this._next&&je!==this&&(je?je._next=this:Ti=this,je=this),this._call=t,this._time=e,vo()},stop:function(){this._call&&(this._call=null,this._time=1/0,vo())}};function Ks(t,n,e){var r=new Ci;return r.restart(t,n,e),r}function _m(){Mf(),++_e;for(var t=Ti,n;t;)(n=Qn-t._time)>=0&&t._call.call(void 0,n),t=t._next;--_e}function Eu(){Qn=(Ai=gr.now())+ra,_e=Je=0;try{_m()}finally{_e=0,Tm(),Qn=0}}function Sm(){var t=gr.now(),n=t-Ai;n>Xs&&(ra-=n,Ai=t)}function Tm(){for(var t,n=Ti,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ti=e);je=t,vo(r)}function vo(t){if(!_e){Je&&(Je=clearTimeout(Je));var n=t-Qn;n>24?(t<1/0&&(Je=setTimeout(Eu,t-gr.now()-ra)),Ve&&(Ve=clearInterval(Ve))):(Ve||(Ai=gr.now(),Ve=setInterval(Sm,Xs)),_e=1,Zs(Eu))}}function Nu(t,n,e){var r=new Ci;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var Am=vs("start","end","cancel","interrupt"),Cm=[],Qs=0,ku=1,xo=2,hi=3,Du=4,Mo=5,pi=6;function ia(t,n,e,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(e in o)return;Em(t,e,{name:n,index:r,group:i,on:Am,tween:Cm,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Qs})}function $f(t,n){var e=Gt(t,n);if(e.state>Qs)throw new Error("too late; already scheduled");return e}function an(t,n){var e=Gt(t,n);if(e.state>hi)throw new Error("too late; already running");return e}function Gt(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Em(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=Ks(a,0,e.time);function a(s){e.state=ku,e.timer.restart(o,e.delay,e.time),e.delay<=s&&o(s-e.delay)}function o(s){var c,d,l,h;if(e.state!==ku)return u();for(c in r)if(h=r[c],h.name===e.name){if(h.state===hi)return Nu(o);h.state===Du?(h.state=pi,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[c]):+c<n&&(h.state=pi,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[c])}if(Nu(function(){e.state===hi&&(e.state=Du,e.timer.restart(f,e.delay,e.time),f(s))}),e.state=xo,e.on.call("start",t,t.__data__,e.index,e.group),e.state===xo){for(e.state=hi,i=new Array(l=e.tween.length),c=0,d=-1;c<l;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(i[++d]=h);i.length=d+1}}function f(s){for(var c=s<e.duration?e.ease.call(null,s/e.duration):(e.timer.restart(u),e.state=Mo,1),d=-1,l=i.length;++d<l;)i[d].call(t,c);e.state===Mo&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){e.state=pi,e.timer.stop(),delete r[n];for(var s in r)return;delete t.__transition}}function Nm(t,n){var e=t.__transition,r,i,a=!0,o;if(e){n=n==null?null:n+"";for(o in e){if((r=e[o]).name!==n){a=!1;continue}i=r.state>xo&&r.state<Mo,r.state=pi,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[o]}a&&delete t.__transition}}function km(t){return this.each(function(){Nm(this,t)})}function Dm(t,n){var e,r;return function(){var i=an(this,t),a=i.tween;if(a!==e){r=e=a;for(var o=0,f=r.length;o<f;++o)if(r[o].name===n){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Im(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var a=an(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var f={name:n,value:e},u=0,s=i.length;u<s;++u)if(i[u].name===n){i[u]=f;break}u===s&&i.push(f)}a.tween=i}}function Lm(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=Gt(this.node(),e).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((n==null?Dm:Im)(e,t,n))}function _f(t,n,e){var r=t._id;return t.each(function(){var i=an(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return Gt(i,r).value[n]}}function Js(t,n){var e;return(typeof n=="number"?wt:n instanceof Zn?Kn:(e=Zn(n))?(n=e,Kn):Hs)(t,n)}function Rm(t){return function(){this.removeAttribute(t)}}function Fm(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Pm(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=n(r=o,e)}}function Om(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=n(r=o,e)}}function Um(t,n,e){var r,i,a;return function(){var o,f=e(this),u;return f==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=f+"",o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,f)))}}function qm(t,n,e){var r,i,a;return function(){var o,f=e(this),u;return f==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=f+"",o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,f)))}}function zm(t,n){var e=Ji(t),r=e==="transform"?bm:Js;return this.attrTween(t,typeof n=="function"?(e.local?qm:Um)(e,r,_f(this,"attr."+t,n)):n==null?(e.local?Fm:Rm)(e):(e.local?Om:Pm)(e,r,n))}function Ym(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Bm(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Hm(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&Bm(t,a)),e}return i._value=n,i}function Wm(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&Ym(t,a)),e}return i._value=n,i}function Vm(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=Ji(t);return this.tween(e,(r.local?Hm:Wm)(r,n))}function Gm(t,n){return function(){$f(this,t).delay=+n.apply(this,arguments)}}function Xm(t,n){return n=+n,function(){$f(this,t).delay=n}}function Zm(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Gm:Xm)(n,t)):Gt(this.node(),n).delay}function Km(t,n){return function(){an(this,t).duration=+n.apply(this,arguments)}}function Qm(t,n){return n=+n,function(){an(this,t).duration=n}}function Jm(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Km:Qm)(n,t)):Gt(this.node(),n).duration}function jm(t,n){if(typeof n!="function")throw new Error;return function(){an(this,t).ease=n}}function tb(t){var n=this._id;return arguments.length?this.each(jm(n,t)):Gt(this.node(),n).ease}function nb(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;an(this,t).ease=e}}function eb(t){if(typeof t!="function")throw new Error;return this.each(nb(this._id,t))}function rb(t){typeof t!="function"&&(t=Ms(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,f=r[i]=[],u,s=0;s<o;++s)(u=a[s])&&t.call(u,u.__data__,s,a)&&f.push(u);return new xn(r,this._parents,this._name,this._id)}function ib(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),f=0;f<a;++f)for(var u=n[f],s=e[f],c=u.length,d=o[f]=new Array(c),l,h=0;h<c;++h)(l=u[h]||s[h])&&(d[h]=l);for(;f<r;++f)o[f]=n[f];return new xn(o,this._parents,this._name,this._id)}function ab(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function ob(t,n,e){var r,i,a=ab(n)?$f:an;return function(){var o=a(this,t),f=o.on;f!==r&&(i=(r=f).copy()).on(n,e),o.on=i}}function fb(t,n){var e=this._id;return arguments.length<2?Gt(this.node(),e).on.on(t):this.each(ob(e,t,n))}function ub(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function cb(){return this.on("end.remove",ub(this._id))}function sb(t){var n=this._name,e=this._id;typeof t!="function"&&(t=pf(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var f=r[o],u=f.length,s=a[o]=new Array(u),c,d,l=0;l<u;++l)(c=f[l])&&(d=t.call(c,c.__data__,l,f))&&("__data__"in c&&(d.__data__=c.__data__),s[l]=d,ia(s[l],n,e,l,s,Gt(c,e)));return new xn(a,this._parents,n,e)}function lb(t){var n=this._name,e=this._id;typeof t!="function"&&(t=xs(t));for(var r=this._groups,i=r.length,a=[],o=[],f=0;f<i;++f)for(var u=r[f],s=u.length,c,d=0;d<s;++d)if(c=u[d]){for(var l=t.call(c,c.__data__,d,u),h,p=Gt(c,e),g=0,b=l.length;g<b;++g)(h=l[g])&&ia(h,n,e,g,l,p);a.push(l),o.push(c)}return new xn(a,o,n,e)}var db=Sr.prototype.constructor;function hb(){return new db(this._groups,this._parents)}function pb(t,n){var e,r,i;return function(){var a=Me(this,t),o=(this.style.removeProperty(t),Me(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}function js(t){return function(){this.style.removeProperty(t)}}function gb(t,n,e){var r,i=e+"",a;return function(){var o=Me(this,t);return o===i?null:o===r?a:a=n(r=o,e)}}function mb(t,n,e){var r,i,a;return function(){var o=Me(this,t),f=e(this),u=f+"";return f==null&&(u=f=(this.style.removeProperty(t),Me(this,t))),o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,f))}}function bb(t,n){var e,r,i,a="style."+n,o="end."+a,f;return function(){var u=an(this,t),s=u.on,c=u.value[a]==null?f||(f=js(n)):void 0;(s!==e||i!==c)&&(r=(e=s).copy()).on(o,i=c),u.on=r}}function yb(t,n,e){var r=(t+="")=="transform"?mm:Js;return n==null?this.styleTween(t,pb(t,r)).on("end.style."+t,js(t)):typeof n=="function"?this.styleTween(t,mb(t,r,_f(this,"style."+t,n))).each(bb(this._id,t)):this.styleTween(t,gb(t,r,n),e).on("end.style."+t,null)}function wb(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function vb(t,n,e){var r,i;function a(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&wb(t,o,e)),r}return a._value=n,a}function xb(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,vb(t,n,e??""))}function Mb(t){return function(){this.textContent=t}}function $b(t){return function(){var n=t(this);this.textContent=n??""}}function _b(t){return this.tween("text",typeof t=="function"?$b(_f(this,"text",t)):Mb(t==null?"":t+""))}function Sb(t){return function(n){this.textContent=t.call(this,n)}}function Tb(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&Sb(i)),n}return r._value=t,r}function Ab(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Tb(t))}function Cb(){for(var t=this._name,n=this._id,e=tl(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],f=o.length,u,s=0;s<f;++s)if(u=o[s]){var c=Gt(u,n);ia(u,t,e,s,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new xn(r,this._parents,t,e)}function Eb(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(a,o){var f={value:o},u={value:function(){--i===0&&a()}};e.each(function(){var s=an(this,r),c=s.on;c!==t&&(n=(t=c).copy(),n._.cancel.push(f),n._.interrupt.push(f),n._.end.push(u)),s.on=n}),i===0&&a()})}var Nb=0;function xn(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function tl(){return++Nb}var cn=Sr.prototype;xn.prototype={constructor:xn,select:sb,selectAll:lb,selectChild:cn.selectChild,selectChildren:cn.selectChildren,filter:rb,merge:ib,selection:hb,transition:Cb,call:cn.call,nodes:cn.nodes,node:cn.node,size:cn.size,empty:cn.empty,each:cn.each,on:fb,attr:zm,attrTween:Vm,style:yb,styleTween:xb,text:_b,textTween:Ab,remove:cb,tween:Lm,delay:Zm,duration:Jm,ease:tb,easeVarying:eb,end:Eb,[Symbol.iterator]:cn[Symbol.iterator]};function kb(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Db={time:null,delay:0,duration:250,ease:kb};function Ib(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Lb(t){var n,e;t instanceof xn?(n=t._id,t=t._name):(n=tl(),(e=Db).time=Mf(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],f=o.length,u,s=0;s<f;++s)(u=o[s])&&ia(u,t,n,s,o,e||Ib(u,n));return new xn(r,this._parents,t,n)}Sr.prototype.interrupt=km;Sr.prototype.transition=Lb;const $o=Math.PI,_o=2*$o,qn=1e-6,Rb=_o-qn;function nl(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Fb(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return nl;const e=10**n;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class Pb{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?nl:Fb(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,a,o){this._append`C${+n},${+e},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(n,e,r,i,a){if(n=+n,e=+e,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,f=this._y1,u=r-n,s=i-e,c=o-n,d=f-e,l=c*c+d*d;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(l>qn)if(!(Math.abs(d*u-s*c)>qn)||!a)this._append`L${this._x1=n},${this._y1=e}`;else{let h=r-o,p=i-f,g=u*u+s*s,b=h*h+p*p,w=Math.sqrt(g),y=Math.sqrt(l),v=a*Math.tan(($o-Math.acos((g+l-b)/(2*w*y)))/2),m=v/y,M=v/w;Math.abs(m-1)>qn&&this._append`L${n+m*c},${e+m*d}`,this._append`A${a},${a},0,0,${+(d*h>c*p)},${this._x1=n+M*u},${this._y1=e+M*s}`}}arc(n,e,r,i,a,o){if(n=+n,e=+e,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),u=r*Math.sin(i),s=n+f,c=e+u,d=1^o,l=o?i-a:a-i;this._x1===null?this._append`M${s},${c}`:(Math.abs(this._x1-s)>qn||Math.abs(this._y1-c)>qn)&&this._append`L${s},${c}`,r&&(l<0&&(l=l%_o+_o),l>Rb?this._append`A${r},${r},0,1,${d},${n-f},${e-u}A${r},${r},0,1,${d},${this._x1=s},${this._y1=c}`:l>qn&&this._append`A${r},${r},0,${+(l>=$o)},${d},${this._x1=n+r*Math.cos(a)},${this._y1=e+r*Math.sin(a)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function So(t=3){return new Pb(+t)}function Ob(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ei(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Se(t){return t=Ei(Math.abs(t)),t?t[1]:NaN}function Ub(t,n){return function(e,r){for(var i=e.length,a=[],o=0,f=t[0],u=0;i>0&&f>0&&(u+f+1>r&&(f=Math.max(1,r-u)),a.push(e.substring(i-=f,i+f)),!((u+=f+1)>r));)f=t[o=(o+1)%t.length];return a.reverse().join(n)}}function qb(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var zb=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mr(t){if(!(n=zb.exec(t)))throw new Error("invalid format: "+t);var n;return new Sf({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}mr.prototype=Sf.prototype;function Sf(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Sf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Yb(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var el;function Bb(t,n){var e=Ei(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(el=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ei(t,Math.max(0,n+a-1))[0]}function Iu(t,n){var e=Ei(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Lu={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ob,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Iu(t*100,n),r:Iu,s:Bb,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ru(t){return t}var Fu=Array.prototype.map,Pu=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Hb(t){var n=t.grouping===void 0||t.thousands===void 0?Ru:Ub(Fu.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Ru:qb(Fu.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function s(d){d=mr(d);var l=d.fill,h=d.align,p=d.sign,g=d.symbol,b=d.zero,w=d.width,y=d.comma,v=d.precision,m=d.trim,M=d.type;M==="n"?(y=!0,M="g"):Lu[M]||(v===void 0&&(v=12),m=!0,M="g"),(b||l==="0"&&h==="=")&&(b=!0,l="0",h="=");var x=g==="$"?e:g==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",_=g==="$"?r:/[%p]/.test(M)?o:"",S=Lu[M],A=/[defgprs%]/.test(M);v=v===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function N($){var D=x,F=_,L,T,P;if(M==="c")F=S($)+F,$="";else{$=+$;var k=$<0||1/$<0;if($=isNaN($)?u:S(Math.abs($),v),m&&($=Yb($)),k&&+$==0&&p!=="+"&&(k=!1),D=(k?p==="("?p:f:p==="-"||p==="("?"":p)+D,F=(M==="s"?Pu[8+el/3]:"")+F+(k&&p==="("?")":""),A){for(L=-1,T=$.length;++L<T;)if(P=$.charCodeAt(L),48>P||P>57){F=(P===46?i+$.slice(L+1):$.slice(L))+F,$=$.slice(0,L);break}}}y&&!b&&($=n($,1/0));var B=D.length+$.length+F.length,W=B<w?new Array(w-B+1).join(l):"";switch(y&&b&&($=n(W+$,W.length?w-F.length:1/0),W=""),h){case"<":$=D+$+F+W;break;case"=":$=D+W+$+F;break;case"^":$=W.slice(0,B=W.length>>1)+D+$+F+W.slice(B);break;default:$=W+D+$+F;break}return a($)}return N.toString=function(){return d+""},N}function c(d,l){var h=s((d=mr(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(Se(l)/3)))*3,g=Math.pow(10,-p),b=Pu[8+p/3];return function(w){return h(g*w)+b}}return{format:s,formatPrefix:c}}var Zr,Oe,rl;Wb({thousands:",",grouping:[3],currency:["$",""]});function Wb(t){return Zr=Hb(t),Oe=Zr.format,rl=Zr.formatPrefix,Zr}function Vb(t){return Math.max(0,-Se(Math.abs(t)))}function Gb(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Se(n)/3)))*3-Se(Math.abs(t)))}function Xb(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Se(n)-Se(t))+1}var Q=1e-6,il=1e-12,tt=Math.PI,ct=tt/2,Ou=tt/4,kt=tt*2,$t=180/tt,ut=tt/180,rt=Math.abs,Ue=Math.atan,Mn=Math.atan2,j=Math.cos,al=Math.exp,Ni=Math.log,Ia=Math.pow,Z=Math.sin,Rt=Math.sign||function(t){return t>0?1:t<0?-1:0},Tt=Math.sqrt,Tf=Math.tan;function ol(t){return t>1?0:t<-1?tt:Math.acos(t)}function Ut(t){return t>1?ct:t<-1?-ct:Math.asin(t)}function Ft(){}function ki(t,n){t&&qu.hasOwnProperty(t.type)&&qu[t.type](t,n)}var Uu={Feature:function(t,n){ki(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)ki(e[r].geometry,n)}},qu={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){To(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)To(e[r],n,0)},Polygon:function(t,n){zu(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)zu(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)ki(e[r],n)}};function To(t,n,e){var r=-1,i=t.length-e,a;for(n.lineStart();++r<i;)a=t[r],n.point(a[0],a[1],a[2]);n.lineEnd()}function zu(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)To(t[e],n,1);n.polygonEnd()}function zn(t,n){t&&Uu.hasOwnProperty(t.type)?Uu[t.type](t,n):ki(t,n)}function Ao(t){return[Mn(t[1],t[0]),Ut(t[2])]}function Te(t){var n=t[0],e=t[1],r=j(e);return[r*j(n),r*Z(n),Z(e)]}function Kr(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Di(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function La(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Qr(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Co(t){var n=Tt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Eo(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function No(t,n){return rt(t)>tt&&(t-=Math.round(t/kt)*kt),[t,n]}No.invert=No;function fl(t,n,e){return(t%=kt)?n||e?Eo(Bu(t),Hu(n,e)):Bu(t):n||e?Hu(n,e):No}function Yu(t){return function(n,e){return n+=t,rt(n)>tt&&(n-=Math.round(n/kt)*kt),[n,e]}}function Bu(t){var n=Yu(t);return n.invert=Yu(-t),n}function Hu(t,n){var e=j(t),r=Z(t),i=j(n),a=Z(n);function o(f,u){var s=j(u),c=j(f)*s,d=Z(f)*s,l=Z(u),h=l*e+c*r;return[Mn(d*i-h*a,c*e-l*r),Ut(h*i+d*a)]}return o.invert=function(f,u){var s=j(u),c=j(f)*s,d=Z(f)*s,l=Z(u),h=l*i-d*a;return[Mn(d*i+l*a,c*e+h*r),Ut(h*e-c*r)]},o}function Zb(t){t=fl(t[0]*ut,t[1]*ut,t.length>2?t[2]*ut:0);function n(e){return e=t(e[0]*ut,e[1]*ut),e[0]*=$t,e[1]*=$t,e}return n.invert=function(e){return e=t.invert(e[0]*ut,e[1]*ut),e[0]*=$t,e[1]*=$t,e},n}function Kb(t,n,e,r,i,a){if(e){var o=j(n),f=Z(n),u=r*e;i==null?(i=n+r*kt,a=n-u/2):(i=Wu(o,i),a=Wu(o,a),(r>0?i<a:i>a)&&(i+=r*kt));for(var s,c=i;r>0?c>a:c<a;c-=u)s=Ao([o,-f*j(c),-f*Z(c)]),t.point(s[0],s[1])}}function Wu(t,n){n=Te(n),n[0]-=t,Co(n);var e=ol(-n[1]);return((-n[2]<0?-e:e)+kt-Q)%kt}function ul(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:Ft,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function gi(t,n){return rt(t[0]-n[0])<Q&&rt(t[1]-n[1])<Q}function Jr(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function cl(t,n,e,r,i){var a=[],o=[],f,u;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,b=p[0],w=p[g],y;if(gi(b,w)){if(!b[2]&&!w[2]){for(i.lineStart(),f=0;f<g;++f)i.point((b=p[f])[0],b[1]);i.lineEnd();return}w[0]+=2*Q}a.push(y=new Jr(b,p,null,!0)),o.push(y.o=new Jr(b,null,y,!1)),a.push(y=new Jr(w,p,null,!1)),o.push(y.o=new Jr(w,null,y,!0))}}),!!a.length){for(o.sort(n),Vu(a),Vu(o),f=0,u=o.length;f<u;++f)o[f].e=e=!e;for(var s=a[0],c,d;;){for(var l=s,h=!0;l.v;)if((l=l.n)===s)return;c=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(f=0,u=c.length;f<u;++f)i.point((d=c[f])[0],d[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(h)for(c=l.p.z,f=c.length-1;f>=0;--f)i.point((d=c[f])[0],d[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,c=l.z,h=!h}while(!l.v);i.lineEnd()}}}function Vu(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Ra(t){return rt(t[0])<=tt?t[0]:Rt(t[0])*((rt(t[0])+tt)%kt-tt)}function Qb(t,n){var e=Ra(n),r=n[1],i=Z(r),a=[Z(e),-j(e),0],o=0,f=0,u=new Gn;i===1?r=ct+Q:i===-1&&(r=-ct-Q);for(var s=0,c=t.length;s<c;++s)if(l=(d=t[s]).length)for(var d,l,h=d[l-1],p=Ra(h),g=h[1]/2+Ou,b=Z(g),w=j(g),y=0;y<l;++y,p=m,b=x,w=_,h=v){var v=d[y],m=Ra(v),M=v[1]/2+Ou,x=Z(M),_=j(M),S=m-p,A=S>=0?1:-1,N=A*S,$=N>tt,D=b*x;if(u.add(Mn(D*A*Z(N),w*_+D*j(N))),o+=$?S+A*kt:S,$^p>=e^m>=e){var F=Di(Te(h),Te(v));Co(F);var L=Di(a,F);Co(L);var T=($^S>=0?-1:1)*Ut(L[2]);(r>T||r===T&&(F[0]||F[1]))&&(f+=$^S>=0?1:-1)}}return(o<-Q||o<Q&&u<-il)^f&1}function sl(t,n,e,r){return function(i){var a=n(i),o=ul(),f=n(o),u=!1,s,c,d,l={point:h,lineStart:g,lineEnd:b,polygonStart:function(){l.point=w,l.lineStart=y,l.lineEnd=v,c=[],s=[]},polygonEnd:function(){l.point=h,l.lineStart=g,l.lineEnd=b,c=ws(c);var m=Qb(s,r);c.length?(u||(i.polygonStart(),u=!0),cl(c,jb,m,e,i)):m&&(u||(i.polygonStart(),u=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),c=s=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(m,M){t(m,M)&&i.point(m,M)}function p(m,M){a.point(m,M)}function g(){l.point=p,a.lineStart()}function b(){l.point=h,a.lineEnd()}function w(m,M){d.push([m,M]),f.point(m,M)}function y(){f.lineStart(),d=[]}function v(){w(d[0][0],d[0][1]),f.lineEnd();var m=f.clean(),M=o.result(),x,_=M.length,S,A,N;if(d.pop(),s.push(d),d=null,!!_){if(m&1){if(A=M[0],(S=A.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),x=0;x<S;++x)i.point((N=A[x])[0],N[1]);i.lineEnd()}return}_>1&&m&2&&M.push(M.pop().concat(M.shift())),c.push(M.filter(Jb))}}return l}}function Jb(t){return t.length>1}function jb(t,n){return((t=t.x)[0]<0?t[1]-ct-Q:ct-t[1])-((n=n.x)[0]<0?n[1]-ct-Q:ct-n[1])}const Gu=sl(function(){return!0},t2,e2,[-tt,-ct]);function t2(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var f=a>0?tt:-tt,u=rt(a-n);rt(u-tt)<Q?(t.point(n,e=(e+o)/2>0?ct:-ct),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),t.point(a,e),i=0):r!==f&&u>=tt&&(rt(n-r)<Q&&(n-=r*Q),rt(a-f)<Q&&(a-=f*Q),e=n2(n,e,a,o),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),i=0),t.point(n=a,e=o),r=f},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function n2(t,n,e,r){var i,a,o=Z(t-e);return rt(o)>Q?Ue((Z(n)*(a=j(r))*Z(e)-Z(r)*(i=j(n))*Z(t))/(i*a*o)):(n+r)/2}function e2(t,n,e,r){var i;if(t==null)i=e*ct,r.point(-tt,i),r.point(0,i),r.point(tt,i),r.point(tt,0),r.point(tt,-i),r.point(0,-i),r.point(-tt,-i),r.point(-tt,0),r.point(-tt,i);else if(rt(t[0]-n[0])>Q){var a=t[0]<n[0]?tt:-tt;i=e*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(n[0],n[1])}function r2(t){var n=j(t),e=2*ut,r=n>0,i=rt(n)>Q;function a(c,d,l,h){Kb(h,t,e,l,c,d)}function o(c,d){return j(c)*j(d)>n}function f(c){var d,l,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(b,w){var y=[b,w],v,m=o(b,w),M=r?m?0:s(b,w):m?s(b+(b<0?tt:-tt),w):0;if(!d&&(p=h=m)&&c.lineStart(),m!==h&&(v=u(d,y),(!v||gi(d,v)||gi(y,v))&&(y[2]=1)),m!==h)g=0,m?(c.lineStart(),v=u(y,d),c.point(v[0],v[1])):(v=u(d,y),c.point(v[0],v[1],2),c.lineEnd()),d=v;else if(i&&d&&r^m){var x;!(M&l)&&(x=u(y,d,!0))&&(g=0,r?(c.lineStart(),c.point(x[0][0],x[0][1]),c.point(x[1][0],x[1][1]),c.lineEnd()):(c.point(x[1][0],x[1][1]),c.lineEnd(),c.lineStart(),c.point(x[0][0],x[0][1],3)))}m&&(!d||!gi(d,y))&&c.point(y[0],y[1]),d=y,h=m,l=M},lineEnd:function(){h&&c.lineEnd(),d=null},clean:function(){return g|(p&&h)<<1}}}function u(c,d,l){var h=Te(c),p=Te(d),g=[1,0,0],b=Di(h,p),w=Kr(b,b),y=b[0],v=w-y*y;if(!v)return!l&&c;var m=n*w/v,M=-n*y/v,x=Di(g,b),_=Qr(g,m),S=Qr(b,M);La(_,S);var A=x,N=Kr(_,A),$=Kr(A,A),D=N*N-$*(Kr(_,_)-1);if(!(D<0)){var F=Tt(D),L=Qr(A,(-N-F)/$);if(La(L,_),L=Ao(L),!l)return L;var T=c[0],P=d[0],k=c[1],B=d[1],W;P<T&&(W=T,T=P,P=W);var I=P-T,O=rt(I-tt)<Q,z=O||I<Q;if(!O&&B<k&&(W=k,k=B,B=W),z?O?k+B>0^L[1]<(rt(L[0]-T)<Q?k:B):k<=L[1]&&L[1]<=B:I>tt^(T<=L[0]&&L[0]<=P)){var R=Qr(A,(-N+F)/$);return La(R,_),[L,Ao(R)]}}}function s(c,d){var l=r?t:tt-t,h=0;return c<-l?h|=1:c>l&&(h|=2),d<-l?h|=4:d>l&&(h|=8),h}return sl(o,f,a,r?[0,-t]:[-tt,t-tt])}function i2(t,n,e,r,i,a){var o=t[0],f=t[1],u=n[0],s=n[1],c=0,d=1,l=u-o,h=s-f,p;if(p=e-o,!(!l&&p>0)){if(p/=l,l<0){if(p<c)return;p<d&&(d=p)}else if(l>0){if(p>d)return;p>c&&(c=p)}if(p=i-o,!(!l&&p<0)){if(p/=l,l<0){if(p>d)return;p>c&&(c=p)}else if(l>0){if(p<c)return;p<d&&(d=p)}if(p=r-f,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>c&&(c=p)}if(p=a-f,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<d&&(d=p)}return c>0&&(t[0]=o+c*l,t[1]=f+c*h),d<1&&(n[0]=o+d*l,n[1]=f+d*h),!0}}}}}var tr=1e9,jr=-tr;function ll(t,n,e,r){function i(s,c){return t<=s&&s<=e&&n<=c&&c<=r}function a(s,c,d,l){var h=0,p=0;if(s==null||(h=o(s,d))!==(p=o(c,d))||u(s,c)<0^d>0)do l.point(h===0||h===3?t:e,h>1?r:n);while((h=(h+d+4)%4)!==p);else l.point(c[0],c[1])}function o(s,c){return rt(s[0]-t)<Q?c>0?0:3:rt(s[0]-e)<Q?c>0?2:1:rt(s[1]-n)<Q?c>0?1:0:c>0?3:2}function f(s,c){return u(s.x,c.x)}function u(s,c){var d=o(s,1),l=o(c,1);return d!==l?d-l:d===0?c[1]-s[1]:d===1?s[0]-c[0]:d===2?s[1]-c[1]:c[0]-s[0]}return function(s){var c=s,d=ul(),l,h,p,g,b,w,y,v,m,M,x,_={point:S,lineStart:D,lineEnd:F,polygonStart:N,polygonEnd:$};function S(T,P){i(T,P)&&c.point(T,P)}function A(){for(var T=0,P=0,k=h.length;P<k;++P)for(var B=h[P],W=1,I=B.length,O=B[0],z,R,X=O[0],nt=O[1];W<I;++W)z=X,R=nt,O=B[W],X=O[0],nt=O[1],R<=r?nt>r&&(X-z)*(r-R)>(nt-R)*(t-z)&&++T:nt<=r&&(X-z)*(r-R)<(nt-R)*(t-z)&&--T;return T}function N(){c=d,l=[],h=[],x=!0}function $(){var T=A(),P=x&&T,k=(l=ws(l)).length;(P||k)&&(s.polygonStart(),P&&(s.lineStart(),a(null,null,1,s),s.lineEnd()),k&&cl(l,f,T,a,s),s.polygonEnd()),c=s,l=h=p=null}function D(){_.point=L,h&&h.push(p=[]),M=!0,m=!1,y=v=NaN}function F(){l&&(L(g,b),w&&m&&d.rejoin(),l.push(d.result())),_.point=S,m&&c.lineEnd()}function L(T,P){var k=i(T,P);if(h&&p.push([T,P]),M)g=T,b=P,w=k,M=!1,k&&(c.lineStart(),c.point(T,P));else if(k&&m)c.point(T,P);else{var B=[y=Math.max(jr,Math.min(tr,y)),v=Math.max(jr,Math.min(tr,v))],W=[T=Math.max(jr,Math.min(tr,T)),P=Math.max(jr,Math.min(tr,P))];i2(B,W,t,n,e,r)?(m||(c.lineStart(),c.point(B[0],B[1])),c.point(W[0],W[1]),k||c.lineEnd(),x=!1):k&&(c.lineStart(),c.point(T,P),x=!1)}y=T,v=P,m=k}return _}}const ko=t=>t;var Fa=new Gn,Do=new Gn,dl,hl,Io,Lo,gn={point:Ft,lineStart:Ft,lineEnd:Ft,polygonStart:function(){gn.lineStart=a2,gn.lineEnd=f2},polygonEnd:function(){gn.lineStart=gn.lineEnd=gn.point=Ft,Fa.add(rt(Do)),Do=new Gn},result:function(){var t=Fa/2;return Fa=new Gn,t}};function a2(){gn.point=o2}function o2(t,n){gn.point=pl,dl=Io=t,hl=Lo=n}function pl(t,n){Do.add(Lo*t-Io*n),Io=t,Lo=n}function f2(){pl(dl,hl)}var Ae=1/0,Ii=Ae,br=-Ae,Li=br,Ri={point:u2,lineStart:Ft,lineEnd:Ft,polygonStart:Ft,polygonEnd:Ft,result:function(){var t=[[Ae,Ii],[br,Li]];return br=Li=-(Ii=Ae=1/0),t}};function u2(t,n){t<Ae&&(Ae=t),t>br&&(br=t),n<Ii&&(Ii=n),n>Li&&(Li=n)}var Ro=0,Fo=0,nr=0,Fi=0,Pi=0,me=0,Po=0,Oo=0,er=0,gl,ml,Kt,Qt,Lt={point:Jn,lineStart:Xu,lineEnd:Zu,polygonStart:function(){Lt.lineStart=l2,Lt.lineEnd=d2},polygonEnd:function(){Lt.point=Jn,Lt.lineStart=Xu,Lt.lineEnd=Zu},result:function(){var t=er?[Po/er,Oo/er]:me?[Fi/me,Pi/me]:nr?[Ro/nr,Fo/nr]:[NaN,NaN];return Ro=Fo=nr=Fi=Pi=me=Po=Oo=er=0,t}};function Jn(t,n){Ro+=t,Fo+=n,++nr}function Xu(){Lt.point=c2}function c2(t,n){Lt.point=s2,Jn(Kt=t,Qt=n)}function s2(t,n){var e=t-Kt,r=n-Qt,i=Tt(e*e+r*r);Fi+=i*(Kt+t)/2,Pi+=i*(Qt+n)/2,me+=i,Jn(Kt=t,Qt=n)}function Zu(){Lt.point=Jn}function l2(){Lt.point=h2}function d2(){bl(gl,ml)}function h2(t,n){Lt.point=bl,Jn(gl=Kt=t,ml=Qt=n)}function bl(t,n){var e=t-Kt,r=n-Qt,i=Tt(e*e+r*r);Fi+=i*(Kt+t)/2,Pi+=i*(Qt+n)/2,me+=i,i=Qt*t-Kt*n,Po+=i*(Kt+t),Oo+=i*(Qt+n),er+=i*3,Jn(Kt=t,Qt=n)}function yl(t){this._context=t}yl.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,kt);break}}},result:Ft};var Uo=new Gn,Pa,wl,vl,rr,ir,yr={point:Ft,lineStart:function(){yr.point=p2},lineEnd:function(){Pa&&xl(wl,vl),yr.point=Ft},polygonStart:function(){Pa=!0},polygonEnd:function(){Pa=null},result:function(){var t=+Uo;return Uo=new Gn,t}};function p2(t,n){yr.point=xl,wl=rr=t,vl=ir=n}function xl(t,n){rr-=t,ir-=n,Uo.add(Tt(rr*rr+ir*ir)),rr=t,ir=n}let Ku,Oi,Qu,Ju;class ju{constructor(n){this._append=n==null?Ml:g2(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==Qu||this._append!==Oi){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Qu=r,Oi=this._append,Ju=this._,this._=i}this._+=Ju;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Ml(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function g2(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Ml;if(n!==Ku){const e=10**n;Ku=n,Oi=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*e)/e+i[a]}}return Oi}function Af(t,n){let e=3,r=4.5,i,a;function o(f){return f&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),zn(f,i(a))),a.result()}return o.area=function(f){return zn(f,i(gn)),gn.result()},o.measure=function(f){return zn(f,i(yr)),yr.result()},o.bounds=function(f){return zn(f,i(Ri)),Ri.result()},o.centroid=function(f){return zn(f,i(Lt)),Lt.result()},o.projection=function(f){return arguments.length?(i=f==null?(t=null,ko):(t=f).stream,o):t},o.context=function(f){return arguments.length?(a=f==null?(n=null,new ju(e)):new yl(n=f),typeof r!="function"&&a.pointRadius(r),o):n},o.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(a.pointRadius(+f),+f),o):r},o.digits=function(f){if(!arguments.length)return e;if(f==null)e=null;else{const u=Math.floor(f);if(!(u>=0))throw new RangeError(`invalid digits: ${f}`);e=u}return n===null&&(a=new ju(e)),o},o.projection(t).digits(e).context(n)}function Ui(t){return{stream:aa(t)}}function aa(t){return function(n){var e=new qo;for(var r in t)e[r]=t[r];return e.stream=n,e}}function qo(){}qo.prototype={constructor:qo,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Cf(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),zn(e,t.stream(Ri)),n(Ri.result()),r!=null&&t.clipExtent(r),t}function Ef(t,n,e){return Cf(t,function(r){var i=n[1][0]-n[0][0],a=n[1][1]-n[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),f=+n[0][0]+(i-o*(r[1][0]+r[0][0]))/2,u=+n[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([f,u])},e)}function $l(t,n,e){return Ef(t,[[0,0],n],e)}function _l(t,n,e){return Cf(t,function(r){var i=+n,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,f=-a*r[0][1];t.scale(150*a).translate([o,f])},e)}function Sl(t,n,e){return Cf(t,function(r){var i=+n,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],f=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,f])},e)}var tc=16,m2=j(30*ut);function nc(t,n){return+n?y2(t,n):b2(t)}function b2(t){return aa({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function y2(t,n){function e(r,i,a,o,f,u,s,c,d,l,h,p,g,b){var w=s-r,y=c-i,v=w*w+y*y;if(v>4*n&&g--){var m=o+l,M=f+h,x=u+p,_=Tt(m*m+M*M+x*x),S=Ut(x/=_),A=rt(rt(x)-1)<Q||rt(a-d)<Q?(a+d)/2:Mn(M,m),N=t(A,S),$=N[0],D=N[1],F=$-r,L=D-i,T=y*F-w*L;(T*T/v>n||rt((w*F+y*L)/v-.5)>.3||o*l+f*h+u*p<m2)&&(e(r,i,a,o,f,u,$,D,A,m/=_,M/=_,x,g,b),b.point($,D),e($,D,A,m,M,x,s,c,d,l,h,p,g,b))}}return function(r){var i,a,o,f,u,s,c,d,l,h,p,g,b={point:w,lineStart:y,lineEnd:m,polygonStart:function(){r.polygonStart(),b.lineStart=M},polygonEnd:function(){r.polygonEnd(),b.lineStart=y}};function w(S,A){S=t(S,A),r.point(S[0],S[1])}function y(){d=NaN,b.point=v,r.lineStart()}function v(S,A){var N=Te([S,A]),$=t(S,A);e(d,l,c,h,p,g,d=$[0],l=$[1],c=S,h=N[0],p=N[1],g=N[2],tc,r),r.point(d,l)}function m(){b.point=w,r.lineEnd()}function M(){y(),b.point=x,b.lineEnd=_}function x(S,A){v(i=S,A),a=d,o=l,f=h,u=p,s=g,b.point=v}function _(){e(d,l,c,h,p,g,a,o,i,f,u,s,tc,r),b.lineEnd=m,m()}return b}}var w2=aa({point:function(t,n){this.stream.point(t*ut,n*ut)}});function v2(t){return aa({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function x2(t,n,e,r,i){function a(o,f){return o*=r,f*=i,[n+t*o,e-t*f]}return a.invert=function(o,f){return[(o-n)/t*r,(e-f)/t*i]},a}function ec(t,n,e,r,i,a){if(!a)return x2(t,n,e,r,i);var o=j(a),f=Z(a),u=o*t,s=f*t,c=o/t,d=f/t,l=(f*e-o*n)/t,h=(f*n+o*e)/t;function p(g,b){return g*=r,b*=i,[u*g-s*b+n,e-s*g-u*b]}return p.invert=function(g,b){return[r*(c*g-d*b+l),i*(h-d*g-c*b)]},p}function Fn(t){return Tl(function(){return t})()}function Tl(t){var n,e=150,r=480,i=250,a=0,o=0,f=0,u=0,s=0,c,d=0,l=1,h=1,p=null,g=Gu,b=null,w,y,v,m=ko,M=.5,x,_,S,A,N;function $(T){return S(T[0]*ut,T[1]*ut)}function D(T){return T=S.invert(T[0],T[1]),T&&[T[0]*$t,T[1]*$t]}$.stream=function(T){return A&&N===T?A:A=w2(v2(c)(g(x(m(N=T)))))},$.preclip=function(T){return arguments.length?(g=T,p=void 0,L()):g},$.postclip=function(T){return arguments.length?(m=T,b=w=y=v=null,L()):m},$.clipAngle=function(T){return arguments.length?(g=+T?r2(p=T*ut):(p=null,Gu),L()):p*$t},$.clipExtent=function(T){return arguments.length?(m=T==null?(b=w=y=v=null,ko):ll(b=+T[0][0],w=+T[0][1],y=+T[1][0],v=+T[1][1]),L()):b==null?null:[[b,w],[y,v]]},$.scale=function(T){return arguments.length?(e=+T,F()):e},$.translate=function(T){return arguments.length?(r=+T[0],i=+T[1],F()):[r,i]},$.center=function(T){return arguments.length?(a=T[0]%360*ut,o=T[1]%360*ut,F()):[a*$t,o*$t]},$.rotate=function(T){return arguments.length?(f=T[0]%360*ut,u=T[1]%360*ut,s=T.length>2?T[2]%360*ut:0,F()):[f*$t,u*$t,s*$t]},$.angle=function(T){return arguments.length?(d=T%360*ut,F()):d*$t},$.reflectX=function(T){return arguments.length?(l=T?-1:1,F()):l<0},$.reflectY=function(T){return arguments.length?(h=T?-1:1,F()):h<0},$.precision=function(T){return arguments.length?(x=nc(_,M=T*T),L()):Tt(M)},$.fitExtent=function(T,P){return Ef($,T,P)},$.fitSize=function(T,P){return $l($,T,P)},$.fitWidth=function(T,P){return _l($,T,P)},$.fitHeight=function(T,P){return Sl($,T,P)};function F(){var T=ec(e,0,0,l,h,d).apply(null,n(a,o)),P=ec(e,r-T[0],i-T[1],l,h,d);return c=fl(f,u,s),_=Eo(n,P),S=Eo(c,_),x=nc(_,M),L()}function L(){return A=N=null,$}return function(){return n=t.apply(this,arguments),$.invert=n.invert&&D,F()}}function Nf(t){var n=0,e=tt/3,r=Tl(t),i=r(n,e);return i.parallels=function(a){return arguments.length?r(n=a[0]*ut,e=a[1]*ut):[n*$t,e*$t]},i}function M2(t){var n=j(t);function e(r,i){return[r*n,Z(i)/n]}return e.invert=function(r,i){return[r/n,Ut(i*n)]},e}function $2(t,n){var e=Z(t),r=(e+Z(n))/2;if(rt(r)<Q)return M2(t);var i=1+e*(2*r-e),a=Tt(i)/r;function o(f,u){var s=Tt(i-2*r*Z(u))/r;return[s*Z(f*=r),a-s*j(f)]}return o.invert=function(f,u){var s=a-u,c=Mn(f,rt(s))*Rt(s);return s*r<0&&(c-=tt*Rt(f)*Rt(s)),[c/r,Ut((i-(f*f+s*s)*r*r)/(2*r))]},o}function qi(){return Nf($2).scale(155.424).center([0,33.6442])}function Al(){return qi().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function _2(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function S2(){var t,n,e=Al(),r,i=qi().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=qi().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,u,s={point:function(l,h){u=[l,h]}};function c(l){var h=l[0],p=l[1];return u=null,r.point(h,p),u||(a.point(h,p),u)||(f.point(h,p),u)}c.invert=function(l){var h=e.scale(),p=e.translate(),g=(l[0]-p[0])/h,b=(l[1]-p[1])/h;return(b>=.12&&b<.234&&g>=-.425&&g<-.214?i:b>=.166&&b<.234&&g>=-.214&&g<-.115?o:e).invert(l)},c.stream=function(l){return t&&n===l?t:t=_2([e.stream(n=l),i.stream(l),o.stream(l)])},c.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),o.precision(l),d()):e.precision()},c.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*.35),o.scale(l),c.translate(e.translate())):e.scale()},c.translate=function(l){if(!arguments.length)return e.translate();var h=e.scale(),p=+l[0],g=+l[1];return r=e.translate(l).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(s),a=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+Q,g+.12*h+Q],[p-.214*h-Q,g+.234*h-Q]]).stream(s),f=o.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+Q,g+.166*h+Q],[p-.115*h-Q,g+.234*h-Q]]).stream(s),d()},c.fitExtent=function(l,h){return Ef(c,l,h)},c.fitSize=function(l,h){return $l(c,l,h)},c.fitWidth=function(l,h){return _l(c,l,h)},c.fitHeight=function(l,h){return Sl(c,l,h)};function d(){return t=n=null,c}return c.scale(1070)}function Cl(t){return function(n,e){var r=j(n),i=j(e),a=t(r*i);return a===1/0?[2,0]:[a*i*Z(n),a*Z(e)]}}function Cr(t){return function(n,e){var r=Tt(n*n+e*e),i=t(r),a=Z(i),o=j(i);return[Mn(n*a,r*o),Ut(r&&e*a/r)]}}var El=Cl(function(t){return Tt(2/(1+t))});El.invert=Cr(function(t){return 2*Ut(t/2)});function T2(){return Fn(El).scale(124.75).clipAngle(180-.001)}var Nl=Cl(function(t){return(t=ol(t))&&t/Z(t)});Nl.invert=Cr(function(t){return t});function A2(){return Fn(Nl).scale(79.4188).clipAngle(180-.001)}function oa(t,n){return[t,Ni(Tf((ct+n)/2))]}oa.invert=function(t,n){return[t,2*Ue(al(n))-ct]};function C2(){return kl(oa).scale(961/kt)}function kl(t){var n=Fn(t),e=n.center,r=n.scale,i=n.translate,a=n.clipExtent,o=null,f,u,s;n.scale=function(d){return arguments.length?(r(d),c()):r()},n.translate=function(d){return arguments.length?(i(d),c()):i()},n.center=function(d){return arguments.length?(e(d),c()):e()},n.clipExtent=function(d){return arguments.length?(d==null?o=f=u=s=null:(o=+d[0][0],f=+d[0][1],u=+d[1][0],s=+d[1][1]),c()):o==null?null:[[o,f],[u,s]]};function c(){var d=tt*r(),l=n(Zb(n.rotate()).invert([0,0]));return a(o==null?[[l[0]-d,l[1]-d],[l[0]+d,l[1]+d]]:t===oa?[[Math.max(l[0]-d,o),f],[Math.min(l[0]+d,u),s]]:[[o,Math.max(l[1]-d,f)],[u,Math.min(l[1]+d,s)]])}return c()}function ti(t){return Tf((ct+t)/2)}function E2(t,n){var e=j(t),r=t===n?Z(t):Ni(e/j(n))/Ni(ti(n)/ti(t)),i=e*Ia(ti(t),r)/r;if(!r)return oa;function a(o,f){i>0?f<-ct+Q&&(f=-ct+Q):f>ct-Q&&(f=ct-Q);var u=i/Ia(ti(f),r);return[u*Z(r*o),i-u*j(r*o)]}return a.invert=function(o,f){var u=i-f,s=Rt(r)*Tt(o*o+u*u),c=Mn(o,rt(u))*Rt(u);return u*r<0&&(c-=tt*Rt(o)*Rt(u)),[c/r,2*Ue(Ia(i/s,1/r))-ct]},a}function N2(){return Nf(E2).scale(109.5).parallels([30,30])}function zi(t,n){return[t,n]}zi.invert=zi;function k2(){return Fn(zi).scale(152.63)}function D2(t,n){var e=j(t),r=t===n?Z(t):(e-j(n))/(n-t),i=e/r+t;if(rt(r)<Q)return zi;function a(o,f){var u=i-f,s=r*o;return[u*Z(s),i-u*j(s)]}return a.invert=function(o,f){var u=i-f,s=Mn(o,rt(u))*Rt(u);return u*r<0&&(s-=tt*Rt(o)*Rt(u)),[s/r,i-Rt(r)*Tt(o*o+u*u)]},a}function I2(){return Nf(D2).scale(131.154).center([0,13.9389])}var fr=1.340264,ur=-.081106,cr=893e-6,sr=.003796,Yi=Tt(3)/2,L2=12;function Dl(t,n){var e=Ut(Yi*Z(n)),r=e*e,i=r*r*r;return[t*j(e)/(Yi*(fr+3*ur*r+i*(7*cr+9*sr*r))),e*(fr+ur*r+i*(cr+sr*r))]}Dl.invert=function(t,n){for(var e=n,r=e*e,i=r*r*r,a=0,o,f,u;a<L2&&(f=e*(fr+ur*r+i*(cr+sr*r))-n,u=fr+3*ur*r+i*(7*cr+9*sr*r),e-=o=f/u,r=e*e,i=r*r*r,!(rt(o)<il));++a);return[Yi*t*(fr+3*ur*r+i*(7*cr+9*sr*r))/j(e),Ut(Z(e)/Yi)]};function R2(){return Fn(Dl).scale(177.158)}function Il(t,n){var e=j(n),r=j(t)*e;return[e*Z(t)/r,Z(n)/r]}Il.invert=Cr(Ue);function F2(){return Fn(Il).scale(144.049).clipAngle(60)}function Ll(t,n){return[j(n)*Z(t),Z(n)]}Ll.invert=Cr(Ut);function P2(){return Fn(Ll).scale(249.5).clipAngle(90+Q)}function Rl(t,n){var e=j(n),r=1+j(t)*e;return[e*Z(t)/r,Z(n)/r]}Rl.invert=Cr(function(t){return 2*Ue(t)});function O2(){return Fn(Rl).scale(250).clipAngle(142)}function Fl(t,n){return[Ni(Tf((ct+n)/2)),-t]}Fl.invert=function(t,n){return[-n,2*Ue(al(t))-ct]};function U2(){var t=kl(Fl),n=t.center,e=t.rotate;return t.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}function on(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function fa(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const zo=Symbol("implicit");function kf(){var t=new lr,n=[],e=[],r=zo;function i(a){let o=t.get(a);if(o===void 0){if(r!==zo)return r;t.set(a,o=n.push(a)-1)}return e[o%e.length]}return i.domain=function(a){if(!arguments.length)return n.slice();n=[],t=new lr;for(const o of a)t.has(o)||t.set(o,n.push(o)-1);return i},i.range=function(a){return arguments.length?(e=Array.from(a),i):e.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return kf(n,e).unknown(r)},on.apply(i,arguments),i}function ua(){var t=kf().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,a,o,f=!1,u=0,s=0,c=.5;delete t.unknown;function d(){var l=n().length,h=i<r,p=h?i:r,g=h?r:i;a=(g-p)/Math.max(1,l-u+s*2),f&&(a=Math.floor(a)),p+=(g-p-a*(l-u))*c,o=a*(1-u),f&&(p=Math.round(p),o=Math.round(o));var b=ho(l).map(function(w){return p+a*w});return e(h?b.reverse():b)}return t.domain=function(l){return arguments.length?(n(l),d()):n()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,f=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(l){return arguments.length?(f=!!l,d()):f},t.padding=function(l){return arguments.length?(u=Math.min(1,s=+l),d()):u},t.paddingInner=function(l){return arguments.length?(u=Math.min(1,l),d()):u},t.paddingOuter=function(l){return arguments.length?(s=+l,d()):s},t.align=function(l){return arguments.length?(c=Math.max(0,Math.min(1,l)),d()):c},t.copy=function(){return ua(n(),[r,i]).round(f).paddingInner(u).paddingOuter(s).align(c)},on.apply(d(),arguments)}function Pl(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Pl(n())},t}function q2(){return Pl(ua.apply(null,arguments).paddingInner(1))}function z2(t){return function(){return t}}function Yo(t){return+t}var rc=[0,1];function Pt(t){return t}function Bo(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:z2(isNaN(n)?NaN:.5)}function Y2(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function B2(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=Bo(i,r),a=e(o,a)):(r=Bo(r,i),a=e(a,o)),function(f){return a(r(f))}}function H2(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=Bo(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(f){var u=df(t,f,1,r)-1;return a[u](i[u](f))}}function Er(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ca(){var t=rc,n=rc,e=Ar,r,i,a,o=Pt,f,u,s;function c(){var l=Math.min(t.length,n.length);return o!==Pt&&(o=Y2(t[0],t[l-1])),f=l>2?H2:B2,u=s=null,d}function d(l){return l==null||isNaN(l=+l)?a:(u||(u=f(t.map(r),n,e)))(r(o(l)))}return d.invert=function(l){return o(i((s||(s=f(n,t.map(r),wt)))(l)))},d.domain=function(l){return arguments.length?(t=Array.from(l,Yo),c()):t.slice()},d.range=function(l){return arguments.length?(n=Array.from(l),c()):n.slice()},d.rangeRound=function(l){return n=Array.from(l),e=vf,c()},d.clamp=function(l){return arguments.length?(o=l?!0:Pt,c()):o!==Pt},d.interpolate=function(l){return arguments.length?(e=l,c()):e},d.unknown=function(l){return arguments.length?(a=l,d):a},function(l,h){return r=l,i=h,c()}}function Ol(){return ca()(Pt,Pt)}function W2(t,n,e,r){var i=so(t,n,e),a;switch(r=mr(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(a=Gb(i,o))&&(r.precision=a),rl(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Xb(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Vb(i))&&(r.precision=a-(r.type==="%")*2);break}}return Oe(r)}function Nr(t){var n=t.domain;return t.ticks=function(e){var r=n();return vi(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return W2(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,a=r.length-1,o=r[i],f=r[a],u,s,c=10;for(f<o&&(s=o,o=f,f=s,s=i,i=a,a=s);c-- >0;){if(s=co(o,f,e),s===u)return r[i]=o,r[a]=f,n(r);if(s>0)o=Math.floor(o/s)*s,f=Math.ceil(f/s)*s;else if(s<0)o=Math.ceil(o*s)/s,f=Math.floor(f*s)/s;else break;u=s}return t},t}function Df(){var t=Ol();return t.copy=function(){return Er(t,Df())},on.apply(t,arguments),Nr(t)}function Ul(t){var n;function e(r){return r==null||isNaN(r=+r)?n:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=Array.from(r,Yo),e):t.slice()},e.unknown=function(r){return arguments.length?(n=r,e):n},e.copy=function(){return Ul(t).unknown(n)},t=arguments.length?Array.from(t,Yo):[0,1],Nr(e)}function ql(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],a=t[r],o;return a<i&&(o=e,e=r,r=o,o=i,i=a,a=o),t[e]=n.floor(i),t[r]=n.ceil(a),t}function ic(t){return Math.log(t)}function ac(t){return Math.exp(t)}function V2(t){return-Math.log(-t)}function G2(t){return-Math.exp(-t)}function X2(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Z2(t){return t===10?X2:t===Math.E?Math.exp:n=>Math.pow(t,n)}function K2(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function oc(t){return(n,e)=>-t(-n,e)}function zl(t){const n=t(ic,ac),e=n.domain;let r=10,i,a;function o(){return i=K2(r),a=Z2(r),e()[0]<0?(i=oc(i),a=oc(a),t(V2,G2)):t(ic,ac),n}return n.base=function(f){return arguments.length?(r=+f,o()):r},n.domain=function(f){return arguments.length?(e(f),o()):e()},n.ticks=f=>{const u=e();let s=u[0],c=u[u.length-1];const d=c<s;d&&([s,c]=[c,s]);let l=i(s),h=i(c),p,g;const b=f==null?10:+f;let w=[];if(!(r%1)&&h-l<b){if(l=Math.floor(l),h=Math.ceil(h),s>0){for(;l<=h;++l)for(p=1;p<r;++p)if(g=l<0?p/a(-l):p*a(l),!(g<s)){if(g>c)break;w.push(g)}}else for(;l<=h;++l)for(p=r-1;p>=1;--p)if(g=l>0?p/a(-l):p*a(l),!(g<s)){if(g>c)break;w.push(g)}w.length*2<b&&(w=vi(s,c,b))}else w=vi(l,h,Math.min(h-l,b)).map(a);return d?w.reverse():w},n.tickFormat=(f,u)=>{if(f==null&&(f=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=mr(u)).precision==null&&(u.trim=!0),u=Oe(u)),f===1/0)return u;const s=Math.max(1,r*f/n.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=s?u(c):""}},n.nice=()=>e(ql(e(),{floor:f=>a(Math.floor(i(f))),ceil:f=>a(Math.ceil(i(f)))})),n}function Yl(){const t=zl(ca()).domain([1,10]);return t.copy=()=>Er(t,Yl()).base(t.base()),on.apply(t,arguments),t}function fc(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function uc(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function Bl(t){var n=1,e=t(fc(n),uc(n));return e.constant=function(r){return arguments.length?t(fc(n=+r),uc(n)):n},Nr(e)}function Hl(){var t=Bl(ca());return t.copy=function(){return Er(t,Hl()).constant(t.constant())},on.apply(t,arguments)}function cc(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Q2(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function J2(t){return t<0?-t*t:t*t}function Wl(t){var n=t(Pt,Pt),e=1;function r(){return e===1?t(Pt,Pt):e===.5?t(Q2,J2):t(cc(e),cc(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},Nr(n)}function Vl(){var t=Wl(ca());return t.copy=function(){return Er(t,Vl()).exponent(t.exponent())},on.apply(t,arguments),t}function Gl(){var t=[],n=[],e=[],r;function i(){var o=0,f=Math.max(1,n.length);for(e=new Array(f-1);++o<f;)e[o-1]=W1(t,o/f);return a}function a(o){return o==null||isNaN(o=+o)?r:n[df(e,o)]}return a.invertExtent=function(o){var f=n.indexOf(o);return f<0?[NaN,NaN]:[f>0?e[f-1]:t[0],f<e.length?e[f]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let f of o)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(En),i()},a.range=function(o){return arguments.length?(n=Array.from(o),i()):n.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return e.slice()},a.copy=function(){return Gl().domain(t).range(n).unknown(r)},on.apply(a,arguments)}function Xl(){var t=[.5],n=[0,1],e,r=1;function i(a){return a!=null&&a<=a?n[df(t,a,0,r)]:e}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(a){return arguments.length?(n=Array.from(a),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(a){var o=n.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(e=a,i):e},i.copy=function(){return Xl().domain(t).range(n).unknown(e)},on.apply(i,arguments)}const Oa=new Date,Ua=new Date;function ht(t,n,e,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),n(a,1),t(a),a),i.round=a=>{const o=i(a),f=i.ceil(a);return a-o<f-a?o:f},i.offset=(a,o)=>(n(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,f)=>{const u=[];if(a=i.ceil(a),f=f==null?1:Math.floor(f),!(a<o)||!(f>0))return u;let s;do u.push(s=new Date(+a)),n(a,f),t(a);while(s<a&&a<o);return u},i.filter=a=>ht(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,f)=>{if(o>=o)if(f<0)for(;++f<=0;)for(;n(o,-1),!a(o););else for(;--f>=0;)for(;n(o,1),!a(o););}),e&&(i.count=(a,o)=>(Oa.setTime(+a),Ua.setTime(+o),t(Oa),t(Ua),Math.floor(e(Oa,Ua))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Bi=ht(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);Bi.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ht(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):Bi);Bi.range;const bn=1e3,Ot=bn*60,yn=Ot*60,$n=yn*24,If=$n*7,sc=$n*30,qa=$n*365,Bt=ht(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*bn)},(t,n)=>(n-t)/bn,t=>t.getUTCSeconds());Bt.range;const kr=ht(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bn)},(t,n)=>{t.setTime(+t+n*Ot)},(t,n)=>(n-t)/Ot,t=>t.getMinutes());kr.range;const Dr=ht(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*Ot)},(t,n)=>(n-t)/Ot,t=>t.getUTCMinutes());Dr.range;const Ir=ht(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bn-t.getMinutes()*Ot)},(t,n)=>{t.setTime(+t+n*yn)},(t,n)=>(n-t)/yn,t=>t.getHours());Ir.range;const Lr=ht(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*yn)},(t,n)=>(n-t)/yn,t=>t.getUTCHours());Lr.range;const ie=ht(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ot)/$n,t=>t.getDate()-1);ie.range;const sa=ht(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/$n,t=>t.getUTCDate()-1);sa.range;const la=ht(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/$n,t=>Math.floor(t/$n));la.range;function ae(t){return ht(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+e*7)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Ot)/If)}const Ce=ae(0),wr=ae(1),Zl=ae(2),Kl=ae(3),jn=ae(4),Ql=ae(5),Jl=ae(6);Ce.range;wr.range;Zl.range;Kl.range;jn.range;Ql.range;Jl.range;function oe(t){return ht(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e*7)},(n,e)=>(e-n)/If)}const Ee=oe(0),vr=oe(1),jl=oe(2),td=oe(3),te=oe(4),nd=oe(5),ed=oe(6);Ee.range;vr.range;jl.range;td.range;te.range;nd.range;ed.range;const Rr=ht(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Rr.range;const Fr=ht(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Fr.range;const Wt=ht(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());Wt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ht(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)});Wt.range;const Vt=ht(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ht(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)});Vt.range;function rd(t,n,e,r,i,a){const o=[[Bt,1,bn],[Bt,5,5*bn],[Bt,15,15*bn],[Bt,30,30*bn],[a,1,Ot],[a,5,5*Ot],[a,15,15*Ot],[a,30,30*Ot],[i,1,yn],[i,3,3*yn],[i,6,6*yn],[i,12,12*yn],[r,1,$n],[r,2,2*$n],[e,1,If],[n,1,sc],[n,3,3*sc],[t,1,qa]];function f(s,c,d){const l=c<s;l&&([s,c]=[c,s]);const h=d&&typeof d.range=="function"?d:u(s,c,d),p=h?h.range(s,+c+1):[];return l?p.reverse():p}function u(s,c,d){const l=Math.abs(c-s)/d,h=Zi(([,,b])=>b).right(o,l);if(h===o.length)return t.every(so(s/qa,c/qa,d));if(h===0)return Bi.every(Math.max(so(s,c,d),1));const[p,g]=o[l/o[h-1][2]<o[h][2]/l?h-1:h];return p.every(g)}return[f,u]}const[j2,ty]=rd(Vt,Fr,Ee,la,Lr,Dr),[ny,ey]=rd(Wt,Rr,Ce,ie,Ir,kr);function za(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ya(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ge(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function ry(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,f=t.months,u=t.shortMonths,s=Xe(i),c=Ze(i),d=Xe(a),l=Ze(a),h=Xe(o),p=Ze(o),g=Xe(f),b=Ze(f),w=Xe(u),y=Ze(u),v={a:k,A:B,b:W,B:I,c:null,d:mc,e:mc,f:Ty,g:Fy,G:Oy,H:$y,I:_y,j:Sy,L:id,m:Ay,M:Cy,p:O,q:z,Q:wc,s:vc,S:Ey,u:Ny,U:ky,V:Dy,w:Iy,W:Ly,x:null,X:null,y:Ry,Y:Py,Z:Uy,"%":yc},m={a:R,A:X,b:nt,B:J,c:null,d:bc,e:bc,f:By,g:jy,G:n6,H:qy,I:zy,j:Yy,L:od,m:Hy,M:Wy,p:q,q:H,Q:wc,s:vc,S:Vy,u:Gy,U:Xy,V:Zy,w:Ky,W:Qy,x:null,X:null,y:Jy,Y:t6,Z:e6,"%":yc},M={a:N,A:$,b:D,B:F,c:L,d:pc,e:pc,f:wy,g:hc,G:dc,H:gc,I:gc,j:gy,L:yy,m:py,M:my,p:A,q:hy,Q:xy,s:My,S:by,u:uy,U:cy,V:sy,w:fy,W:ly,x:T,X:P,y:hc,Y:dc,Z:dy,"%":vy};v.x=x(e,v),v.X=x(r,v),v.c=x(n,v),m.x=x(e,m),m.X=x(r,m),m.c=x(n,m);function x(E,U){return function(Y){var C=[],at=-1,V=0,ft=E.length,lt,At,de;for(Y instanceof Date||(Y=new Date(+Y));++at<ft;)E.charCodeAt(at)===37&&(C.push(E.slice(V,at)),(At=lc[lt=E.charAt(++at)])!=null?lt=E.charAt(++at):At=lt==="e"?" ":"0",(de=U[lt])&&(lt=de(Y,At)),C.push(lt),V=at+1);return C.push(E.slice(V,at)),C.join("")}}function _(E,U){return function(Y){var C=Ge(1900,void 0,1),at=S(C,E,Y+="",0),V,ft;if(at!=Y.length)return null;if("Q"in C)return new Date(C.Q);if("s"in C)return new Date(C.s*1e3+("L"in C?C.L:0));if(U&&!("Z"in C)&&(C.Z=0),"p"in C&&(C.H=C.H%12+C.p*12),C.m===void 0&&(C.m="q"in C?C.q:0),"V"in C){if(C.V<1||C.V>53)return null;"w"in C||(C.w=1),"Z"in C?(V=Ya(Ge(C.y,0,1)),ft=V.getUTCDay(),V=ft>4||ft===0?vr.ceil(V):vr(V),V=sa.offset(V,(C.V-1)*7),C.y=V.getUTCFullYear(),C.m=V.getUTCMonth(),C.d=V.getUTCDate()+(C.w+6)%7):(V=za(Ge(C.y,0,1)),ft=V.getDay(),V=ft>4||ft===0?wr.ceil(V):wr(V),V=ie.offset(V,(C.V-1)*7),C.y=V.getFullYear(),C.m=V.getMonth(),C.d=V.getDate()+(C.w+6)%7)}else("W"in C||"U"in C)&&("w"in C||(C.w="u"in C?C.u%7:"W"in C?1:0),ft="Z"in C?Ya(Ge(C.y,0,1)).getUTCDay():za(Ge(C.y,0,1)).getDay(),C.m=0,C.d="W"in C?(C.w+6)%7+C.W*7-(ft+5)%7:C.w+C.U*7-(ft+6)%7);return"Z"in C?(C.H+=C.Z/100|0,C.M+=C.Z%100,Ya(C)):za(C)}}function S(E,U,Y,C){for(var at=0,V=U.length,ft=Y.length,lt,At;at<V;){if(C>=ft)return-1;if(lt=U.charCodeAt(at++),lt===37){if(lt=U.charAt(at++),At=M[lt in lc?U.charAt(at++):lt],!At||(C=At(E,Y,C))<0)return-1}else if(lt!=Y.charCodeAt(C++))return-1}return C}function A(E,U,Y){var C=s.exec(U.slice(Y));return C?(E.p=c.get(C[0].toLowerCase()),Y+C[0].length):-1}function N(E,U,Y){var C=h.exec(U.slice(Y));return C?(E.w=p.get(C[0].toLowerCase()),Y+C[0].length):-1}function $(E,U,Y){var C=d.exec(U.slice(Y));return C?(E.w=l.get(C[0].toLowerCase()),Y+C[0].length):-1}function D(E,U,Y){var C=w.exec(U.slice(Y));return C?(E.m=y.get(C[0].toLowerCase()),Y+C[0].length):-1}function F(E,U,Y){var C=g.exec(U.slice(Y));return C?(E.m=b.get(C[0].toLowerCase()),Y+C[0].length):-1}function L(E,U,Y){return S(E,n,U,Y)}function T(E,U,Y){return S(E,e,U,Y)}function P(E,U,Y){return S(E,r,U,Y)}function k(E){return o[E.getDay()]}function B(E){return a[E.getDay()]}function W(E){return u[E.getMonth()]}function I(E){return f[E.getMonth()]}function O(E){return i[+(E.getHours()>=12)]}function z(E){return 1+~~(E.getMonth()/3)}function R(E){return o[E.getUTCDay()]}function X(E){return a[E.getUTCDay()]}function nt(E){return u[E.getUTCMonth()]}function J(E){return f[E.getUTCMonth()]}function q(E){return i[+(E.getUTCHours()>=12)]}function H(E){return 1+~~(E.getUTCMonth()/3)}return{format:function(E){var U=x(E+="",v);return U.toString=function(){return E},U},parse:function(E){var U=_(E+="",!1);return U.toString=function(){return E},U},utcFormat:function(E){var U=x(E+="",m);return U.toString=function(){return E},U},utcParse:function(E){var U=_(E+="",!0);return U.toString=function(){return E},U}}}var lc={"-":"",_:" ",0:"0"},bt=/^\s*\d+/,iy=/^%/,ay=/[\\^$*+?|[\]().{}]/g;function et(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<e?new Array(e-a+1).join(n)+i:i)}function oy(t){return t.replace(ay,"\\$&")}function Xe(t){return new RegExp("^(?:"+t.map(oy).join("|")+")","i")}function Ze(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function fy(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function uy(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function cy(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function sy(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function ly(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function dc(t,n,e){var r=bt.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function hc(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function dy(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function hy(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function py(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function pc(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function gy(t,n,e){var r=bt.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function gc(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function my(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function by(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function yy(t,n,e){var r=bt.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function wy(t,n,e){var r=bt.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function vy(t,n,e){var r=iy.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function xy(t,n,e){var r=bt.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function My(t,n,e){var r=bt.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function mc(t,n){return et(t.getDate(),n,2)}function $y(t,n){return et(t.getHours(),n,2)}function _y(t,n){return et(t.getHours()%12||12,n,2)}function Sy(t,n){return et(1+ie.count(Wt(t),t),n,3)}function id(t,n){return et(t.getMilliseconds(),n,3)}function Ty(t,n){return id(t,n)+"000"}function Ay(t,n){return et(t.getMonth()+1,n,2)}function Cy(t,n){return et(t.getMinutes(),n,2)}function Ey(t,n){return et(t.getSeconds(),n,2)}function Ny(t){var n=t.getDay();return n===0?7:n}function ky(t,n){return et(Ce.count(Wt(t)-1,t),n,2)}function ad(t){var n=t.getDay();return n>=4||n===0?jn(t):jn.ceil(t)}function Dy(t,n){return t=ad(t),et(jn.count(Wt(t),t)+(Wt(t).getDay()===4),n,2)}function Iy(t){return t.getDay()}function Ly(t,n){return et(wr.count(Wt(t)-1,t),n,2)}function Ry(t,n){return et(t.getFullYear()%100,n,2)}function Fy(t,n){return t=ad(t),et(t.getFullYear()%100,n,2)}function Py(t,n){return et(t.getFullYear()%1e4,n,4)}function Oy(t,n){var e=t.getDay();return t=e>=4||e===0?jn(t):jn.ceil(t),et(t.getFullYear()%1e4,n,4)}function Uy(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+et(n/60|0,"0",2)+et(n%60,"0",2)}function bc(t,n){return et(t.getUTCDate(),n,2)}function qy(t,n){return et(t.getUTCHours(),n,2)}function zy(t,n){return et(t.getUTCHours()%12||12,n,2)}function Yy(t,n){return et(1+sa.count(Vt(t),t),n,3)}function od(t,n){return et(t.getUTCMilliseconds(),n,3)}function By(t,n){return od(t,n)+"000"}function Hy(t,n){return et(t.getUTCMonth()+1,n,2)}function Wy(t,n){return et(t.getUTCMinutes(),n,2)}function Vy(t,n){return et(t.getUTCSeconds(),n,2)}function Gy(t){var n=t.getUTCDay();return n===0?7:n}function Xy(t,n){return et(Ee.count(Vt(t)-1,t),n,2)}function fd(t){var n=t.getUTCDay();return n>=4||n===0?te(t):te.ceil(t)}function Zy(t,n){return t=fd(t),et(te.count(Vt(t),t)+(Vt(t).getUTCDay()===4),n,2)}function Ky(t){return t.getUTCDay()}function Qy(t,n){return et(vr.count(Vt(t)-1,t),n,2)}function Jy(t,n){return et(t.getUTCFullYear()%100,n,2)}function jy(t,n){return t=fd(t),et(t.getUTCFullYear()%100,n,2)}function t6(t,n){return et(t.getUTCFullYear()%1e4,n,4)}function n6(t,n){var e=t.getUTCDay();return t=e>=4||e===0?te(t):te.ceil(t),et(t.getUTCFullYear()%1e4,n,4)}function e6(){return"+0000"}function yc(){return"%"}function wc(t){return+t}function vc(t){return Math.floor(+t/1e3)}var he,Lf,Pr;r6({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function r6(t){return he=ry(t),Lf=he.format,he.parse,Pr=he.utcFormat,he.utcParse,he}function i6(t){return new Date(t)}function a6(t){return t instanceof Date?+t:+new Date(+t)}function Rf(t,n,e,r,i,a,o,f,u,s){var c=Ol(),d=c.invert,l=c.domain,h=s(".%L"),p=s(":%S"),g=s("%I:%M"),b=s("%I %p"),w=s("%a %d"),y=s("%b %d"),v=s("%B"),m=s("%Y");function M(x){return(u(x)<x?h:f(x)<x?p:o(x)<x?g:a(x)<x?b:r(x)<x?i(x)<x?w:y:e(x)<x?v:m)(x)}return c.invert=function(x){return new Date(d(x))},c.domain=function(x){return arguments.length?l(Array.from(x,a6)):l().map(i6)},c.ticks=function(x){var _=l();return t(_[0],_[_.length-1],x??10)},c.tickFormat=function(x,_){return _==null?M:s(_)},c.nice=function(x){var _=l();return(!x||typeof x.range!="function")&&(x=n(_[0],_[_.length-1],x??10)),x?l(ql(_,x)):c},c.copy=function(){return Er(c,Rf(t,n,e,r,i,a,o,f,u,s))},c}function o6(){return on.apply(Rf(ny,ey,Wt,Rr,Ce,ie,Ir,kr,Bt,Lf).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function f6(){return on.apply(Rf(j2,ty,Vt,Fr,Ee,sa,Lr,Dr,Bt,Pr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function da(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function ha(){var t=0,n=.5,e=1,r=1,i,a,o,f,u,s=Pt,c,d=!1,l;function h(g){return isNaN(g=+g)?l:(g=.5+((g=+c(g))-a)*(r*g<r*a?f:u),s(d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,n,e]=g,i=c(t=+t),a=c(n=+n),o=c(e=+e),f=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,h):[t,n,e]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(s=g,h):s};function p(g){return function(b){var w,y,v;return arguments.length?([w,y,v]=b,s=ea(g,[w,y,v]),h):[s(0),s(.5),s(1)]}}return h.range=p(Ar),h.rangeRound=p(vf),h.unknown=function(g){return arguments.length?(l=g,h):l},function(g){return c=g,i=g(t),a=g(n),o=g(e),f=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,h}}function ud(){var t=Nr(ha()(Pt));return t.copy=function(){return da(t,ud())},fa.apply(t,arguments)}function cd(){var t=zl(ha()).domain([.1,1,10]);return t.copy=function(){return da(t,cd()).base(t.base())},fa.apply(t,arguments)}function sd(){var t=Bl(ha());return t.copy=function(){return da(t,sd()).constant(t.constant())},fa.apply(t,arguments)}function ld(){var t=Wl(ha());return t.copy=function(){return da(t,ld()).exponent(t.exponent())},fa.apply(t,arguments)}function K(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const u6=K("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),c6=K("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),s6=K("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),l6=K("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),d6=K("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),h6=K("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),p6=K("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),g6=K("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),m6=K("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),b6=K("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),y6=K("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ot=t=>om(t[t.length-1]);var dd=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(K);const hd=ot(dd);var pd=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(K);const gd=ot(pd);var md=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(K);const bd=ot(md);var yd=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(K);const wd=ot(yd);var Ho=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(K);const Hi=ot(Ho);var vd=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(K);const xd=ot(vd);var Wo=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(K);const Wi=ot(Wo);var Md=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(K);const $d=ot(Md);var _d=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(K);const Sd=ot(_d);var Td=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(K);const Ad=ot(Td);var Cd=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(K);const Ed=ot(Cd);var Nd=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(K);const kd=ot(Nd);var Dd=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(K);const Id=ot(Dd);var Ld=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(K);const Rd=ot(Ld);var Fd=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(K);const Pd=ot(Fd);var Od=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(K);const Ud=ot(Od);var qd=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(K);const zd=ot(qd);var Yd=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(K);const Bd=ot(Yd);var Hd=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(K);const Wd=ot(Hd);var Vd=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(K);const Gd=ot(Vd);var Xd=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(K);const Zd=ot(Xd);var Kd=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(K);const Qd=ot(Kd);var Jd=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(K);const jd=ot(Jd);var t0=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(K);const n0=ot(t0);var e0=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(K);const r0=ot(e0);var i0=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(K);const a0=ot(i0);var o0=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(K);const f0=ot(o0);function u0(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const c0=xf(en(300,.5,0),en(-240,.5,1));var s0=xf(en(-100,.75,.35),en(80,1.5,.8)),l0=xf(en(260,.75,.35),en(80,1.5,.8)),ni=en();function d0(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return ni.h=360*t-100,ni.s=1.5-1.5*n,ni.l=.8-.9*n,ni+""}var ei=Dn(),w6=Math.PI/3,v6=Math.PI*2/3;function h0(t){var n;return t=(.5-t)*Math.PI,ei.r=255*(n=Math.sin(t))*n,ei.g=255*(n=Math.sin(t+w6))*n,ei.b=255*(n=Math.sin(t+v6))*n,ei+""}function p0(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function pa(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const g0=pa(K("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var m0=pa(K("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),b0=pa(K("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),y0=pa(K("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const w0=Math.cos,Ff=Math.min,Vi=Math.sin,pt=Math.sqrt,J3=1e-12,Gi=Math.PI,ga=2*Gi,x6=pt(3),v0={draw(t,n){const e=pt(n+Ff(n/28,.75))*.59436,r=e/2,i=r*x6;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},Pf={draw(t,n){const e=pt(n/Gi);t.moveTo(e,0),t.arc(0,0,e,0,ga)}},x0={draw(t,n){const e=pt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},M0=pt(1/3),M6=M0*2,$0={draw(t,n){const e=pt(n/M6),r=e*M0;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},_0={draw(t,n){const e=pt(n)*.62625;t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},S0={draw(t,n){const e=pt(n-Ff(n/7,2))*.87559;t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},T0={draw(t,n){const e=pt(n),r=-e/2;t.rect(r,r,e,e)}},A0={draw(t,n){const e=pt(n)*.4431;t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},$6=.8908130915292852,C0=Vi(Gi/10)/Vi(7*Gi/10),_6=Vi(ga/10)*C0,S6=-w0(ga/10)*C0,E0={draw(t,n){const e=pt(n*$6),r=_6*e,i=S6*e;t.moveTo(0,-e),t.lineTo(r,i);for(let a=1;a<5;++a){const o=ga*a/5,f=w0(o),u=Vi(o);t.lineTo(u*e,-f*e),t.lineTo(f*r-u*i,u*r+f*i)}t.closePath()}},Ba=pt(3),N0={draw(t,n){const e=-pt(n/(Ba*3));t.moveTo(0,e*2),t.lineTo(-Ba*e,-e),t.lineTo(Ba*e,-e),t.closePath()}},T6=pt(3),k0={draw(t,n){const e=pt(n)*.6824,r=e/2,i=e*T6/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Dt=-.5,It=pt(3)/2,Vo=1/pt(12),A6=(Vo/2+1)*3,D0={draw(t,n){const e=pt(n/A6),r=e/2,i=e*Vo,a=r,o=e*Vo+e,f=-a,u=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(f,u),t.lineTo(Dt*r-It*i,It*r+Dt*i),t.lineTo(Dt*a-It*o,It*a+Dt*o),t.lineTo(Dt*f-It*u,It*f+Dt*u),t.lineTo(Dt*r+It*i,Dt*i-It*r),t.lineTo(Dt*a+It*o,Dt*o-It*a),t.lineTo(Dt*f+It*u,Dt*u-It*f),t.closePath()}},I0={draw(t,n){const e=pt(n-Ff(n/6,1.7))*.6189;t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},C6=[Pf,x0,$0,T0,E0,N0,D0],E6=[Pf,S0,I0,k0,v0,A0,_0];function ar(t,n,e){this.k=t,this.x=n,this.y=e}ar.prototype={constructor:ar,scale:function(t){return t===1?this:new ar(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new ar(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ar.prototype;function In(t){return t!=null&&!Number.isNaN(t)}function ne(t,n){return+In(n)-+In(t)||En(t,n)}function Go(t,n){return+In(n)-+In(t)||_r(t,n)}function Of(t){return t!=null&&`${t}`!=""}function L0(t){return isFinite(t)?t:NaN}function Uf(t){return t>0&&isFinite(t)?t:NaN}function R0(t){return t<0&&isFinite(t)?t:NaN}function N6(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof n=="function"?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return`${k6(t.getUTCFullYear())}-${pn(t.getUTCMonth()+1,2)}-${pn(t.getUTCDate(),2)}${e||r||i||a?`T${pn(e,2)}:${pn(r,2)}${i||a?`:${pn(i,2)}${a?`.${pn(a,3)}`:""}`:""}Z`:""}`}function k6(t){return t<0?`-${pn(-t,6)}`:t>9999?`+${pn(t,6)}`:pn(t,4)}function pn(t,n){return`${t}`.padStart(n,"0")}const D6=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function F0(t,n){return D6.test(t+="")?new Date(t):typeof n=="function"?n(t):n}function Ne(t){if(t==null)return;const n=t[0],e=t[t.length-1];return _r(n,e)}const be=1e3,An=be*60,Cn=An*60,rn=Cn*24,Zt=rn*7,Vn=rn*30,Tn=rn*365,Ha=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",be],["5 seconds",5*be],["15 seconds",15*be],["30 seconds",30*be],["minute",An],["5 minutes",5*An],["15 minutes",15*An],["30 minutes",30*An],["hour",Cn],["3 hours",3*Cn],["6 hours",6*Cn],["12 hours",12*Cn],["day",rn],["2 days",2*rn],["week",Zt],["2 weeks",2*Zt],["month",Vn],["3 months",3*Vn],["6 months",6*Vn],["year",Tn],["2 years",2*Tn],["5 years",5*Tn],["10 years",10*Tn],["20 years",20*Tn],["50 years",50*Tn],["100 years",100*Tn]],qf=new Map([["second",be],["minute",An],["hour",Cn],["day",rn],["monday",Zt],["tuesday",Zt],["wednesday",Zt],["thursday",Zt],["friday",Zt],["saturday",Zt],["sunday",Zt],["week",Zt],["month",Vn],["year",Tn]]),P0=new Map([["second",Bt],["minute",kr],["hour",Ir],["day",ie],["monday",wr],["tuesday",Zl],["wednesday",Kl],["thursday",jn],["friday",Ql],["saturday",Jl],["sunday",Ce],["week",Ce],["month",Rr],["year",Wt]]),zf=new Map([["second",Bt],["minute",Dr],["hour",Lr],["day",la],["monday",vr],["tuesday",jl],["wednesday",td],["thursday",te],["friday",nd],["saturday",ed],["sunday",Ee],["week",Ee],["month",Fr],["year",Vt]]),Or=Symbol("intervalDuration"),ma=Symbol("intervalType");for(const[t,n]of P0)n[Or]=qf.get(t),n[ma]="time";for(const[t,n]of zf)n[Or]=qf.get(t),n[ma]="utc";const or=[["year",Vt,"utc"],["month",Fr,"utc"],["day",la,"utc",6*Vn],["hour",Lr,"utc",3*rn],["minute",Dr,"utc",6*Cn],["second",Bt,"utc",30*An]],mi=[["year",Wt,"time"],["month",Rr,"time"],["day",ie,"time",6*Vn],["hour",Ir,"time",3*rn],["minute",kr,"time",6*Cn],["second",Bt,"time",30*An]],I6=[or[0],mi[0],or[1],mi[1],or[2],mi[2],...or.slice(3)];function O0(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),e=+r[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6;break}let i=zf.get(n);if(!i)throw new Error(`unknown interval: ${t}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function U0(t){return z0(O0(t),"time")}function q0(t){return z0(O0(t),"utc")}function z0([t,n],e){let r=(e==="time"?P0:zf).get(t);return n>1&&(r=r.every(n),r[Or]=qf.get(t)*n,r[ma]=e),r}function xc(t,n){if(!(n>1))return;const e=t[Or];if(!Ha.some(([,i])=>i===e)||e%rn===0&&rn<e&&e<Vn)return;const[r]=Ha[Zi(([,i])=>Math.log(i)).center(Ha,Math.log(e*n))];return(t[ma]==="time"?U0:q0)(r)}function Mc(t,n,e){const r=n==="time"?Lf:Pr;if(e==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=L6(e);switch(t){case"millisecond":return pe(r(".%L"),r(":%M:%S"),i);case"second":return pe(r(":%S"),r("%-I:%M"),i);case"minute":return pe(r("%-I:%M"),r("%p"),i);case"hour":return pe(r("%-I %p"),r("%b %-d"),i);case"day":return pe(r("%-d"),r("%b"),i);case"month":return pe(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function L6(t){return t==="left"||t==="right"?(n,e)=>`
${n}
${e}`:t==="top"?(n,e)=>`${e}
${n}`:(n,e)=>`${n}
${e}`}function R6(t){return t==="time"?mi:t==="utc"?or:I6}function F6(t,n,e){const r=nn(Z1(n,(i,a)=>Math.abs(a-i)));if(r<1e3)return Mc("millisecond","utc",e);for(const[i,a,o,f]of R6(t)){if(r>f||i==="hour"&&!r)break;if(n.every(u=>a.floor(u)>=u))return Mc(i,o,e)}}function pe(t,n,e){return(r,i,a)=>{const o=t(r,i),f=n(r,i),u=i-Ne(a);return i!==u&&a[u]!==void 0&&f===n(a[u],u)?o:e(o,f)}}const Yf=Object.getPrototypeOf(Uint8Array),P6=Object.prototype.toString;function Ur(t){return t instanceof Array||t instanceof Yf}function Y0(t){return t instanceof Yf&&!O6(t)}function B0(t){return(t==null?void 0:t.prototype)instanceof Yf&&!U6(t)}function O6(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function U6(t){return t===BigInt64Array||t===BigUint64Array}const q6=Symbol("reindex");function _n(t,n,e){const r=typeof n;return r==="string"?nh(t)?Bf(t.getChild(n),e):$c(t,Y6(n),e):r==="function"?$c(t,n,e):r==="number"||n instanceof Date||r==="boolean"?dt(t,wn(n),e):typeof(n==null?void 0:n.transform)=="function"?Xo(n.transform(t),e):z6(Xo(n,e),t==null?void 0:t[q6])}function z6(t,n){return t!=null&&n?Wf(t,n):t}function $c(t,n,e){return dt(t,B0(e)?(r,i)=>Hf(n(r,i)):n,e)}function Xo(t,n){return n===void 0?fe(t):eh(t)?Bf(t,n):t instanceof n?t:n.from(t,B0(n)&&!Y0(t)?Hf:void 0)}function Bf(t,n){return t==null?t:(n===void 0||n===Array)&&u8(t.type)?W0(_c(t)):Xo(_c(t),n)}function _c(t){return t.nullCount?t.toJSON():t.toArray()}const bi=[null],Y6=t=>n=>{var r;const e=n[t];return e===void 0&&n.type==="Feature"?(r=n.properties)==null?void 0:r[t]:e},B6={transform:qe},fn={transform:t=>t},j3=()=>1,H6=()=>!0,vt=t=>t==null?t:`${t}`,Mt=t=>t==null?t:+t,H0=t=>t?t[0]:void 0,Zo=t=>t?t[1]:void 0,wn=t=>()=>t;function W6(t){const n=+`${t}`.slice(1)/100;return(e,r)=>xi(e,n,r)}function Sc(t){return Y0(t)?t:dt(t,Hf,Float64Array)}function Hf(t){return t==null?NaN:Number(t)}function W0(t){return dt(t,V6)}function V6(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?F0(t):t==null||isNaN(t=Number(t))?void 0:new Date(t)}function ee(t,n){return t===void 0&&(t=n),t===null?[void 0,"none"]:wa(t)?[void 0,t]:[t,void 0]}function Ct(t,n){return t===void 0&&(t=n),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function V0(t,n,e){if(t!=null)return Xt(t,n,e)}function Xt(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function ke(t){return nh(t)?t:fe(t)}function fe(t){if(t==null||Ur(t))return t;if(eh(t))return Bf(t);if(G0(t))switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;default:return[t]}return Array.from(t)}function G0(t){switch(t==null?void 0:t.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function dt(t,n,e=Array){return t==null?t:t instanceof e?t.map(n):e.from(t,n)}function Ko(t,n=Array){return t instanceof n?t.slice():n.from(t)}function G6({x:t,x1:n,x2:e}){return t!==void 0||n!==void 0||e!==void 0}function X6({y:t,y1:n,y2:e}){return t!==void 0||n!==void 0||e!==void 0}function t7(t){return G6(t)||X6(t)||t.interval!==void 0}function Pn(t){return(t==null?void 0:t.toString)===P6}function Qo(t){return Pn(t)&&(t.type!==void 0||t.domain!==void 0)}function ba(t){return Pn(t)&&typeof t.transform!="function"}function De(t){return ba(t)&&t.value===void 0&&t.channel===void 0}function n7(t,n,e,r=fn){return n===void 0&&e===void 0?(n=0,e=t===void 0?r:t):n===void 0?n=t===void 0?0:t:e===void 0&&(e=t===void 0?0:t),[n,e]}function X0(t,n){return t===void 0&&n===void 0?[H0,Zo]:[t,n]}function e7({z:t,fill:n,stroke:e}={}){return t===void 0&&([t]=ee(n)),t===void 0&&([t]=ee(e)),t}function Jo(t){return Ur(t)?t.length:t==null?void 0:t.numRows}function qe(t){const n=Jo(t),e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function Wf(t,n){return Ur(t)?dt(n,e=>t[e],t.constructor):dt(n,e=>t.at(e))}function Z6(t,n,e){return t.subarray?t.subarray(n,e):t.slice(n,e)}function vn(t){return t!==null&&typeof t=="object"?t.valueOf():t}function K6(t,n){if(n[t]!==void 0)return n[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return n[t]}function Z0(t){let n;return[{transform:()=>n,label:ze(t)},e=>n=e]}function r7(t){return t==null?[t]:Z0(t)}function ze(t,n){return typeof t=="string"?t:t&&t.label!==void 0?t.label:n}function i7(t,n){return{transform(e){const r=t.transform(e),i=n.transform(e);return qt(r)||qt(i)?dt(r,(a,o)=>new Date((+r[o]+ +i[o])/2)):dt(r,(a,o)=>(+r[o]+ +i[o])/2,Float64Array)},label:t.label}}function a7(t,n){const e=K0(n==null?void 0:n.interval,n==null?void 0:n.type);return e?dt(t,e):t}function K0(t,n){const e=Vf(t,n);return e&&(r=>In(r)?e.floor(r):r)}function Vf(t,n){if(t!=null){if(typeof t=="number")return Q6(t);if(typeof t=="string")return(n==="time"?U0:q0)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function Q6(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:e=>Math.floor(e*n)/n,offset:(e,r=1)=>(e*n+Math.floor(r))/n,range:(e,r)=>ho(Math.ceil(e*n),r*n).map(i=>i/n)}:{floor:e=>Math.floor(e/n)*n,offset:(e,r=1)=>e+n*Math.floor(r),range:(e,r)=>ho(Math.ceil(e/n),r/n).map(i=>i*n)}}function qr(t,n){if(t=Vf(t,n),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function J6(t,n){if(t=qr(t,n),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function o7(t){return Q0(t)&&typeof(t==null?void 0:t.floor)=="function"&&t.floor()instanceof Date}function Q0(t){return typeof(t==null?void 0:t.range)=="function"}function ya(t){return t===void 0||ba(t)?t:{value:t}}function j6(t){return t==null?null:{transform:n=>_n(n,t,Float64Array),label:ze(t)}}function ue(t){return t&&typeof t[Symbol.iterator]=="function"}function J0(t){for(const n of t)if(n!=null)return typeof n!="object"||n instanceof Date}function Tc(t){for(const n of t){if(n==null)continue;const e=typeof n;return e==="string"||e==="boolean"}}function qt(t){for(const n of t)if(n!=null)return n instanceof Date}function t8(t){for(const n of t)if(n!=null)return typeof n=="string"&&isNaN(n)&&F0(n)}function n8(t){for(const n of t)if(n!=null){if(typeof n!="string")return!1;if(n.trim())return!isNaN(n)}}function e8(t){for(const n of t)if(n!=null)return typeof n=="number"}function Wa(t,n){let e;for(const r of t)if(r!=null){if(!n(r))return!1;e=!0}return e}const r8=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function wa(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||r8.has(t))}function i8(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function St(t){return t==null||xr(t)}function xr(t){return/^\s*none\s*$/i.test(t)}function a8(t){return/^\s*round\s*$/i.test(t)}function jo(t,n){return V0(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Gf(t="middle"){return jo(t,"frameAnchor")}function o8(t={},...n){let e=t;for(const r of n)for(const i in r)if(e[i]===void 0){const a=r[i];e===t?e={...e,[i]:a}:e[i]=a}return e}function f8(t){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(t,e=>{const{name:r}=e;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(n.has(i))throw new Error(`duplicate name: ${i}`);return n.add(i),[r,e]}))}function j0(t){return ue(t)?f8(t):t}function th(t){return t===!0?t="frame":t===!1?t=null:!G0(t)&&t!=null&&(t=Xt(t,"clip",["frame","sphere"]),t==="sphere"&&(t={type:"Sphere"})),t}function nh(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function eh(t){return t&&typeof t.toArray=="function"&&t.type}function u8(t){return t&&(t.typeId===8||t.typeId===10)&&t.unit===1}const Jt=Symbol("position"),Sn=Symbol("color"),zr=Symbol("radius"),Yr=Symbol("length"),Br=Symbol("opacity"),va=Symbol("symbol"),rh=Symbol("projection"),st=new Map([["x",Jt],["y",Jt],["fx",Jt],["fy",Jt],["r",zr],["color",Sn],["opacity",Br],["symbol",va],["length",Yr],["projection",rh]]);function c8(t){return t===Jt||t===rh}function s8(t){return t===Jt||t===zr||t===Yr||t===Br}const l8=Math.sqrt(3),d8=2/l8,h8={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*d8,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},Xf=new Map([["asterisk",v0],["circle",Pf],["cross",x0],["diamond",$0],["diamond2",_0],["hexagon",h8],["plus",S0],["square",T0],["square2",A0],["star",E0],["times",I0],["triangle",N0],["triangle2",k0],["wye",D0]]);function Zf(t){return t&&typeof t.draw=="function"}function p8(t){return Zf(t)?!0:typeof t!="string"?!1:Xf.has(t.toLowerCase())}function Kf(t){if(t==null||Zf(t))return t;const n=Xf.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function f7(t){if(t==null||Zf(t))return[void 0,t];if(typeof t=="string"){const n=Xf.get(`${t}`.toLowerCase());if(n)return[void 0,n]}return[t,void 0]}function ih({filter:t,sort:n,reverse:e,transform:r,initializer:i,...a}={},o){if(r===void 0&&(t!=null&&(r=ah(t)),n!=null&&!De(n)&&(r=Va(r,Qf(n))),e&&(r=Va(r,oh))),o!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(n===null||De(n))&&{sort:n},transform:Va(r,o)}}function Ie({filter:t,sort:n,reverse:e,initializer:r,...i}={},a){return r===void 0&&(t!=null&&(r=ah(t)),n!=null&&!De(n)&&(r=Ga(r,Qf(n))),e&&(r=Ga(r,oh))),{...i,...(n===null||De(n))&&{sort:n},initializer:Ga(r,a)}}function Va(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i){return{data:e,facets:r}=t.call(this,e,r,i),n.call(this,ke(e),r,i)}}function Ga(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i,...a){let o,f,u,s,c,d;return{data:f=e,facets:u=r,channels:o}=t.call(this,e,r,i,...a),{data:c=f,facets:d=u,channels:s}=n.call(this,f,u,{...i,...o},...a),{data:c,facets:d,channels:{...o,...s}}}}function g8(t,n){return(t.initializer!=null?Ie:ih)(t,n)}function ah(t){return(n,e)=>{const r=_n(n,t);return{data:n,facets:e.map(i=>i.filter(a=>r[a]))}}}function oh(t,n){return{data:t,facets:n.map(e=>e.slice().reverse())}}function u7(t,{sort:n,...e}={}){return{...(ba(t)&&t.channel!==void 0?Ie:g8)(e,Qf(t)),sort:De(n)?n:null}}function Qf(t){return(typeof t=="function"&&t.length!==1?m8:b8)(t)}function m8(t){return(n,e)=>{const r=Ur(n)?(i,a)=>t(n[i],n[a]):(i,a)=>t(n.get(i),n.get(a));return{data:n,facets:e.map(i=>i.slice().sort(r))}}}function b8(t){let n,e;({channel:n,value:t,order:e}={...ya(t)});const r=n==null?void 0:n.startsWith("-");if(r&&(n=n.slice(1)),e===void 0&&(e=r?Go:ne),typeof e!="function")switch(`${e}`.toLowerCase()){case"ascending":e=ne;break;case"descending":e=Go;break;default:throw new Error(`invalid order: ${e}`)}return(i,a,o)=>{let f;if(n===void 0)f=_n(i,t);else{if(o===void 0)throw new Error("channel sort requires an initializer");if(f=o[n],!f)return{};f=f.value}const u=(s,c)=>e(f[s],f[c]);return{data:i,facets:a.map(s=>s.slice().sort(u))}}}function c7(t,...n){for(const{name:e}of t)if(n.includes(e))return!0;return!1}function s7(t,n,e=y8){const r=Object.entries(t);return n.title!=null&&t.title===void 0&&r.push(["title",S8]),n.href!=null&&t.href===void 0&&r.push(["href",uh]),r.filter(([,i])=>i!==void 0).map(([i,a])=>a===null?w8(i):e(i,a,n))}function y8(t,n,e,r=v8){let i;Pn(n)&&"reduce"in n&&(i=n.scale,n=n.reduce);const a=r(t,n,e),[o,f]=Z0(a.label);let u;return{name:t,output:i===void 0?o:{value:o,scale:i},initialize(s){a.initialize(s),u=f([])},scope(s,c){a.scope(s,c)},reduce(s,c){u.push(a.reduce(s,c))}}}function w8(t){return{name:t,initialize(){},scope(){},reduce(){}}}function v8(t,n,e,r=fh){const i=K6(t,e),a=r(n,i);let o,f;return{label:ze(a===tf?null:i,a.label),initialize(u){o=i===void 0?u:_n(u,i),a.scope==="data"&&(f=a.reduceIndex(qe(u),o))},scope(u,s){a.scope===u&&(f=a.reduceIndex(s,o))},reduce(u,s){return a.scope==null?a.reduceIndex(u,o,s):a.reduceIndex(u,o,f,s)}}}function l7(t,n){return n?gs(t,e=>n[e]):[[,t]]}function fh(t,n,e=x8){if(t==null)return e(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&Pn(t))return M8(t);if(typeof t=="function")return $8(t);if(/^p\d{2}$/i.test(t))return hn(W6(t));switch(`${t}`.toLowerCase()){case"first":return uh;case"last":return T8;case"identity":return _8;case"count":return tf;case"distinct":return A8;case"sum":return n==null?tf:C8;case"proportion":return Cc(n,"data");case"proportion-facet":return Cc(n,"facet");case"deviation":return hn(P1);case"min":return hn(dr);case"min-index":return hn(H1);case"max":return hn(nn);case"max-index":return hn(B1);case"mean":return Ac(V1);case"median":return Ac(lo);case"variance":return hn(ls);case"mode":return hn(X1)}return e(t)}function x8(t){throw new Error(`invalid reduce: ${t}`)}function d7(t,n){for(const e in n){const r=n[e];if(r!==void 0&&!t.some(i=>i.name===e))return r}}function h7(t,n,e){if(n){const r=n.output.transform(),i=(a,o)=>ne(r[a],r[o]);t.forEach(a=>a.sort(i))}e&&t.forEach(r=>r.reverse())}function M8(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function $8(t){return{reduceIndex(n,e,r){return t(Wf(e,n),r)}}}function hn(t){return{reduceIndex(n,e){return t(n,r=>e[r])}}}function Ac(t){return{reduceIndex(n,e){const r=t(n,i=>e[i]);return qt(e)?new Date(r):r}}}const _8={reduceIndex(t,n){return Wf(n,t)}},uh={reduceIndex(t,n){return n[t[0]]}},S8={reduceIndex(t,n){const r=ms(li(t,a=>a.length,a=>n[a]),Zo),i=r.slice(-5).reverse();if(i.length<r.length){const a=r.slice(0,-4);i[4]=[` ${a.length.toLocaleString("en-US")} more`,Qi(a,Zo)]}return i.map(([a,o])=>`${a} (${o.toLocaleString("en-US")})`).join(`
`)}},T8={reduceIndex(t,n){return n[t[t.length-1]]}},tf={label:"Frequency",reduceIndex(t){return t.length}},A8={label:"Distinct",reduceIndex(t,n){const e=new Ki;for(const r of t)e.add(n[r]);return e.size}},C8=hn(Qi);function Cc(t,n){return t==null?{scope:n,label:"Frequency",reduceIndex:(e,r,i=1)=>e.length/i}:{scope:n,reduceIndex:(e,r,i=1)=>Qi(e,a=>r[a])/i}}const p7={reduceIndex(t,n,{z:e}){return e}};function Mr(t,{scale:n,type:e,value:r,filter:i,hint:a,label:o=ze(r)},f){return a===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(a=r.hint),ch(f,{scale:n,type:e,value:_n(t,r),label:o,filter:i,hint:a})}function E8(t,n){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,Mr(n,r,e)]))}function N8(t,n){const e=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:a}])=>{const o=i==null?null:n[i];return[r,o==null?a:dt(a,o)]}));return e.channels=t,e}function ch(t,n){const{scale:e,value:r}=n;if(e===!0||e==="auto")switch(t){case"fill":case"stroke":case"color":n.scale=e!==!0&&Wa(r,wa)?null:"color",n.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=e!==!0&&Wa(r,i8)?null:"opacity",n.defaultScale="opacity";break;case"symbol":e!==!0&&Wa(r,p8)?(n.scale=null,n.value=dt(r,Kf)):n.scale="symbol",n.defaultScale="symbol";break;default:n.scale=st.has(t)?t:null;break}else if(e===!1)n.scale=null;else if(e!=null&&!st.has(e))throw new Error(`unknown scale: ${e}`);return n}function k8(t,n,e,r,i){const{order:a,reverse:o,reduce:f=!0,limit:u}=i;for(const s in i){if(!st.has(s))continue;let{value:c,order:d=a,reverse:l=o,reduce:h=f,limit:p=u}=ya(i[s]);const g=c==null?void 0:c.startsWith("-");if(g&&(c=c.slice(1)),d=d===void 0?g!==(c==="width"||c==="height")?lh:sh:L8(d),h==null||h===!1)continue;const b=s==="fx"||s==="fy"?I8(n,r[s]):D8(e,s);if(!b)throw new Error(`missing channel for scale: ${s}`);const w=b.value,[y=0,v=1/0]=ue(p)?p:p<0?[p]:[0,p];if(c==null)b.domain=()=>{let m=Array.from(new Ki(w));return l&&(m=m.reverse()),(y!==0||v!==1/0)&&(m=m.slice(y,v)),m};else{const m=c==="data"?t:c==="height"?Ec(e,"y1","y2"):c==="width"?Ec(e,"x1","x2"):nf(e,c,c==="y"?"y2":c==="x"?"x2":void 0),M=fh(h===!0?"max":h,m);b.domain=()=>{let x=O1(qe(w),_=>M.reduceIndex(_,m),_=>w[_]);return d&&x.sort(d),l&&x.reverse(),(y!==0||v!==1/0)&&(x=x.slice(y,v)),x.map(H0)}}}}function D8(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function I8(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let a=0;a<e.length;++a){const o=r[e[a][0]];for(const f of t[a])i[f]=o}return n}function Ec(t,n,e){const r=nf(t,n),i=nf(t,e);return dt(i,(a,o)=>Math.abs(a-r[o]),Float64Array)}function nf(t,n,e){let r=t[n];if(!r&&e!==void 0&&(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function L8(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return sh;case"descending":return lh}throw new Error(`invalid order: ${t}`)}function sh([t,n],[e,r]){return ne(n,r)||ne(t,e)}function lh([t,n],[e,r]){return Go(n,r)||ne(t,e)}function Nc(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return e.source===null?null:e}}const dh=new Map([["accent",c6],["category10",u6],["dark2",s6],["observable10",l6],["paired",d6],["pastel1",h6],["pastel2",p6],["set1",g6],["set2",m6],["set3",b6],["tableau10",y6]]);function R8(t){return t!=null&&dh.has(`${t}`.toLowerCase())}const kc=new Map([...dh,["brbg",sn(dd,hd)],["prgn",sn(pd,gd)],["piyg",sn(md,bd)],["puor",sn(yd,wd)],["rdbu",sn(Ho,Hi)],["rdgy",sn(vd,xd)],["rdylbu",sn(Wo,Wi)],["rdylgn",sn(Md,$d)],["spectral",sn(_d,Sd)],["burd",Dc(Ho,Hi)],["buylrd",Dc(Wo,Wi)],["blues",gt(Kd,Qd)],["greens",gt(Jd,jd)],["greys",gt(t0,n0)],["oranges",gt(o0,f0)],["purples",gt(e0,r0)],["reds",gt(i0,a0)],["turbo",ln(p0)],["viridis",ln(g0)],["magma",ln(m0)],["inferno",ln(b0)],["plasma",ln(y0)],["cividis",ln(u0)],["cubehelix",ln(c0)],["warm",ln(s0)],["cool",ln(l0)],["bugn",gt(Td,Ad)],["bupu",gt(Cd,Ed)],["gnbu",gt(Nd,kd)],["orrd",gt(Dd,Id)],["pubu",gt(Fd,Pd)],["pubugn",gt(Ld,Rd)],["purd",gt(Od,Ud)],["rdpu",gt(qd,zd)],["ylgn",gt(Hd,Wd)],["ylgnbu",gt(Yd,Bd)],["ylorbr",gt(Vd,Gd)],["ylorrd",gt(Xd,Zd)],["rainbow",Ic(d0)],["sinebow",Ic(h0)]]);function gt(t,n){return({length:e})=>e===1?[t[3][1]]:e===2?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>9?Ht(n,e):t[e])}function sn(t,n){return({length:e})=>e===2?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>11?Ht(n,e):t[e])}function Dc(t,n){return({length:e})=>e===2?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)),e>11?Ht(r=>n(1-r),e):t[e].slice().reverse())}function ln(t){return({length:n})=>Ht(t,Math.max(2,Math.floor(n)))}function Ic(t){return({length:n})=>Ht(t,Math.floor(n)+1).slice(0,-1)}function hh(t){const n=`${t}`.toLowerCase();if(!kc.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return kc.get(n)}function xa(t,n){const e=hh(t),r=typeof e=="function"?e({length:n}):e;return r.length!==n?r.slice(0,n):r}function F8(t,n="greys"){const e=new Set,[r,i]=xa(n,2);for(const a of t)if(a!=null)if(a===!0)e.add(i);else if(a===!1)e.add(r);else return;return[...e]}const Lc=new Map([["brbg",hd],["prgn",gd],["piyg",bd],["puor",wd],["rdbu",Hi],["rdgy",xd],["rdylbu",Wi],["rdylgn",$d],["spectral",Sd],["burd",t=>Hi(1-t)],["buylrd",t=>Wi(1-t)],["blues",Qd],["greens",jd],["greys",n0],["purples",r0],["reds",a0],["oranges",f0],["turbo",p0],["viridis",g0],["magma",m0],["inferno",b0],["plasma",y0],["cividis",u0],["cubehelix",c0],["warm",s0],["cool",l0],["bugn",Ad],["bupu",Ed],["gnbu",kd],["orrd",Id],["pubugn",Rd],["pubu",Pd],["purd",Ud],["rdpu",zd],["ylgnbu",Bd],["ylgn",Wd],["ylorbr",Gd],["ylorrd",Zd],["rainbow",d0],["sinebow",h0]]);function Jf(t){const n=`${t}`.toLowerCase();if(!Lc.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return Lc.get(n)}const P8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function O8(t){return t!=null&&P8.has(`${t}`.toLowerCase())}const ph=t=>n=>t(1-n),Xa=[0,1],Rc=new Map([["number",wt],["rgb",Kn],["hsl",wm],["hcl",Mm],["lab",vm]]);function gh(t){const n=`${t}`.toLowerCase();if(!Rc.has(n))throw new Error(`unknown interpolator: ${n}`);return Rc.get(n)}function Hr(t,n,e,{type:r,nice:i,clamp:a,zero:o,domain:f=bh(t,e),unknown:u,round:s,scheme:c,interval:d,range:l=st.get(t)===zr?Z8(e,f):st.get(t)===Yr?K8(e,f):st.get(t)===Br?Xa:void 0,interpolate:h=st.get(t)===Sn?c==null&&l!==void 0?Kn:Jf(c!==void 0?c:r==="cyclical"?"rainbow":"turbo"):s?vf:wt,reverse:p}){if(f=Fc(f),d=qr(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof h!="function"&&(h=gh(h)),p=!!p,l!==void 0){const g=f.length,b=(l=Fc(l)).length;if(g!==b){if(h.length===1)throw new Error("invalid piecewise interpolator");h=ea(h,l),l=void 0}}if(h.length===1?(p&&(h=ph(h),p=!1),l===void 0&&(l=Float64Array.from(f,(g,b)=>b/(f.length-1)),l.length===2&&(l=Xa)),n.interpolate((l===Xa?wn:tu)(h))):n.interpolate(h),o){const[g,b]=Nn(f);(g>0||b<0)&&(f=Ko(f),(Ne(f)||1)===Math.sign(g)?f[0]=0:f[f.length-1]=0)}return p&&(f=Mi(f)),n.domain(f).unknown(u),i&&(n.nice(U8(i,r)),f=n.domain()),l!==void 0&&n.range(l),a&&n.clamp(a),{type:r,domain:f,range:l,scale:n,interpolate:h,interval:d}}function Fc(t){return t=fe(t),t.length>=2?t:[t[0],t[0]]}function U8(t,n){return t===!0?void 0:typeof t=="number"?t:J6(t,n)}function q8(t,n,e){return Hr(t,Df(),n,e)}function z8(t,n,e){return mh(t,n,{...e,exponent:.5})}function mh(t,n,{exponent:e=1,...r}){return Hr(t,Vl().exponent(e),n,{...r,type:"pow"})}function Y8(t,n,{base:e=10,domain:r=Q8(n),...i}){return Hr(t,Yl().base(e),n,{...i,domain:r})}function B8(t,n,{constant:e=1,...r}){return Hr(t,Hl().constant(e),n,r)}function H8(t,n,{range:e,quantiles:r=e===void 0?5:(e=[...e]).length,n:i=r,scheme:a="rdylbu",domain:o=J8(n),unknown:f,interpolate:u,reverse:s}){return e===void 0&&(e=u!==void 0?Ht(u,i):st.get(t)===Sn?xa(a,i):void 0),o.length>0&&(o=Gl(o,e===void 0?{length:i}:e).quantiles()),jf(t,n,{domain:o,range:e,reverse:s,unknown:f})}function W8(t,n,{range:e,n:r=e===void 0?5:(e=[...e]).length,scheme:i="rdylbu",domain:a=bh(t,n),unknown:o,interpolate:f,reverse:u}){const[s,c]=Nn(a);let d;return e===void 0?(d=vi(s,c,r),d[0]<=s&&d.splice(0,1),d[d.length-1]>=c&&d.pop(),r=d.length+1,e=f!==void 0?Ht(f,r):st.get(t)===Sn?xa(i,r):void 0):(d=Ht(wt(s,c),r+1).slice(1,-1),s instanceof Date&&(d=d.map(l=>new Date(l)))),Ne(fe(a))<0&&d.reverse(),jf(t,n,{domain:d,range:e,reverse:u,unknown:o})}function jf(t,n,{domain:e=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:o=a!==void 0?Ht(a,e.length+1):st.get(t)===Sn?xa(i,e.length+1):void 0,reverse:f}){e=fe(e);const u=Ne(e);if(!isNaN(u)&&!V8(e,u))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(o=Mi(o)),{type:"threshold",scale:Xl(u<0?Mi(e):e,o===void 0?[]:o).unknown(r),domain:e,range:o}}function V8(t,n){for(let e=1,r=t.length,i=t[0];e<r;++e){const a=_r(i,i=t[e]);if(a!==0&&a!==n)return!1}return!0}function G8(t){return{type:"identity",scale:s8(st.get(t))?Ul():n=>n}}function $r(t,n=L0){return t.length?[dr(t,({value:e})=>e===void 0?e:dr(e,n)),nn(t,({value:e})=>e===void 0?e:nn(e,n))]:[0,1]}function bh(t,n){const e=st.get(t);return(e===zr||e===Br||e===Yr?X8:$r)(n)}function X8(t){return[0,t.length?nn(t,({value:n})=>n===void 0?n:nn(n,L0)):1]}function Z8(t,n){const e=t.find(({radius:o})=>o!==void 0);if(e!==void 0)return[0,e.radius];const r=xi(t,.5,({value:o})=>o===void 0?NaN:xi(o,.25,Uf)),i=n.map(o=>3*Math.sqrt(o/r)),a=30/nn(i);return a<1?i.map(o=>o*a):i}function K8(t,n){const e=lo(t,({value:a})=>a===void 0?NaN:lo(a,Math.abs)),r=n.map(a=>12*a/e),i=60/nn(r);return i<1?r.map(a=>a*i):r}function Q8(t){for(const{value:n}of t)if(n!==void 0)for(let e of n){if(e>0)return $r(t,Uf);if(e<0)return $r(t,R0)}return[1,10]}function J8(t){const n=[];for(const{value:e}of t)if(e!==void 0)for(const r of e)n.push(r);return n}function tu(t){return(n,e)=>r=>t(n+r*(e-n))}let ef=0,rf;function j8(){const t=ef;return ef=0,rf=void 0,t}function kn(t){t!==rf&&(rf=t,console.warn(t),++ef)}function Ma(t,n,e,r,{type:i,nice:a,clamp:o,domain:f=$r(r),unknown:u,pivot:s=0,scheme:c,range:d,symmetric:l=!0,interpolate:h=st.get(t)===Sn?c==null&&d!==void 0?Kn:Jf(c!==void 0?c:"rdbu"):wt,reverse:p}){s=+s,f=fe(f);let[g,b]=f;if(f.length>2&&kn(`Warning: the diverging ${t} scale domain contains extra elements.`),_r(g,b)<0&&([g,b]=[b,g],p=!p),g=Math.min(g,s),b=Math.max(b,s),typeof h!="function"&&(h=gh(h)),d!==void 0&&(h=h.length===1?tu(h)(...d):ea(h,d)),p&&(h=ph(h)),l){const w=e.apply(s),y=w-e.apply(g),v=e.apply(b)-w;y<v?g=e.invert(w-v):y>v&&(b=e.invert(w+y))}return n.domain([g,s,b]).unknown(u).interpolator(h),o&&n.clamp(o),a&&n.nice(a),{type:i,domain:[g,b],pivot:s,interpolate:h,scale:n}}function tw(t,n,e){return Ma(t,ud(),iw,n,e)}function nw(t,n,e){return yh(t,n,{...e,exponent:.5})}function yh(t,n,{exponent:e=1,...r}){return Ma(t,ld().exponent(e=+e),fw(e),n,{...r,type:"diverging-pow"})}function ew(t,n,{base:e=10,pivot:r=1,domain:i=$r(n,r<0?R0:Uf),...a}){return Ma(t,cd().base(e=+e),aw,n,{domain:i,pivot:r,...a})}function rw(t,n,{constant:e=1,...r}){return Ma(t,sd().constant(e=+e),uw(e),n,r)}const iw={apply(t){return t},invert(t){return t}},aw={apply:Math.log,invert:Math.exp},ow={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function fw(t){return t===.5?ow:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),t)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/t)}}}function uw(t){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}}function wh(t,n,e,r){return Hr(t,n,e,r)}function cw(t,n,e){return wh(t,o6(),n,e)}function sw(t,n,e){return wh(t,f6(),n,e)}const Wr=Symbol("ordinal");function vh(t,n,e,{type:r,interval:i,domain:a,range:o,reverse:f,hint:u}){return i=qr(i,r),a===void 0&&(a=Mh(e,i,t)),(r==="categorical"||r===Wr)&&(r="ordinal"),f&&(a=Mi(a)),a=n.domain(a).domain(),o!==void 0&&(typeof o=="function"&&(o=o(a)),n.range(o)),{type:r,domain:a,range:o,scale:n,hint:u,interval:i}}function lw(t,n,{type:e,interval:r,domain:i,range:a,scheme:o,unknown:f,...u}){r=qr(r,e),i===void 0&&(i=Mh(n,r,t));let s;if(st.get(t)===va)s=pw(n),a=a===void 0?gw(s):dt(a,Kf);else if(st.get(t)===Sn&&(a===void 0&&(e==="ordinal"||e===Wr)&&(a=F8(i,o),a!==void 0&&(o=void 0)),o===void 0&&a===void 0&&(o=e==="ordinal"?"turbo":"observable10"),o!==void 0))if(a!==void 0){const c=Jf(o),d=a[0],l=a[1]-a[0];a=({length:h})=>Ht(p=>c(d+l*p),h)}else a=hh(o);if(f===zo)throw new Error(`implicit unknown on ${t} scale is not supported`);return vh(t,kf().unknown(f),n,{...u,type:e,domain:i,range:a,hint:s})}function dw(t,n,{align:e=.5,padding:r=.5,...i}){return xh(q2().align(e).padding(r),n,i,t)}function hw(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=t==="fx"||t==="fy"?0:r,...o}){return xh(ua().align(e).paddingInner(i).paddingOuter(a),n,o,t)}function xh(t,n,e,r){let{round:i}=e;return i!==void 0&&t.round(i=!!i),t=vh(r,t,n,e),t.round=i,t}function Mh(t,n,e){const r=new Ki;for(const{value:i,domain:a}of t){if(a!==void 0)return a();if(i!==void 0)for(const o of i)r.add(o)}if(n!==void 0){const[i,a]=Nn(r).map(n.floor,n);return n.range(i,n.offset(a))}if(r.size>1e4&&st.get(e)===Jt)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return ms(r,ne)}function Pc(t,n){let e;for(const{hint:r}of t){const i=r==null?void 0:r[n];if(i!==void 0){if(e===void 0)e=i;else if(e!==i)return}}return e}function pw(t){return{fill:Pc(t,"fill"),stroke:Pc(t,"stroke")}}function gw(t){return St(t.fill)?E6:C6}function af(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:a=e,insetLeft:o=e,round:f,nice:u,clamp:s,zero:c,align:d,padding:l,projection:h,facet:{label:p=n}={},...g}={}){const b={};for(const[w,y]of t){const v=g[w],m=vw(w,y,{round:st.get(w)===Jt?f:void 0,nice:u,clamp:s,zero:c,align:d,padding:l,projection:h,...v});if(m){let{label:M=w==="fx"||w==="fy"?p:n,percent:x,transform:_,inset:S,insetTop:A=S!==void 0?S:w==="y"?r:0,insetRight:N=S!==void 0?S:w==="x"?i:0,insetBottom:$=S!==void 0?S:w==="y"?a:0,insetLeft:D=S!==void 0?S:w==="x"?o:0}=v||{};if(_==null)_=void 0;else if(typeof _!="function")throw new Error("invalid scale transform; not a function");m.percent=!!x,m.label=M===void 0?bw(y,m):M,m.transform=_,w==="x"||w==="fx"?(m.insetLeft=+D,m.insetRight=+N):(w==="y"||w==="fy")&&(m.insetTop=+A,m.insetBottom=+$),b[w]=m}}return b}function Oc(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:a,type:o,interval:f,label:u}=i;n[r]=Sw(i),e[r]=a,a.type=o,f!=null&&(a.interval=f),u!=null&&(a.label=u)}return e}function mw(t,n){const{x:e,y:r,fx:i,fy:a}=t,o=i||a?nu(n):n;i&&Uc(i,o),a&&qc(a,o);const f=i||a?$h(t,n):n;e&&Uc(e,f),r&&qc(r,f)}function bw(t=[],n){let e;for(const{label:r}of t)if(r!==void 0){if(e===void 0)e=r;else if(e!==r)return}if(e!==void 0)return!ce(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function yw(t){return Math.sign(Ne(t.domain()))*Math.sign(Ne(t.range()))}function nu(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:a,height:o,facet:{marginTop:f,marginRight:u,marginBottom:s,marginLeft:c}}=t;return{marginTop:Math.max(n,f),marginRight:Math.max(e,u),marginBottom:Math.max(r,s),marginLeft:Math.max(i,c),width:a,height:o}}function $h({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:f,height:u}=nu(e);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:t?t.scale.bandwidth()+o+i:f,height:n?n.scale.bandwidth()+r+a:u,facet:{width:f,height:u}}}function Uc(t,n){if(t.range===void 0){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:a=0,marginRight:o=0}=n,f=a+e,u=i-o-r;t.range=[f,Math.max(f,u)],ce(t)||(t.range=Sh(t)),t.scale.range(t.range)}_h(t)}function qc(t,n){if(t.range===void 0){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:a=0,marginBottom:o=0}=n,f=a+e,u=i-o-r;t.range=[Math.max(f,u),f],ce(t)?t.range.reverse():t.range=Sh(t),t.scale.range(t.range)}_h(t)}function _h(t){t.round===void 0&&Mw(t)&&ww(t)<=30&&t.scale.round(!0)}function ww({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,a=t.paddingOuter?t.paddingOuter():t.padding(),o=n-i,f=Math.abs(r-e)/Math.max(1,o+a*2);return(f-Math.floor(f))*o}function Sh(t){const n=t.scale.domain().length+Th(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},(i,a)=>e+a/(n-1)*(r-e))}function vw(t,n=[],e={}){const r=xw(t,n,e);if(e.type===void 0&&e.domain===void 0&&e.range===void 0&&e.interval==null&&t!=="fx"&&t!=="fy"&&ce({type:r})){const i=n.map(({value:a})=>a).filter(a=>a!==void 0);i.some(qt)?kn(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${ge(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${ge(r)}".`):i.some(t8)?kn(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${ge(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${ge(r)}".`):i.some(n8)&&kn(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${ge(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${ge(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=ri(n,e,Sc);break;case"identity":switch(st.get(t)){case Jt:e=ri(n,e,Sc);break;case va:e=ri(n,e,$w);break}break;case"utc":case"time":e=ri(n,e,W0);break}switch(r){case"diverging":return tw(t,n,e);case"diverging-sqrt":return nw(t,n,e);case"diverging-pow":return yh(t,n,e);case"diverging-log":return ew(t,n,e);case"diverging-symlog":return rw(t,n,e);case"categorical":case"ordinal":case Wr:return lw(t,n,e);case"cyclical":case"sequential":case"linear":return q8(t,n,e);case"sqrt":return z8(t,n,e);case"threshold":return jf(t,n,e);case"quantile":return H8(t,n,e);case"quantize":return W8(t,n,e);case"pow":return mh(t,n,e);case"log":return Y8(t,n,e);case"symlog":return B8(t,n,e);case"utc":return sw(t,n,e);case"time":return cw(t,n,e);case"point":return dw(t,n,e);case"band":return hw(t,n,e);case"identity":return G8(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function ge(t){return typeof t=="symbol"?t.description:t}function zc(t){return typeof t=="string"?`${t}`.toLowerCase():t}const Yc={toString:()=>"projection"};function xw(t,n,{type:e,domain:r,range:i,scheme:a,pivot:o,projection:f}){var c;if(e=zc(e),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(e=Yc);for(const d of n){const l=zc(d.type);if(l!==void 0){if(e===void 0)e=l;else if(e!==l)throw new Error(`scale incompatible with channel: ${e} !== ${l}`)}}if(e===Yc)return;if(e!==void 0)return e;if(r===void 0&&!n.some(({value:d})=>d!==void 0))return;const u=st.get(t);if(u===zr)return"sqrt";if(u===Br||u===Yr)return"linear";if(u===va)return"ordinal";const s=(c=r??i)==null?void 0:c.length;if(s<2||s>2)return Za(u);if(r!==void 0){if(Tc(r))return Za(u);if(qt(r))return"utc"}else{const d=n.map(({value:l})=>l).filter(l=>l!==void 0);if(d.some(Tc))return Za(u);if(d.some(qt))return"utc"}if(u===Sn){if(o!=null||O8(a))return"diverging";if(R8(a))return"categorical"}return"linear"}function Za(t){switch(t){case Jt:return"point";case Sn:return Wr;default:return"ordinal"}}function ce({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===Wr}function Th({type:t}){return t==="threshold"}function Mw({type:t}){return t==="point"||t==="band"}function Le(t){if(t===void 0)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function ri(t,{domain:n,...e},r){var i;for(const a of t)a.value!==void 0&&(n===void 0&&(n=(i=a.value)==null?void 0:i.domain),a.value=r(a.value));return{domain:n===void 0?n:r(n),...e}}function $w(t){return dt(t,Kf)}function _w(t){return n=>{if(!st.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}function Sw({scale:t,type:n,domain:e,range:r,interpolate:i,interval:a,transform:o,percent:f,pivot:u}){if(n==="identity")return{type:"identity",apply:c=>c,invert:c=>c};const s=t.unknown?t.unknown():void 0;return{type:n,domain:Ko(e),...r!==void 0&&{range:Ko(r)},...o!==void 0&&{transform:o},...f&&{percent:f},...s!==void 0&&{unknown:s},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:c=>t(c),...t.invert&&{invert:c=>t.invert(c)}}}function Tw(t,n){const{fx:e,fy:r}=af(t,n),i=e==null?void 0:e.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?F1(i,a).map(([o,f],u)=>({x:o,y:f,i:u})):i?i.map((o,f)=>({x:o,i:f})):a?a.map((o,f)=>({y:o,i:f})):void 0}function Aw(t,{x:n,y:e}){return n&&(n=of(n)),e&&(e=of(e)),t.filter(n&&e?r=>n.has(r.x)&&e.has(r.y):n?r=>n.has(r.x):r=>e.has(r.y)).sort(n&&e?(r,i)=>n.get(r.x)-n.get(i.x)||e.get(r.y)-e.get(i.y):n?(r,i)=>n.get(r.x)-n.get(i.x):(r,i)=>e.get(r.y)-e.get(i.y))}function eu(t,{fx:n,fy:e}){const r=qe(t),i=n==null?void 0:n.value,a=e==null?void 0:e.value;return n&&e?li(r,o=>(o.fx=i[o[0]],o.fy=a[o[0]],o),o=>i[o],o=>a[o]):n?li(r,o=>(o.fx=i[o[0]],o),o=>i[o]):li(r,o=>(o.fy=a[o[0]],o),o=>a[o])}function Cw(t,n,{marginTop:e,marginLeft:r}){const i=t?({x:o})=>t(o)-r:()=>0,a=n?({y:o})=>n(o)-e:()=>0;return function(o){this.tagName==="svg"?(this.setAttribute("x",i(o)),this.setAttribute("y",a(o))):this.setAttribute("transform",`translate(${i(o)},${a(o)})`)}}function Ew(t){const n=[],e=new Uint32Array(Qi(t,r=>r.length));for(const r of t){let i=0;for(const a of t)r!==a&&(e.set(a,i),i+=a.length);n.push(e.slice(0,i))}return n}const Nw=new Map([["top",Ka],["right",ja],["bottom",Qa],["left",Ja],["top-left",ii(Ka,Ja)],["top-right",ii(Ka,ja)],["bottom-left",ii(Qa,Ja)],["bottom-right",ii(Qa,ja)],["top-empty",Iw],["right-empty",Fw],["bottom-empty",Lw],["left-empty",Rw],["empty",Pw]]);function kw(t){if(t==null)return null;const n=Nw.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}const Bc=new WeakMap;function of(t){let n=Bc.get(t);return n||Bc.set(t,n=new lr(dt(t,(e,r)=>[e,r]))),n}function On(t,n){return of(t).get(n)}function Dw(t,n,e){return n=vn(n),e=vn(e),t.find(r=>Object.is(vn(r.x),n)&&Object.is(vn(r.y),e))}function $a(t,n,e){var r;return(r=Dw(t,n,e))==null?void 0:r.empty}function Ka(t,{y:n},{y:e}){return n?On(n,e)===0:!0}function Qa(t,{y:n},{y:e}){return n?On(n,e)===n.length-1:!0}function Ja(t,{x:n},{x:e}){return n?On(n,e)===0:!0}function ja(t,{x:n},{x:e}){return n?On(n,e)===n.length-1:!0}function Iw(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=On(n,r);if(a>0)return $a(t,e,n[a-1])}function Lw(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=On(n,r);if(a<n.length-1)return $a(t,e,n[a+1])}function Rw(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=On(n,e);if(a>0)return $a(t,n[a-1],r)}function Fw(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=On(n,e);if(a<n.length-1)return $a(t,n[a+1],r)}function Pw(t,n,{empty:e}){return e}function ii(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function to(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map(({x:i,y:a})=>{var o;return((o=r.get(i))==null?void 0:o.get(a))??[]}):n?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}const Ah=Math.PI,dn=2*Ah,no=.618;function Ow({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:a=n}={},o){if(t==null)return;if(typeof t.stream=="function")return t;let f,u,s="frame";if(Pn(t)){let M;if({type:t,domain:u,inset:M,insetTop:e=M!==void 0?M:e,insetRight:r=M!==void 0?M:r,insetBottom:i=M!==void 0?M:i,insetLeft:a=M!==void 0?M:a,clip:s=s,...f}=t,t==null)return}typeof t!="function"&&({type:t}=ff(t));const{width:c,height:d,marginLeft:l,marginRight:h,marginTop:p,marginBottom:g}=o,b=c-l-h-a-r,w=d-p-g-e-i;if(t=t==null?void 0:t({width:b,height:w,clip:s,...f}),t==null)return;s=Uw(s,l,p,c-h,d-g);let y=l+a,v=p+e,m;if(u!=null){const[[M,x],[_,S]]=Af(t).bounds(u),A=Math.min(b/(_-M),w/(S-x));A>0?(y-=(A*(M+_)-b)/2,v-=(A*(x+S)-w)/2,m=Ui({point(N,$){this.stream.point(N*A+y,$*A+v)}})):kn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return m??(m=y===0&&v===0?Ch():Ui({point(M,x){this.stream.point(M+y,x+v)}})),{stream:M=>t.stream(m.stream(s(M)))}}function ff(t){switch(`${t}`.toLowerCase()){case"albers-usa":return zt(S2,.7463,.4673);case"albers":return ai(Al,.7463,.4673);case"azimuthal-equal-area":return zt(T2,4,4);case"azimuthal-equidistant":return zt(A2,dn,dn);case"conic-conformal":return ai(N2,dn,dn);case"conic-equal-area":return ai(qi,6.1702,2.9781);case"conic-equidistant":return ai(I2,7.312,3.6282);case"equal-earth":return zt(R2,5.4133,2.6347);case"equirectangular":return zt(k2,dn,Ah);case"gnomonic":return zt(F2,3.4641,3.4641);case"identity":return{type:Ch};case"reflect-y":return{type:qw};case"mercator":return zt(C2,dn,dn);case"orthographic":return zt(P2,2,2);case"stereographic":return zt(O2,2,2);case"transverse-mercator":return zt(U2,dn,dn);default:throw new Error(`unknown projection type: ${t}`)}}function Uw(t,n,e,r,i){if(t===!1||t==null||typeof t=="number")return a=>a;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return ll(n,e,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function zt(t,n,e){return{type:({width:r,height:i,rotate:a,precision:o=.15,clip:f})=>{var s,c,d;const u=t();return o!=null&&((s=u.precision)==null||s.call(u,o)),a!=null&&((c=u.rotate)==null||c.call(u,a)),typeof f=="number"&&((d=u.clipAngle)==null||d.call(u,f)),r!=null&&(u.scale(Math.min(r/n,i/e)),u.translate([r/2,i/2])),u},aspectRatio:e/n}}function ai(t,n,e){const{type:r,aspectRatio:i}=zt(t,n,e);return{type:a=>{const{parallels:o,domain:f,width:u,height:s}=a,c=r(a);return o!=null&&(c.parallels(o),f===void 0&&u!=null&&c.fitSize([u,s],{type:"Sphere"})),c},aspectRatio:i}}const Ch=wn({stream:t=>t}),qw=wn(Ui({point(t,n){this.stream.point(t,-n)}}));function zw(t,n,e,r){const i=e[t],a=e[n],o=i.length,f=e[t]=new Float64Array(o).fill(NaN),u=e[n]=new Float64Array(o).fill(NaN);let s;const c=r.stream({point(d,l){f[s]=d,u[s]=l}});for(s=0;s<o;++s)c.point(i[s],a[s])}function Yw({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(Pn(t)&&(t=t.type),t!=null)}function Bw(t){if(typeof(t==null?void 0:t.stream)=="function")return no;if(Pn(t)){let n,e;if({domain:n,type:t,...e}=t,n!=null&&t!=null){const r=typeof t=="string"?ff(t).type:t,[[i,a],[o,f]]=Af(r({...e,width:100,height:100})).bounds(n),u=(f-a)/(o-i);return u&&isFinite(u)?u<.2?.2:u>5?5:u:no}}if(t!=null){if(typeof t!="function"){const{aspectRatio:n}=ff(t);if(n)return n}return no}}function Hw(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},a={point(o,f){n.push(o),e.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const o of t.value)zn(o,a);return[r,i]}function Ww({x:t,y:n}){if(t||n)return t??(t=e=>e),n??(n=e=>e),Ui({point(e,r){this.stream.point(t(e),n(r))}})}function ru(t={}){const{document:n=typeof window<"u"?window.document:void 0,clip:e}=t;return{document:n,clip:th(e)}}function _t(t,{document:n}){return Bn(ji(t).call(n.documentElement))}const uf=Symbol("unset");function iu(t){return(t.length===1?Vw:Gw)(t)}function Vw(t){let n,e=uf;return r=>(Object.is(e,r)||(e=r,n=t(r)),n)}function Gw(t){let n,e;return(...r)=>(((e==null?void 0:e.length)!==r.length||e.some((i,a)=>!Object.is(i,r[a])))&&(e=r,n=t(...r)),n)}const Xw=iu(t=>new Intl.NumberFormat(t));iu((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{month:n}}));iu((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{weekday:n}}));function Zw(t="en-US"){const n=Xw(t);return e=>e!=null&&!isNaN(e)?n.format(e):void 0}function Kw(t){return N6(t,"Invalid Date")}function Qw(t="en-US"){const n=Zw(t);return e=>(e instanceof Date?Kw:typeof e=="number"?n:vt)(e)}const Re=Qw(),Et=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let Jw=0;function Eh(){return`plot-clip-${++Jw}`}function jw(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:o,fill:f,fillOpacity:u,stroke:s,strokeWidth:c,strokeOpacity:d,strokeLinejoin:l,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:b,opacity:w,mixBlendMode:y,imageFilter:v,paintOrder:m,pointerEvents:M,shapeRendering:x,channels:_},{ariaLabel:S,fill:A="currentColor",fillOpacity:N,stroke:$="none",strokeOpacity:D,strokeWidth:F,strokeLinecap:L,strokeLinejoin:T,strokeMiterlimit:P,paintOrder:k}){A===null&&(f=null,u=null),$===null&&(s=null,d=null),St(A)?!St($)&&(!St(f)||_!=null&&_.fill)&&($="none"):St($)&&(!St(s)||_!=null&&_.stroke)&&(A="none");const[B,W]=ee(f,A),[I,O]=Ct(u,N),[z,R]=ee(s,$),[X,nt]=Ct(d,D),[J,q]=Ct(w);xr(R)||(c===void 0&&(c=F),h===void 0&&(h=L),l===void 0&&(l=T),p===void 0&&!a8(l)&&(p=P),!xr(W)&&m===void 0&&(m=k));const[H,E]=Ct(c);return A!==null&&(t.fill=yt(W,"currentColor"),t.fillOpacity=Ke(O,1)),$!==null&&(t.stroke=yt(R,"none"),t.strokeWidth=Ke(E,1),t.strokeOpacity=Ke(nt,1),t.strokeLinejoin=yt(l,"miter"),t.strokeLinecap=yt(h,"butt"),t.strokeMiterlimit=Ke(p,4),t.strokeDasharray=yt(g,"none"),t.strokeDashoffset=yt(b,"0")),t.target=vt(o),t.ariaLabel=vt(S),t.ariaDescription=vt(i),t.ariaHidden=vt(a),t.opacity=Ke(q,1),t.mixBlendMode=yt(y,"normal"),t.imageFilter=yt(v,"none"),t.paintOrder=yt(m,"normal"),t.pointerEvents=yt(M,"auto"),t.shapeRendering=yt(x,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:B,scale:"auto",optional:!0},fillOpacity:{value:I,scale:"auto",optional:!0},stroke:{value:z,scale:"auto",optional:!0},strokeOpacity:{value:X,scale:"auto",optional:!0},strokeWidth:{value:H,optional:!0},opacity:{value:J,scale:"auto",optional:!0}}}function t5(t,n){n&&t.filter(e=>Of(n[e])).append("title").call(e5,n)}function n5(t,n){n&&t.filter(([e])=>Of(n[e])).append("title").call(r5,n)}function e5(t,n){n&&t.text(e=>Re(n[e]))}function r5(t,n){n&&t.text(([e])=>Re(n[e]))}function re(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:a,fillOpacity:o,stroke:f,strokeOpacity:u,strokeWidth:s,opacity:c,href:d}){r&&G(t,"aria-label",l=>r[l]),a&&G(t,"fill",l=>a[l]),o&&G(t,"fill-opacity",l=>o[l]),f&&G(t,"stroke",l=>f[l]),u&&G(t,"stroke-opacity",l=>u[l]),s&&G(t,"stroke-width",l=>s[l]),c&&G(t,"opacity",l=>c[l]),d&&Nh(t,l=>d[l],n),e||t5(t,i)}function g7(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:a,fillOpacity:o,stroke:f,strokeOpacity:u,strokeWidth:s,opacity:c,href:d}){r&&G(t,"aria-label",([l])=>r[l]),a&&G(t,"fill",([l])=>a[l]),o&&G(t,"fill-opacity",([l])=>o[l]),f&&G(t,"stroke",([l])=>f[l]),u&&G(t,"stroke-opacity",([l])=>u[l]),s&&G(t,"stroke-width",([l])=>s[l]),c&&G(t,"opacity",([l])=>c[l]),d&&Nh(t,([l])=>d[l],n),e||n5(t,i)}function i5({ariaLabel:t,title:n,fill:e,fillOpacity:r,stroke:i,strokeOpacity:a,strokeWidth:o,opacity:f,href:u},{tip:s}){return[t,s?void 0:n,e,r,i,a,o,f,u].filter(c=>c!==void 0)}function a5(t,n,e){const r=gs(t,i=>n[i]);return e===void 0&&r.size>1+t.length>>1&&kn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*m7(t,n,e,r){const{z:i}=e,{z:a}=r,o=i5(r,e),f=[...n,...o];for(const u of a?a5(t,a,i):[t]){let s,c;t:for(const d of u){for(const l of f)if(!In(l[d])){c&&c.push(-1);continue t}if(s===void 0){c&&(yield c),s=o.map(l=>vn(l[d])),c=[d];continue}c.push(d);for(let l=0;l<o.length;++l)if(vn(o[l][d])!==s[l]){yield c,s=o.map(p=>vn(p[d])),c=[d];continue t}}c&&(yield c)}}function o5(t,n,e,r){let i;const{clip:a=r.clip}=n;a==="frame"?(t=_t("svg:g",r).each(function(){this.appendChild(t.node()),t.node=()=>this}),i=u5(r,e)):a&&(i=s5(a,r)),G(t,"aria-label",n.ariaLabel),G(t,"aria-description",n.ariaDescription),G(t,"aria-hidden",n.ariaHidden),G(t,"clip-path",i)}function f5(t){const n=new WeakMap;return(e,r)=>{let i=n.get(e);if(!i){const a=Eh();Bn(e.ownerSVGElement).append("clipPath").attr("id",a).call(t,e,r),n.set(e,i=`url(#${a})`)}return i}}const u5=f5((t,n,e)=>{const{width:r,height:i,marginLeft:a,marginRight:o,marginTop:f,marginBottom:u}=e;t.append("rect").attr("x",a).attr("y",f).attr("width",r-o-a).attr("height",i-f-u)}),Hc=new WeakMap,c5={type:"Sphere"};function s5(t,n){let e,r;if((e=Hc.get(n))||Hc.set(n,e=new WeakMap),t.type==="Sphere"&&(t=c5),!(r=e.get(t))){const i=Eh();Bn(n.ownerSVGElement).append("clipPath").attr("id",i).append("path").attr("d",n.path()(t)),e.set(t,r=`url(#${i})`)}return r}function se(t,n,e,r){o5(t,n,e,r),G(t,"class",n.className),G(t,"fill",n.fill),G(t,"fill-opacity",n.fillOpacity),G(t,"stroke",n.stroke),G(t,"stroke-width",n.strokeWidth),G(t,"stroke-opacity",n.strokeOpacity),G(t,"stroke-linejoin",n.strokeLinejoin),G(t,"stroke-linecap",n.strokeLinecap),G(t,"stroke-miterlimit",n.strokeMiterlimit),G(t,"stroke-dasharray",n.strokeDasharray),G(t,"stroke-dashoffset",n.strokeDashoffset),G(t,"shape-rendering",n.shapeRendering),G(t,"filter",n.imageFilter),G(t,"paint-order",n.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=n;G(t,"pointer-events",i)}function Ln(t,n){l5(t,"mix-blend-mode",n.mixBlendMode),G(t,"opacity",n.opacity)}function Nh(t,n,e){t.each(function(r){const i=n(r);if(i!=null){const a=this.ownerDocument.createElementNS(xe.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(xe.xlink,"href",i),e!=null&&a.setAttribute("target",e),this.parentNode.insertBefore(a,this).appendChild(this)}})}function G(t,n,e){e!=null&&t.attr(n,e)}function l5(t,n,e){e!=null&&t.style(n,e)}function le(t,n,{x:e,y:r},i=Et,a=Et){i+=n.dx,a+=n.dy,e!=null&&e.bandwidth&&(i+=e.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&t.attr("transform",`translate(${i},${a})`)}function yt(t,n){if((t=vt(t))!==n)return t}function Ke(t,n){if((t=Mt(t))!==n)return t}const d5=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function au(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!d5.test(t))throw new Error(`invalid class name: ${t}`);return t}function ou(t,n){if(typeof n=="string")t.property("style",n);else if(n!=null)for(const e of t)Object.assign(e.style,n)}function _a({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:a,marginLeft:o}){return[/left$/.test(t)?o:/right$/.test(t)?n-i:(o+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-a:(r+e-a)/2]}class un{constructor(n,e={},r={},i){const{facet:a="auto",facetAnchor:o,fx:f,fy:u,sort:s,dx:c=0,dy:d=0,margin:l=0,marginTop:h=l,marginRight:p=l,marginBottom:g=l,marginLeft:b=l,className:w,clip:y=i==null?void 0:i.clip,channels:v,tip:m,render:M}=r;if(this.data=n,this.sort=De(s)?s:null,this.initializer=Ie(r).initializer,this.transform=this.initializer?r.transform:ih(r).transform,a===null||a===!1?this.facet=null:(this.facet=Xt(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=n===bi&&typeof f=="string"?[f]:f,this.fy=n===bi&&typeof u=="string"?[u]:u),this.facetAnchor=kw(o),e=j0(e),v!==void 0&&(e={...h5(v),...e}),i!==void 0&&(e={...jw(this,r,i),...e}),this.channels=Object.fromEntries(Object.entries(e).map(([x,_])=>{if(ba(_.value)){const{value:S,label:A=_.label,scale:N=_.scale}=_.value;_={..._,label:A,scale:N,value:S}}if(n===bi&&typeof _.value=="string"){const{value:S}=_;_={..._,value:[S]}}return[x,_]}).filter(([x,{value:_,optional:S}])=>{if(_!=null)return!0;if(S)return!1;throw new Error(`missing channel value: ${x}`)})),this.dx=+c,this.dy=+d,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+b,this.clip=th(y),this.tip=p5(m),this.className=vt(w),this.facet==="super"){if(f||u)throw new Error("super-faceting cannot use fx or fy");for(const x in this.channels){const{scale:_}=e[x];if(!(_!=="x"&&_!=="y"))throw new Error("super-faceting cannot use x or y")}}M!=null&&(this.render=Dh(M,this.render))}initialize(n,e,r){let i=ke(this.data);n===void 0&&i!=null&&(n=[qe(i)]);const a=n;this.transform!=null&&({facets:n,data:i}=this.transform(i,n,r),i=ke(i)),n!==void 0&&(n.original=a);const o=E8(this.channels,i);return this.sort!=null&&k8(i,n,o,e,this.sort),{data:i,facets:n,channels:o}}filter(n,e,r){for(const i in e){const{filter:a=In}=e[i];if(a!==null){const o=r[i];n=n.filter(f=>a(o[f]))}}return n}project(n,e,r){for(const i in n)if(n[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in n&&n[a].scale==="y"&&zw(i,a,e,r.projection)}}scale(n,e,r){const i=N8(n,e);return r.projection&&this.project(n,i,r),i}}function kh(...t){return t.plot=un.prototype.plot,t}function Dh(t,n){if(t==null)return n===null?void 0:n;if(n==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof n!="function")throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,a,o,f){return t.call(this,e,r,i,a,o,(u,s,c,d,l)=>n.call(this,u,s,c,d,l,f))}}function h5(t){return Object.fromEntries(Object.entries(j0(t)).map(([n,e])=>(e=typeof e=="string"?{value:e,label:n}:ya(e),e.filter===void 0&&e.scale==null&&(e={...e,filter:null}),[n,e])))}function p5(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?Xt(t,"tip",["x","y","xy"]):t}function Ih(t,n){return(t==null?void 0:t.tip)===!0?{...t,tip:n}:Pn(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:n}}:t}function g5(t,n,e={}){let r=.5-Et,i=.5+Et,a=.5+Et,o=.5-Et;for(const{marginTop:g,marginRight:b,marginBottom:w,marginLeft:y}of n)g>r&&(r=g),b>i&&(i=b),w>a&&(a=w),y>o&&(o=y);let{margin:f,marginTop:u=f!==void 0?f:r,marginRight:s=f!==void 0?f:i,marginBottom:c=f!==void 0?f:a,marginLeft:d=f!==void 0?f:o}=e;u=+u,s=+s,c=+c,d=+d;let{width:l=640,height:h=m5(t,e,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:o})+Math.max(0,u-r+c-a)}=e;l=+l,h=+h;const p={width:l,height:h,marginTop:u,marginRight:s,marginBottom:c,marginLeft:d};if(t.fx||t.fy){let{margin:g,marginTop:b=g!==void 0?g:u,marginRight:w=g!==void 0?g:s,marginBottom:y=g!==void 0?g:c,marginLeft:v=g!==void 0?g:d}=e.facet??{};b=+b,w=+w,y=+y,v=+v,p.facet={marginTop:b,marginRight:w,marginBottom:y,marginLeft:v}}return p}function m5({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:a},{width:o,marginTopDefault:f,marginRightDefault:u,marginBottomDefault:s,marginLeftDefault:c}){const d=e&&e.scale.domain().length||1,l=Bw(i);if(l){const p=r?r.scale.domain().length:1,g=(1.1*d-.1)/(1.1*p-.1)*l,b=Math.max(.1,Math.min(10,g));return Math.round((o-c-u)*b+f+s)}const h=n?ce(n)?n.scale.domain().length||1:Math.max(7,17/d):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const p=Wc("y",n)/(Wc("x",t)*a),g=r?r.scale.bandwidth():1,b=e?e.scale.bandwidth():1,w=g*(o-c-u)-t.insetLeft-t.insetRight;return(p*w+n.insetTop+n.insetBottom)/b+f+s}return!!(n||e)*Math.max(1,Math.min(60,h*d))*20+!!r*30+60}function Wc(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=n.scale.exponent();i=u=>Math.pow(u,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[a,o]=Nn(r);return Math.abs(i(o)-i(a))}const Vc=new WeakMap;function fu(t,n,{x:e,y:r,px:i,py:a,maxRadius:o=40,channels:f,render:u,...s}={}){return o=+o,i!=null&&(e??(e=null),f={...f,px:{value:i,scale:"x"}}),a!=null&&(r??(r=null),f={...f,py:{value:a,scale:"y"}}),{x:e,y:r,channels:f,...s,render:Dh(function(c,d,l,h,p,g){p={...p,pointerSticky:!1};const b=p.ownerSVGElement,{data:w}=p.getMarkState(this);let y=Vc.get(b);y||Vc.set(b,y={sticky:!1,roots:[],renders:[]});let v=y.renders.push(R)-1;const{x:m,y:M,fx:x,fy:_}=d;let S=x?x(c.fx)-h.marginLeft:0,A=_?_(c.fy)-h.marginTop:0;m!=null&&m.bandwidth&&(S+=m.bandwidth()/2),M!=null&&M.bandwidth&&(A+=M.bandwidth()/2);const N=c.fi!=null;let $;if(N){let q=y.facetStates;q||(y.facetStates=q=new Map),$=q.get(this),$||q.set(this,$=new Map)}const[D,F]=_a(this,h),{px:L,py:T}=l,P=L?q=>L[q]:Lh(l,D),k=T?q=>T[q]:Rh(l,F);let B,W,I,O;function z(q,H){if(N)if(O&&(O=cancelAnimationFrame(O)),q==null)$.delete(c.fi);else{$.set(c.fi,H),O=requestAnimationFrame(()=>{O=null;for(const[E,U]of $)if(U<H||U===H&&E<c.fi){q=null;break}R(q)});return}R(q)}function R(q){if(B===q&&I===y.sticky)return;B=q,I=p.pointerSticky=y.sticky;const H=B==null?[]:[B];N&&(H.fx=c.fx,H.fy=c.fy,H.fi=c.fi);const E=g(H,d,l,h,p);if(W){if(N){const U=W.parentNode,Y=W.getAttribute("transform"),C=E.getAttribute("transform");Y?E.setAttribute("transform",Y):E.removeAttribute("transform"),C?U.setAttribute("transform",C):U.removeAttribute("transform"),E.removeAttribute("aria-label"),E.removeAttribute("aria-description"),E.removeAttribute("aria-hidden")}W.replaceWith(E)}if(y.roots[v]=W=E,!(B==null&&($==null?void 0:$.size)>1)){const U=B==null?null:Ur(w)?w[B]:w.get(B);p.dispatchValue(U)}return E}function X(q){if(y.sticky||q.pointerType==="mouse"&&q.buttons===1)return;let[H,E]=zg(q);H-=S,E-=A;const U=H<h.marginLeft||H>h.width-h.marginRight?1:t,Y=E<h.marginTop||E>h.height-h.marginBottom?1:n;let C=null,at=o*o;for(const V of c){const ft=U*(P(V)-H),lt=Y*(k(V)-E),At=ft*ft+lt*lt;At<=at&&(C=V,at=At)}if(C!=null&&(t!==1||n!==1)){const V=P(C)-H,ft=k(C)-E;at=V*V+ft*ft}z(C,at)}function nt(q){q.pointerType==="mouse"&&B!=null&&(y.sticky&&y.roots.some(H=>H==null?void 0:H.contains(q.target))||(y.sticky?(y.sticky=!1,y.renders.forEach(H=>H(null))):(y.sticky=!0,R(B)),q.stopImmediatePropagation()))}function J(q){q.pointerType==="mouse"&&(y.sticky||z(null))}return b.addEventListener("pointerenter",X),b.addEventListener("pointermove",X),b.addEventListener("pointerdown",nt),b.addEventListener("pointerleave",J),R(null)},u)}}function b5(t){return fu(1,1,t)}function y5(t){return fu(1,.01,t)}function Gc(t){return fu(.01,1,t)}function Lh({x1:t,x2:n,x:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function Rh({y1:t,y2:n,y:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function Fh(t){return ce(t)&&t.interval===void 0?void 0:"tabular-nums"}function w5(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:o=18,marginRight:f=0,marginBottom:u=16+r,marginLeft:s=0,style:c,ticks:d=(i-s-f)/64,tickFormat:l,fontVariant:h=Fh(t),round:p=!0,opacity:g,className:b}=n;const w=ru(n);b=au(b),g=Ct(g)[1],l===null&&(l=()=>null);const y=_t("svg",w).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(D=>D.append("style").text(`:where(.${b}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${b}-ramp text) {
  white-space: pre;
}`)).call(ou,c);let v=D=>D.selectAll(".tick line").attr("y1",o+u-a),m;const M=p?(D,F)=>D.rangeRound(F):(D,F)=>D.range(F),{type:x,domain:_,range:S,interpolate:A,scale:N,pivot:$}=t;if(A){const D=S===void 0?A:ea(A.length===1?tu(A):A,S);m=M(N.copy(),Ht(wt(s,i-f),Math.min(_.length+($!==void 0),S===void 0?1/0:S.length)));const F=256,L=w.document.createElement("canvas");L.width=F,L.height=1;const T=L.getContext("2d");for(let P=0,k=F-1;P<F;++P)T.fillStyle=D(P/k),T.fillRect(P,0,1,1);y.append("image").attr("opacity",g).attr("x",s).attr("y",o).attr("width",i-s-f).attr("height",a-o-u).attr("preserveAspectRatio","none").attr("xlink:href",L.toDataURL())}else if(x==="threshold"){const D=_,F=l===void 0?L=>L:typeof l=="string"?Oe(l):l;m=M(Df().domain([-1,S.length-1]),[s,i-f]),y.append("g").attr("fill-opacity",g).selectAll().data(S).enter().append("rect").attr("x",(L,T)=>m(T-1)).attr("y",o).attr("width",(L,T)=>m(T)-m(T-1)).attr("height",a-o-u).attr("fill",L=>L),d=dt(D,(L,T)=>T),l=L=>F(D[L],L)}else m=M(ua().domain(_),[s,i-f]),y.append("g").attr("fill-opacity",g).selectAll().data(_).enter().append("rect").attr("x",m).attr("y",o).attr("width",Math.max(0,m.bandwidth()-1)).attr("height",a-o-u).attr("fill",N),v=()=>{};return y.append("g").attr("transform",`translate(0,${a-u})`).call(ip(m).ticks(Array.isArray(d)?null:d,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",yt(h,"normal")).call(v).call(D=>D.select(".domain").remove()),e!==void 0&&y.append("text").attr("x",s).attr("y",o-6).attr("fill","currentColor").attr("font-weight","bold").text(e),y.node()}const Ph=Math.PI/180;function Oh(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=eo(e),t.markerMid=eo(r),t.markerEnd=eo(i)}function eo(t){if(t==null||t===!1)return null;if(t===!0)return Zc;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Xc("auto");case"arrow-reverse":return Xc("auto-start-reverse");case"dot":return v5;case"circle":case"circle-fill":return Zc;case"circle-stroke":return x5;case"tick":return ro("auto");case"tick-x":return ro(90);case"tick-y":return ro(0)}throw new Error(`invalid marker: ${t}`)}function Xc(t){return(n,e)=>_t("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function v5(t,n){return _t("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(e=>e.append("circle").attr("r",2.5)).node()}function Zc(t,n){return _t("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function x5(t,n){return _t("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function ro(t){return(n,e)=>_t("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let M5=0;function Uh(t,n,{stroke:e},r){return zh(t,n,e&&(i=>e[i]),null,r)}function b7(t,n,{stroke:e,z:r},i){return zh(t,n,e&&(([a])=>e[a]),r,i)}const cf=1,qh=2;function $5(t,n){const e=new Uint8Array(n.length),r=t.data().filter(a=>a.length>1),i=r.length;for(let a=0,o=uf;a<i;++a){const f=r[a];if(f.length>1){const u=f[0];o!==(o=vn(n[u]))&&(e[u]|=cf)}}for(let a=i-1,o=uf;a>=0;--a){const f=r[a];if(f.length>1){const u=f[0];o!==(o=vn(n[u]))&&(e[u]|=qh)}}return([a])=>e[a]}function zh(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},a=()=>i,o,f){if(!n&&!e&&!r)return;const u=new Map,s=o&&$5(t,o);function c(d,l,h){return function(p){if(h&&!h(p))return;const g=a(p);let b=u.get(l);b||u.set(l,b=new Map);let w=b.get(g);if(!w){const y=this.parentNode.insertBefore(l(g,f),this),v=`plot-marker-${++M5}`;y.setAttribute("id",v),b.set(g,w=`url(#${v})`)}this.setAttribute(d,w)}}n&&t.each(c("marker-start",n,s&&(d=>s(d)&cf))),e&&s&&t.each(c("marker-start",e,d=>!(s(d)&cf))),e&&t.each(c("marker-mid",e)),r&&t.each(c("marker-end",r,s&&(d=>s(d)&qh)))}function uu({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=Yh(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function cu({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=Yh(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function Yh(t,n,e){return t===void 0&&n===void 0&&e===void 0?Et?[1,0]:[.5,.5]:[n,e]}function Bh(t,{interval:n}){return t={...ya(t)},t.interval=Vf(t.interval===void 0?n:t.interval),t}function Sa(t,n,e,r){const{[t]:i,[`${t}1`]:a,[`${t}2`]:o}=e,{value:f,interval:u}=Bh(i,e);if(f==null||u==null&&!r)return e;const s=ze(i);if(u==null){let h;const p={transform:g=>h||(h=_n(g,f)),label:s};return{...e,[t]:void 0,[`${t}1`]:a===void 0?p:a,[`${t}2`]:o===void 0&&!(a===o&&r)?p:o}}let c,d;function l(h){return d!==void 0&&h===c?d:d=dt(_n(c=h,f),p=>u.floor(p))}return n({...e,[t]:void 0,[`${t}1`]:a===void 0?{transform:l,label:s}:a,[`${t}2`]:o===void 0?{transform:h=>l(h).map(p=>u.offset(p)),label:s}:o})}function Hh(t,n,e){const{[t]:r}=e,{value:i,interval:a}=Bh(r,e);return i==null||a==null?e:n({...e,[t]:{label:ze(r),transform:o=>{const f=dt(_n(o,i),s=>a.floor(s)),u=f.map(s=>a.offset(s));return f.map(qt(f)?(s,c)=>s==null||isNaN(s=+s)||(c=u[c],c==null)||isNaN(c=+c)?void 0:new Date((s+c)/2):(s,c)=>s==null||(c=u[c],c==null)?NaN:(+s+ +c)/2)}}})}function _5(t={}){return Sa("x",uu,t,!0)}function S5(t={}){return Sa("y",cu,t,!0)}function T5(t={}){return Sa("x",uu,t)}function A5(t={}){return Sa("y",cu,t)}function C5(t={}){return Hh("x",uu,t)}function E5(t={}){return Hh("y",cu,t)}const Wh={ariaLabel:"rule",fill:null,stroke:"currentColor"};class N5 extends un{constructor(n,e={}){const{x:r,y1:i,y2:a,inset:o=0,insetTop:f=o,insetBottom:u=o}=e;super(n,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},Ih(e,"x"),Wh),this.insetTop=Mt(f),this.insetBottom=Mt(u),Oh(this,e)}render(n,e,r,i,a){const{x:o,y:f}=e,{x:u,y1:s,y2:c}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:b}=i,{insetTop:w,insetBottom:y}=this;return _t("svg:g",a).call(se,this,i,a).call(le,this,{x:u&&o},Et,0).call(v=>v.selectAll().data(n).enter().append("line").call(Ln,this).attr("x1",u?m=>u[m]:(g+d-p)/2).attr("x2",u?m=>u[m]:(g+d-p)/2).attr("y1",s&&!Le(f)?m=>s[m]+w:h+w).attr("y2",c&&!Le(f)?f.bandwidth?m=>c[m]+f.bandwidth()-y:m=>c[m]-y:l-b-y).call(re,this,r).call(Uh,this,r,a)).node()}}class k5 extends un{constructor(n,e={}){const{x1:r,x2:i,y:a,inset:o=0,insetRight:f=o,insetLeft:u=o}=e;super(n,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Ih(e,"y"),Wh),this.insetRight=Mt(f),this.insetLeft=Mt(u),Oh(this,e)}render(n,e,r,i,a){const{x:o,y:f}=e,{y:u,x1:s,x2:c}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:b}=i,{insetLeft:w,insetRight:y}=this;return _t("svg:g",a).call(se,this,i,a).call(le,this,{y:u&&f},0,Et).call(v=>v.selectAll().data(n).enter().append("line").call(Ln,this).attr("x1",s&&!Le(o)?m=>s[m]+w:g+w).attr("x2",c&&!Le(o)?o.bandwidth?m=>c[m]+o.bandwidth()-y:m=>c[m]-y:d-p-y).attr("y1",u?m=>u[m]:(h+l-b)/2).attr("y2",u?m=>u[m]:(h+l-b)/2).call(re,this,r).call(Uh,this,r,a)).node()}}function D5(t,n){let{x:e=fn,y:r,y1:i,y2:a,...o}=A5(n);return[i,a]=Vh(r,i,a),new N5(t,{...o,x:e,y1:i,y2:a})}function I5(t,n){let{y:e=fn,x:r,x1:i,x2:a,...o}=T5(n);return[i,a]=Vh(r,i,a),new k5(t,{...o,y:e,x1:i,x2:a})}function Vh(t,n,e){if(t==null){if(n===void 0){if(e!==void 0)return[0,e]}else if(e===void 0)return[0,n]}else{if(n===void 0)return e===void 0?[0,t]:[t,e];if(e===void 0)return[t,n]}return[n,e]}function Gh(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)typeof n[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let a=0;a<e;++a)i+=n[a](r)+t[a+1];return i}}const L5={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Xh="";class su extends un{constructor(n,e={}){const{x:r,y:i,text:a=ue(n)&&J0(n)?fn:B6,frameAnchor:o,textAnchor:f=/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle",lineAnchor:u=/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle",lineHeight:s=1,lineWidth:c=1/0,textOverflow:d,monospace:l,fontFamily:h=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:b,fontWeight:w,rotate:y}=e,[v,m]=Ct(y,0),[M,x]=q5(p);if(super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:M,optional:!0},rotate:{value:j6(v),optional:!0},text:{value:a,filter:Of,optional:!0}},e,L5),this.rotate=m,this.textAnchor=yt(f,"middle"),this.lineAnchor=Xt(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+s,this.lineWidth=+c,this.textOverflow=Zh(d),this.monospace=!!l,this.fontFamily=vt(h),this.fontSize=x,this.fontStyle=vt(g),this.fontVariant=vt(b),this.fontWeight=vt(w),this.frameAnchor=Gf(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${c}`);this.splitLines=Jh(this),this.clipLine=jh(this)}render(n,e,r,i,a){const{x:o,y:f}=e,{x:u,y:s,rotate:c,text:d,title:l,fontSize:h}=r,{rotate:p}=this,[g,b]=_a(this,i);return _t("svg:g",a).call(se,this,i,a).call(Qh,this,d,i).call(le,this,{x:u&&o,y:s&&f}).call(w=>w.selectAll().data(n).enter().append("text").call(Ln,this).call(R5,this,d,l).attr("transform",Gh`translate(${u?y=>u[y]:g},${s?y=>s[y]:b})${c?y=>` rotate(${c[y]})`:p?` rotate(${p})`:""}`).call(G,"font-size",h&&(y=>h[y])).call(re,this,r)).node()}}function Zh(t){return t==null?null:Xt(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function R5(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:a,textOverflow:o,splitLines:f,clipLine:u}=n;t.each(function(s){const c=f(Re(e[s])??"").map(u),d=c.length,l=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let h=0;for(let p=0;p<d;++p){if(++h,!c[p])continue;const g=this.ownerDocument.createElementNS(xe.svg,"tspan");g.setAttribute("x",0),p===h-1?g.setAttribute("y",`${(l+p)*a}em`):g.setAttribute("dy",`${h*a}em`),g.textContent=c[p],this.appendChild(g),h=0}}else l&&this.setAttribute("y",`${l*a}em`),this.textContent=c[0];if(o&&!r&&c[0]!==e[s]){const h=this.ownerDocument.createElementNS(xe.svg,"title");h.textContent=e[s],this.appendChild(h)}})}function Kh(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=X0(n,e)),new su(t,{...r,x:n,y:e})}function F5(t,{x:n=fn,...e}={}){return new su(t,E5({...e,x:n}))}function P5(t,{y:n=fn,...e}={}){return new su(t,C5({...e,y:n}))}function Qh(t,n,e){G(t,"text-anchor",n.textAnchor),G(t,"font-family",n.fontFamily),G(t,"font-size",n.fontSize),G(t,"font-style",n.fontStyle),G(t,"font-variant",n.fontVariant===void 0?O5(e):n.fontVariant),G(t,"font-weight",n.fontWeight)}function O5(t){return t&&(e8(t)||qt(t))?"tabular-nums":void 0}const U5=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function q5(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),U5.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function z5(t,n,e){const r=[];let i,a=0;for(const[o,f,u]of Y5(t)){if(i===void 0&&(i=o),a>i&&e(t,i,f)>n&&(r.push(t.slice(i,a)+(t[a-1]===Xh?"-":"")),i=o),u){r.push(t.slice(i,f)),i=void 0;continue}a=f}return r}function*Y5(t){let n=0,e=0;const r=t.length;for(;e<r;){let i=1;switch(t[e]){case Xh:case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];t[++e]===" ";);n=e;break;case"\r":t[e+1]===`
`&&++i;case`
`:yield[n,e,!0],e+=i,n=e;break;default:++e;break}}yield[n,e,!0]}const Kc={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function lu(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Ye(t,i))r+=Kc[t[i]]??(n1(t,i)?120:Kc.e);return r}function du(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Ye(t,i))r+=n1(t,i)?126:63;return r}function Jh({monospace:t,lineWidth:n,textOverflow:e}){if(e!=null||n==1/0)return a=>a.split(/\r\n?|\n/g);const r=t?du:lu,i=n*100;return a=>z5(a,i,r)}function jh({monospace:t,lineWidth:n,textOverflow:e}){if(e==null||n==1/0)return a=>a;const r=t?du:lu,i=n*100;switch(e){case"clip-start":return a=>Jc(a,i,r,"");case"clip-end":return a=>Qc(a,i,r,"");case"ellipsis-start":return a=>Jc(a,i,r,ve);case"ellipsis-middle":return a=>B5(a,i,r,ve);case"ellipsis-end":return a=>Qc(a,i,r,ve)}}const ve="";function Fe(t,n,e,r){const i=[];let a=0;for(let o=0,f=0,u=t.length;o<u;o=f){f=Ye(t,o);const s=e(t,o,f);if(a+s>n){for(a+=r;a>n&&o>0;)f=o,o=i.pop(),a-=e(t,o,f);return[o,n-a]}a+=s,i.push(o)}return[-1,0]}function Qc(t,n,e,r){t=t.trim();const i=e(r),[a]=Fe(t,n,e,i);return a<0?t:t.slice(0,a).trimEnd()+r}function B5(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const a=e(r)/2,[o,f]=Fe(t,n/2,e,a),[u]=Fe(t,i-n/2-f+a,e,-a);return u<0?r:t.slice(0,o).trimEnd()+r+t.slice(Ye(t,u)).trimStart()}function Jc(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const a=e(r),[o]=Fe(t,i-n+a,e,-a);return o<0?r:r+t.slice(Ye(t,o)).trimStart()}const sf=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,jc=new RegExp("\\p{Extended_Pictographic}","uy");function Ye(t,n){return n+=H5(t,n)?2:1,V5(t,n)&&(n=sf.lastIndex),W5(t,n)?Ye(t,n+1):n}function t1(t,n){return t.charCodeAt(n)<128}function H5(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const r=t.charCodeAt(n+1);return r>=56320&&r<57344}return!1}function W5(t,n){return t.charCodeAt(n)===8205}function V5(t,n){return t1(t,n)?!1:(sf.lastIndex=n,sf.test(t))}function n1(t,n){return t1(t,n)?!1:(jc.lastIndex=n,jc.test(t))}const G5={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},e1=3.5,X5=e1*5,r1={draw(t,n,e){const r=n*e/X5;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},Z5={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},K5=new Map([["arrow",r1],["spike",Z5]]);function Q5(t){return t&&typeof t.draw=="function"}function J5(t){if(Q5(t))return t;const n=K5.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}class i1 extends un{constructor(n,e={}){const{x:r,y:i,r:a=e1,length:o,rotate:f,shape:u=r1,anchor:s="middle",frameAnchor:c}=e,[d,l]=Ct(o,12),[h,p]=Ct(f,0);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:h,optional:!0}},e,G5),this.r=+a,this.length=l,this.rotate=p,this.shape=J5(u),this.anchor=Xt(s,"anchor",["start","middle","end"]),this.frameAnchor=Gf(c)}render(n,e,r,i,a){const{x:o,y:f}=e,{x:u,y:s,length:c,rotate:d}=r,{length:l,rotate:h,anchor:p,shape:g,r:b}=this,[w,y]=_a(this,i);return _t("svg:g",a).call(se,this,i,a).call(le,this,{x:u&&o,y:s&&f}).call(v=>v.selectAll().data(n).enter().append("path").call(Ln,this).attr("transform",Gh`translate(${u?m=>u[m]:w},${s?m=>s[m]:y})${d?m=>` rotate(${d[m]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?c?m=>` translate(0,${c[m]})`:` translate(0,${l})`:c?m=>` translate(0,${c[m]/2})`:` translate(0,${l/2})`}`).attr("d",c?m=>{const M=So();return g.draw(M,c[m],b),M}:(()=>{const m=So();return g.draw(m,l,b),m})()).call(re,this,r)).node()}}function j5(t,n={}){const{x:e=fn,...r}=n;return new i1(t,{...r,x:e})}function t3(t,n={}){const{y:e=fn,...r}=n;return new i1(t,{...r,y:e})}function Un(t,n){return arguments.length<2&&!ue(t)&&(n=t,t=null),n===void 0&&(n={}),[t,n]}function Ta({anchor:t}={},n){return t===void 0?n[0]:Xt(t,"anchor",n)}function a1(t){return Ta(t,["left","right"])}function o1(t){return Ta(t,["right","left"])}function f1(t){return Ta(t,["bottom","top"])}function u1(t){return Ta(t,["top","bottom"])}function c1(){const[t,n]=Un(...arguments);return l1("y",a1(n),t,n)}function n3(){const[t,n]=Un(...arguments);return l1("fy",o1(n),t,n)}function s1(){const[t,n]=Un(...arguments);return d1("x",f1(n),t,n)}function e3(){const[t,n]=Un(...arguments);return d1("fx",u1(n),t,n)}function l1(t,n,e,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:f=1,fill:u=r,fillOpacity:s=i,textAnchor:c,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="y"?6:0,tickPadding:g,tickRotate:b,x:w,margin:y,marginTop:v=y===void 0?20:y,marginRight:m=y===void 0?n==="right"?40:0:y,marginBottom:M=y===void 0?20:y,marginLeft:x=y===void 0?n==="left"?40:0:y,label:_,labelAnchor:S,labelArrow:A,labelOffset:N,ariaLabel:$=`${t}-axis`,...D}){return p=Mt(p),g=Mt(g),b=Mt(b),S!==void 0&&(S=Xt(S,"labelAnchor",["center","top","bottom"])),A=v1(A),kh(p&&!St(a)?r3(t,n,e,{stroke:a,strokeOpacity:o,strokeWidth:f,tickSize:p,tickPadding:g,tickRotate:b,x:w,ariaLabel:$,...D}):null,St(u)?null:a3(t,n,e,{fill:u,fillOpacity:s,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:g,tickRotate:b,x:w,marginTop:v,marginRight:m,marginBottom:M,marginLeft:x,ariaLabel:$,...D}),!St(u)&&_!==null?Kh([],m1({fill:u,fillOpacity:s,...D},function(F,L,T,P,k){const B=P[t],{marginTop:W,marginRight:I,marginBottom:O,marginLeft:z}=t==="y"&&k.inset||k,R=S??(B.bandwidth?"center":"top"),X=N??(n==="right"?I:z)-3;return R==="center"?(this.textAnchor=void 0,this.lineAnchor=n==="right"?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor=n==="right"?"end":"start",this.lineAnchor=R,this.frameAnchor=`${R}-${n}`,this.rotate=0),this.dy=R==="top"?3-W:R==="bottom"?O-3:0,this.dx=n==="right"?X:-X,this.ariaLabel=`${$} label`,{facets:[[0]],channels:{text:{value:[w1(t,B,{anchor:n,label:_,labelAnchor:R,labelArrow:A})]}}}})):null)}function d1(t,n,e,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:f=1,fill:u=r,fillOpacity:s=i,textAnchor:c,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="x"?6:0,tickPadding:g,tickRotate:b,y:w,margin:y,marginTop:v=y===void 0?n==="top"?30:0:y,marginRight:m=y===void 0?20:y,marginBottom:M=y===void 0?n==="bottom"?30:0:y,marginLeft:x=y===void 0?20:y,label:_,labelAnchor:S,labelArrow:A,labelOffset:N,ariaLabel:$=`${t}-axis`,...D}){return p=Mt(p),g=Mt(g),b=Mt(b),S!==void 0&&(S=Xt(S,"labelAnchor",["center","left","right"])),A=v1(A),kh(p&&!St(a)?i3(t,n,e,{stroke:a,strokeOpacity:o,strokeWidth:f,tickSize:p,tickPadding:g,tickRotate:b,y:w,ariaLabel:$,...D}):null,St(u)?null:o3(t,n,e,{fill:u,fillOpacity:s,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:g,tickRotate:b,y:w,marginTop:v,marginRight:m,marginBottom:M,marginLeft:x,ariaLabel:$,...D}),!St(u)&&_!==null?Kh([],m1({fill:u,fillOpacity:s,...D},function(F,L,T,P,k){const B=P[t],{marginTop:W,marginRight:I,marginBottom:O,marginLeft:z}=t==="x"&&k.inset||k,R=S??(B.bandwidth?"center":"right"),X=N??(n==="top"?W:O)-3;return R==="center"?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${R}`,this.textAnchor=R==="right"?"end":"start"),this.lineAnchor=n,this.dy=n==="top"?-X:X,this.dx=R==="right"?I-3:R==="left"?3-z:0,this.ariaLabel=`${$} label`,{facets:[[0]],channels:{text:{value:[w1(t,B,{anchor:n,label:_,labelAnchor:R,labelArrow:A})]}}}})):null)}function r3(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=n+(t==="y"?"-empty":""),frameAnchor:f=n,tickSize:u,inset:s=0,insetLeft:c=s,insetRight:d=s,dx:l=0,y:h=t==="y"?void 0:null,ariaLabel:p,...g}){return Be(t3,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:o,frameAnchor:f,y:h,...g,dx:n==="left"?+l-Et+ +c:+l+Et-d,anchor:"start",length:u,shape:n==="left"?p3:g3})}function i3(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=n+(t==="x"?"-empty":""),frameAnchor:f=n,tickSize:u,inset:s=0,insetTop:c=s,insetBottom:d=s,dy:l=0,x:h=t==="x"?void 0:null,ariaLabel:p,...g}){return Be(j5,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:o,frameAnchor:f,x:h,...g,dy:n==="bottom"?+l-Et-d:+l+Et+ +c,anchor:"start",length:u,shape:n==="bottom"?d3:h3})}function a3(t,n,e,{facetAnchor:r=n+(t==="y"?"-empty":""),frameAnchor:i=n,tickSize:a,tickRotate:o=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(o)>60?4*Math.cos(o*Ph):0),text:u,textAnchor:s=Math.abs(o)>60?"middle":n==="left"?"end":"start",lineAnchor:c=o>60?"top":o<-60?"bottom":"middle",fontVariant:d,inset:l=0,insetLeft:h=l,insetRight:p=l,dx:g=0,ariaLabel:b,y:w=t==="y"?void 0:null,...y}){return Be(P5,t,e,{ariaLabel:`${b} tick label`},{facetAnchor:r,frameAnchor:i,text:u,textAnchor:s,lineAnchor:c,fontVariant:d,rotate:o,y:w,...y,dx:n==="left"?+g-a-f+ +h:+g+ +a+ +f-p},function(v,m,M,x,_){d===void 0&&(this.fontVariant=y1(v)),u===void 0&&(_.text=b1(v,m,M,x,n))})}function o3(t,n,e,{facetAnchor:r=n+(t==="x"?"-empty":""),frameAnchor:i=n,tickSize:a,tickRotate:o=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(o)>=10?4*Math.cos(o*Ph):0),text:u,textAnchor:s=Math.abs(o)>=10?o<0^n==="bottom"?"start":"end":"middle",lineAnchor:c=Math.abs(o)>=10?"middle":n==="bottom"?"top":"bottom",fontVariant:d,inset:l=0,insetTop:h=l,insetBottom:p=l,dy:g=0,x:b=t==="x"?void 0:null,ariaLabel:w,...y}){return Be(F5,t,e,{ariaLabel:`${w} tick label`},{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:s,lineAnchor:c,fontVariant:d,rotate:o,x:b,...y,dy:n==="bottom"?+g+ +a+ +f-p:+g-a-f+ +h},function(v,m,M,x,_){d===void 0&&(this.fontVariant=y1(v)),u===void 0&&(_.text=b1(v,m,M,x,n))})}function f3(){const[t,n]=Un(...arguments);return h1("y",a1(n),t,n)}function u3(){const[t,n]=Un(...arguments);return h1("fy",o1(n),t,n)}function c3(){const[t,n]=Un(...arguments);return p1("x",f1(n),t,n)}function s3(){const[t,n]=Un(...arguments);return p1("fx",u1(n),t,n)}function h1(t,n,e,{y:r=t==="y"?void 0:null,x:i=null,x1:a=n==="left"?i:null,x2:o=n==="right"?i:null,ariaLabel:f=`${t}-grid`,ariaHidden:u=!0,...s}){return Be(I5,t,e,{ariaLabel:f,ariaHidden:u},{y:r,x1:a,x2:o,...g1(s)})}function p1(t,n,e,{x:r=t==="x"?void 0:null,y:i=null,y1:a=n==="top"?i:null,y2:o=n==="bottom"?i:null,ariaLabel:f=`${t}-grid`,ariaHidden:u=!0,...s}){return Be(D5,t,e,{ariaLabel:f,ariaHidden:u},{x:r,y1:a,y2:o,...g1(s)})}function g1({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...a}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...a}}function m1({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:f,pointerEvents:u,shapeRendering:s,clip:c=!1},d){return[,t]=ee(t),[,n]=Ct(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:f,pointerEvents:u,shapeRendering:s,clip:c,initializer:d}}function Be(t,n,e,r,i,a){let o;function f(c,d,l,h,p,g){const b=c==null&&(n==="fx"||n==="fy"),{[n]:w}=h;if(!w)throw new Error(`missing scale: ${n}`);const y=w.domain();let{interval:v,ticks:m,tickFormat:M,tickSpacing:x=n==="x"?80:35}=i;if(typeof m=="string"&&x1(w)&&(v=m,m=void 0),m===void 0&&(m=qr(v,w.type)??l3(w,x)),c==null){if(ue(m))c=fe(m);else if(Q0(m))c=io(m,...Nn(y));else if(w.interval){let S=w.interval;if(w.ticks){const[A,N]=Nn(y),$=(N-A)/S[Or];S=xc(S,$/m)??S,c=io(S,A,N)}else{c=y;const A=c.length;S=xc(S,A/m)??S,S!==w.interval&&(c=io(S,...Nn(c)))}if(S===w.interval){const A=Math.round(c.length/m);A>1&&(c=c.filter((N,$)=>$%A===0))}}else w.ticks?c=w.ticks(m):c=y;if(!w.ticks&&c.length&&c!==y){const S=new Ki(y);c=c.filter(A=>S.has(A)),c.length||kn(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}n==="y"||n==="x"?d=[qe(c)]:o[n]={scale:n,value:fn}}a==null||a.call(this,w,c,m,M,o);const _=Object.fromEntries(Object.entries(o).map(([S,A])=>[S,{...A,value:_n(c,A.value)}]));return b&&(d=g.filterFacets(c,_)),{data:c,facets:d,channels:_}}const u=Ie(i).initializer,s=t(e,Ie({...i,initializer:f},u));return e==null?(o=s.channels,s.channels={}):o={},r!==void 0&&Object.assign(s,r),s.clip===void 0&&(s.clip=!1),s}function l3(t,n){const[e,r]=Nn(t.range());return(r-e)/n}function b1(t,n,e,r,i){return{value:hu(t,n,e,r,i)}}function hu(t,n,e,r,i){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&n&&qt(n)?F6(t.type,n,i)??Re:t.tickFormat?t.tickFormat(typeof e=="number"?e:null,r):typeof r=="string"&&t.domain().length>0?(qt(t.domain())?Pr:Oe)(r):r===void 0?Re:wn(r)}function io(t,n,e){return t.range(n,t.offset(t.floor(e)))}const d3={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},h3={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},p3={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},g3={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function y1(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function w1(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&x1(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!n.bandwidth||n.interval)&&!/[]/.test(r)),!a)return r;if(a===!0){const o=yw(n);o&&(a=/x$/.test(t)||i==="center"?/x$/.test(t)===o<0?"left":"right":o<0?"up":"down")}switch(a){case"left":return` ${r}`;case"right":return`${r} `;case"up":return e==="right"?`${r} `:` ${r}`;case"down":return e==="right"?`${r} `:` ${r}`}return r}}function v1(t="auto"){return St(t)?!1:typeof t=="boolean"?t:Xt(t,"labelArrow",["auto","up","right","down","left"])}function x1(t){return qt(t.domain())}function ts(t,n){if(n==null)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function m3(t,{opacity:n,...e}={}){if(!ce(t)&&!Th(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return M1(t,e,(r,i,a,o)=>r.append("svg").attr("width",a).attr("height",o).attr("fill",i.scale).attr("fill-opacity",Ct(n)[1]).append("rect").attr("width","100%").attr("height","100%"))}function b3(t,{fill:n=(s=>(s=t.hint)==null?void 0:s.fill)()!==void 0?t.hint.fill:"none",fillOpacity:e=1,stroke:r=(c=>(c=t.hint)==null?void 0:c.stroke)()!==void 0?t.hint.stroke:St(n)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:o=4.5,...f}={},u){const[d,l]=ee(n),[h,p]=ee(r),g=ts(u,d),b=ts(u,h),w=o*o*Math.PI;return e=Ct(e)[1],i=Ct(i)[1],a=Ct(a)[1],M1(t,f,(y,v,m,M)=>y.append("svg").attr("viewBox","-8 -8 16 16").attr("width",m).attr("height",M).attr("fill",d==="color"?x=>g.scale(x):l).attr("fill-opacity",e).attr("stroke",h==="color"?x=>b.scale(x):p).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",x=>{const _=So();return t.scale(x).draw(_,w),_}))}function M1(t,n={},e){let{columns:r,tickFormat:i,fontVariant:a=Fh(t),swatchSize:o=15,swatchWidth:f=o,swatchHeight:u=o,marginLeft:s=0,className:c,style:d,width:l}=n;const h=ru(n);c=au(c),i=hu(t.scale,t.domain,void 0,i);const p=_t("div",h).attr("class",`${c}-swatches ${c}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`:where(.${c}-swatches-columns .${c}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${c}-swatches-columns .${c}-swatch::before) {
  flex-shrink: 0;
}
:where(.${c}-swatches-columns .${c}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${c}-swatch`).call(e,t,f,u).call(b=>b.append("div").attr("class",`${c}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${c}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${c}-swatches-wrap .${c}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${c}-swatch`).call(e,t,f,u).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(b=>b.insert("style","*").text(`:where(.${c}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${c}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",s?`${+s}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",yt(a,"normal")).call(ou,d).node()}const lf=new Map([["symbol",b3],["color",_1],["opacity",w3]]);function y3(t,n,e={}){return(r,i)=>{if(!lf.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return lf.get(r)(t[r],$1(n,e[r],i),a=>t[a])}}function $1({className:t,...n},{label:e,ticks:r,tickFormat:i}={},a){return o8(a,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function _1(t,{legend:n=!0,...e}){if(n===!0&&(n=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${n}`.toLowerCase()){case"swatches":return m3(t,e);case"ramp":return w5(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function w3({type:t,interpolate:n,...e},{legend:r=!0,color:i=Dn(0,0,0),...a}){if(!n)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return _1({type:t,...e,interpolate:v3(i)},{legend:r,...a})}function v3(t){const{r:n,g:e,b:r}=Dn(t)||Dn(0,0,0);return i=>`rgba(${n},${e},${r},${i})`}function x3(t,n,e){const r=[];for(const[i,a]of lf){const o=e[i];if(o!=null&&o.legend&&i in t){const f=a(t[i],$1(n,t[i],o),u=>t[u]);f!=null&&r.push(f)}}return r}const M3={ariaLabel:"rect"};class $3 extends un{constructor(n,e={}){const{x1:r,y1:i,x2:a,y2:o}=e;super(n,{x1:{value:r,scale:"x",type:r!=null&&a==null?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:i!=null&&o==null?"band":void 0,optional:!0},x2:{value:a,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0}},e,M3),S1(this,e),T1(this,e)}render(n,e,r,i,a){const{x:o,y:f}=e;let{x1:u,y1:s,x2:c,y2:d}=r;const{marginTop:l,marginRight:h,marginBottom:p,marginLeft:g,width:b,height:w}=i,{projection:y}=a,{insetTop:v,insetRight:m,insetBottom:M,insetLeft:x}=this,{rx:_,ry:S,rx1y1:A,rx1y2:N,rx2y1:$,rx2y2:D}=this;(u||c)&&!y&&Le(o)&&(u=c=null),(s||d)&&!y&&Le(f)&&(s=d=null);const F=o!=null&&o.bandwidth?o.bandwidth():0,L=f!=null&&f.bandwidth?f.bandwidth():0;return _t("svg:g",a).call(se,this,i,a).call(le,this,{},0,0).call(T=>T.selectAll().data(n).enter().call(A||N||$||D?P=>P.append("path").call(Ln,this).call(A1,u&&c?k=>u[k]+(c[k]<u[k]?-m:x):u?k=>u[k]+x:g+x,s&&d?k=>s[k]+(d[k]<s[k]?-M:v):s?k=>s[k]+v:l+v,u&&c?k=>c[k]-(c[k]<u[k]?-x:m):u?k=>u[k]+F-m:b-h-m,s&&d?k=>d[k]-(d[k]<s[k]?-v:M):s?k=>s[k]+L-M:w-p-M,this).call(re,this,r):P=>P.append("rect").call(Ln,this).attr("x",u?c?k=>Math.min(u[k],c[k])+x:k=>u[k]+x:g+x).attr("y",s?d?k=>Math.min(s[k],d[k])+v:k=>s[k]+v:l+v).attr("width",u?c?k=>Math.max(0,Math.abs(c[k]-u[k])+F-x-m):F-x-m:b-h-g-m-x).attr("height",s?d?k=>Math.max(0,Math.abs(s[k]-d[k])+L-v-M):L-v-M:w-l-p-v-M).call(G,"rx",_).call(G,"ry",S).call(re,this,r))).node()}}function S1(t,{inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:a=n}={}){t.insetTop=Mt(e),t.insetRight=Mt(r),t.insetBottom=Mt(i),t.insetLeft=Mt(a)}function T1(t,{r:n,rx:e,ry:r,rx1:i=n,ry1:a=n,rx2:o=n,ry2:f=n,rx1y1:u=i!==void 0?+i:a!==void 0?+a:0,rx1y2:s=i!==void 0?+i:f!==void 0?+f:0,rx2y1:c=o!==void 0?+o:a!==void 0?+a:0,rx2y2:d=o!==void 0?+o:f!==void 0?+f:0}={}){u||s||c||d?(t.rx1y1=u,t.rx1y2=s,t.rx2y1=c,t.rx2y2=d):(t.rx=yt(e,"auto"),t.ry=yt(r,"auto"))}function A1(t,n,e,r,i,a){const{rx1y1:o,rx1y2:f,rx2y1:u,rx2y2:s}=a;typeof n!="function"&&(n=wn(n)),typeof e!="function"&&(e=wn(e)),typeof r!="function"&&(r=wn(r)),typeof i!="function"&&(i=wn(i));const c=Math.max(Math.abs(o+u),Math.abs(f+s)),d=Math.max(Math.abs(o+f),Math.abs(u+s));t.attr("d",l=>{const h=n(l),p=e(l),g=r(l),b=i(l),w=h>g,y=p>b,v=w?g:h,m=w?h:g,M=y?b:p,x=y?p:b,_=Math.min(1,(m-v)/c,(x-M)/d),S=_*(w?y?s:u:y?f:o),A=_*(w?y?f:o:y?s:u),N=_*(w?y?o:f:y?u:s),$=_*(w?y?u:s:y?o:f);return`M${v},${M+fi(S,$)}A${S},${S} 0 0 ${S<0?0:1} ${v+oi(S,$)},${M}H${m-oi(A,N)}A${A},${A} 0 0 ${A<0?0:1} ${m},${M+fi(A,N)}V${x-fi(N,A)}A${N},${N} 0 0 ${N<0?0:1} ${m-oi(N,A)},${x}H${v+oi($,S)}A${$},${$} 0 0 ${$<0?0:1} ${v},${x-fi($,S)}Z`})}function oi(t,n){return n<0?t:Math.abs(t)}function fi(t,n){return n<0?Math.abs(t):t}function y7(t,n){return new $3(t,_5(S5(n)))}const _3={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},S3={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class T3 extends un{constructor(n={}){const{anchor:e=null}=n;super(bi,void 0,n,e==null?_3:S3),this.anchor=V0(e,"anchor",["top","right","bottom","left"]),S1(this,n),e||T1(this,n)}render(n,e,r,i,a){const{marginTop:o,marginRight:f,marginBottom:u,marginLeft:s,width:c,height:d}=i,{anchor:l,insetTop:h,insetRight:p,insetBottom:g,insetLeft:b}=this,{rx:w,ry:y,rx1y1:v,rx1y2:m,rx2y1:M,rx2y2:x}=this,_=s+b,S=c-f-p,A=o+h,N=d-u-g;return _t(l?"svg:line":v||m||M||x?"svg:path":"svg:rect",a).datum(0).call(se,this,i,a).call(Ln,this).call(re,this,r).call(le,this,{}).call(l==="left"?$=>$.attr("x1",_).attr("x2",_).attr("y1",A).attr("y2",N):l==="right"?$=>$.attr("x1",S).attr("x2",S).attr("y1",A).attr("y2",N):l==="top"?$=>$.attr("x1",_).attr("x2",S).attr("y1",A).attr("y2",A):l==="bottom"?$=>$.attr("x1",_).attr("x2",S).attr("y1",N).attr("y2",N):v||m||M||x?$=>$.call(A1,_,A,S,N,this):$=>$.attr("x",_).attr("y",A).attr("width",S-_).attr("height",N-A).attr("rx",w).attr("ry",y)).node()}}function A3(t){return new T3(t)}const ao={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},C3=new Set(["geometry","href","src","ariaLabel","scales"]);class E3 extends un{constructor(n,e={}){e.tip&&(e={...e,tip:!1}),e.title===void 0&&ue(n)&&J0(n)&&(e={...e,title:fn});const{x:r,y:i,x1:a,x2:o,y1:f,y2:u,anchor:s,preferredAnchor:c="bottom",monospace:d,fontFamily:l=d?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:p,fontVariant:g,fontWeight:b,lineHeight:w=1,lineWidth:y=20,frameAnchor:v,format:m,textAnchor:M="start",textOverflow:x,textPadding:_=8,title:S,pointerSize:A=12,pathFilter:N="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(n,{x:{value:a!=null&&o!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&u!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:o==null},y1:{value:f,scale:"y",optional:u==null},x2:{value:o,scale:"x",optional:a==null},y2:{value:u,scale:"y",optional:f==null},title:{value:S,optional:!0}},e,ao),this.anchor=jo(s,"anchor"),this.preferredAnchor=jo(c,"preferredAnchor"),this.frameAnchor=Gf(v),this.textAnchor=yt(M,"middle"),this.textPadding=+_,this.pointerSize=+A,this.pathFilter=vt(N),this.lineHeight=+w,this.lineWidth=+y,this.textOverflow=Zh(x),this.monospace=!!d,this.fontFamily=vt(l),this.fontSize=Mt(h),this.fontStyle=vt(p),this.fontVariant=vt(g),this.fontWeight=vt(b);for(const $ in ao)$ in this.channels&&(this[$]=ao[$]);this.splitLines=Jh(this),this.clipLine=jh(this),this.format=typeof m=="string"||typeof m=="function"?{title:m}:{...m}}render(n,e,r,i,a){const o=this,{x:f,y:u,fx:s,fy:c}=e,{ownerSVGElement:d,document:l}=a,{anchor:h,monospace:p,lineHeight:g,lineWidth:b}=this,{textPadding:w,pointerSize:y,pathFilter:v}=this,{marginTop:m,marginLeft:M}=i,{x1:x,y1:_,x2:S,y2:A,x:N=x??S,y:$=_??A}=r,D=s?s(n.fx)-M:0,F=c?c(n.fy)-m:0,[L,T]=_a(this,i),P=Lh(r,L),k=Rh(r,T),B=p?du:lu,W=B(ve);let I,O;"title"in r?(I=ns.call(this,{title:r.channels.title},e),O=L3):(I=ns.call(this,r.channels,e),O=R3);const z=_t("svg:g",a).call(se,this,i,a).call(Qh,this).call(le,this,{x:N&&f,y:$&&u}).call(nt=>nt.selectAll().data(n).enter().append("g").attr("transform",J=>`translate(${Math.round(P(J))},${Math.round(k(J))})`).call(Ln,this).call(J=>J.append("path").attr("filter",v)).call(J=>J.append("text").each(function(q){const H=Bn(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const E=O.call(o,q,n,I,e,r);if(typeof E=="string")for(const U of o.splitLines(E))R(H,{value:o.clipLine(U)});else{const U=new Set;for(const Y of E){const{label:C=""}=Y;C&&U.has(C)||(U.add(C),R(H,Y))}}})));function R(nt,{label:J,value:q,color:H,opacity:E}){J??(J=""),q??(q="");const U=H!=null||E!=null;let Y,C=b*100;const[at]=Fe(J,C,B,W);if(at>=0)J=J.slice(0,at).trimEnd()+ve,Y=q.trim(),q="";else{(J||!q&&!U)&&(q=" "+q);const[ft]=Fe(q,C-B(J),B,W);ft>=0&&(Y=q.trim(),q=q.slice(0,ft).trimEnd()+ve)}const V=nt.append("tspan").attr("x",0).attr("dy",`${g}em`).text("");J&&V.append("tspan").attr("font-weight","bold").text(J),q&&V.append(()=>l.createTextNode(q)),U&&V.append("tspan").text(" ").attr("fill",H).attr("fill-opacity",E).style("user-select","none"),Y&&V.append("title").text(Y)}function X(){const{width:nt,height:J}=i.facet??i;z.selectChildren().each(function(q){let{x:H,width:E,height:U}=this.getBBox();E=Math.round(E),U=Math.round(U);let Y=h;if(Y===void 0){const V=P(q)+D,ft=k(q)+F,lt=V+E+y+w*2<nt,At=V-E-y-w*2>0,de=ft+U+y+w*2<J,He=ft-U-y-w*2>0;Y=lt&&At?de&&He?o.preferredAnchor:He?"bottom":"top":de&&He?lt?"left":"right":(lt||At)&&(de||He)?`${He?"bottom":"top"}-${lt?"left":"right"}`:o.preferredAnchor}const C=this.firstChild,at=this.lastChild;if(C.setAttribute("d",I3(Y,y,w,E,U)),H)for(const V of at.childNodes)V.setAttribute("x",-H);at.setAttribute("y",`${+k3(Y,at.childNodes.length,g).toFixed(6)}em`),at.setAttribute("transform",`translate(${D3(Y,y,w,E,U)})`)}),z.attr("visibility",null)}return n.length&&(z.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(X):typeof requestAnimationFrame<"u"&&requestAnimationFrame(X)),z.node()}}function N3(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=X0(n,e)),new E3(t,{...r,x:n,y:e})}function k3(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}function D3(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}function I3(t,n,e,r,i){const a=r+e*2,o=i+e*2;switch(t){case"middle":return`M${-a/2},${-o/2}h${a}v${o}h${-a}z`;case"top-left":return`M0,0l${n},${n}h${a-n}v${o}h${-a}z`;case"top":return`M0,0l${n/2},${n/2}h${(a-n)/2}v${o}h${-a}v${-o}h${(a-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-a}v${o}h${a}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-o/2}h${-a}v${o}h${a}v${n/2-o/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${a-n}v${-o}h${-a}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(a-n)/2}v${-o}h${-a}v${o}h${(a-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-a}v${-o}h${a}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-o/2}h${a}v${o}h${-a}v${n/2-o/2}z`}}function ns(t,n){var i,a;const e={};let r=this.format;r=es(r,t,"x"),r=es(r,t,"y"),this.format=r;for(const o in r){const f=r[o];if(!(f===null||f===!1))if(o==="fx"||o==="fy")e[o]=!0;else{const u=Nc(t,o);u&&(e[o]=u)}}for(const o in t){if(o in e||o in r||C3.has(o)||(o==="x"||o==="y")&&t.geometry)continue;const f=Nc(t,o);if(f){if(f.scale==null&&f.defaultScale==="color")continue;e[o]=f}}this.facet&&(n.fx&&!("fx"in r)&&(e.fx=!0),n.fy&&!("fy"in r)&&(e.fy=!0));for(const o in e){const f=this.format[o];if(typeof f=="string"){const u=((i=e[o])==null?void 0:i.value)??((a=n[o])==null?void 0:a.domain())??[];this.format[o]=(qt(u)?Pr:Oe)(f)}else if(f===void 0||f===!0){const u=n[o];this.format[o]=u!=null&&u.bandwidth?hu(u,u.domain()):Re}}return e}function es(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if((r in t||!(r in n))&&(i in t||!(i in n)))return t;const a=Object.entries(t),o=t[e];return a.splice(a.findIndex(([f])=>f===e)+1,0,[r,o],[i,o]),Object.fromEntries(a)}function L3(t,n,{title:e}){return this.format.title(e.value[t],t)}function*R3(t,n,e,r,i){for(const a in e){if(a==="fx"||a==="fy"){yield{label:Xi(r,e,a),value:this.format[a](n[a],t)};continue}if(a==="x1"&&"x2"in e||a==="y1"&&"y2"in e)continue;const o=e[a];if(a==="x2"&&"x1"in e)yield{label:is(r,e,"x"),value:rs(this.format.x2,e.x1,o,t)};else if(a==="y2"&&"y1"in e)yield{label:is(r,e,"y"),value:rs(this.format.y2,e.y1,o,t)};else{const f=o.value[t],u=o.scale;if(!In(f)&&u==null)continue;yield{label:Xi(r,e,a),value:this.format[a](f,t),color:u==="color"?i[a][t]:null,opacity:u==="opacity"?i[a][t]:null}}}}function rs(t,n,e,r){var i;return(i=e.hint)!=null&&i.length?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}${t(e.value[r],r)}`}function is(t,n,e){const r=Xi(t,n,`${e}1`,e),i=Xi(t,n,`${e}2`,e);return r===i?r:`${r}${i}`}function Xi(t,n,e,r=e){const i=n[e],a=t[(i==null?void 0:i.scale)??e];return String((a==null?void 0:a.label)??(i==null?void 0:i.label)??r)}function F3(t={}){var W;const{facet:n,style:e,title:r,subtitle:i,caption:a,ariaLabel:o,ariaDescription:f}=t,u=au(t.className),s=t.marks===void 0?[]:os(t.marks);s.push(...B3(s));const c=z3(n,t),d=new Map;for(const I of s){const O=fs(I,c,t);O&&d.set(I,O)}const l=new Map;c&&Qe(l,[c],t),Qe(l,d,t);const h=os(H3(s,l,t));for(const I of h){const O=fs(I,c,t);O&&d.set(I,O)}s.unshift(...h);let p=Tw(l,t);if(p!==void 0){const I=c?to(p,c):void 0;for(const z of s){if(z.facet===null||z.facet==="super")continue;const R=d.get(z);R!==void 0&&(R.facetsIndex=z.fx!=null||z.fy!=null?to(p,R):I)}const O=new Set;for(const{facetsIndex:z}of d.values())z==null||z.forEach((R,X)=>{(R==null?void 0:R.length)>0&&O.add(X)});p.forEach(0<O.size&&O.size<p.length?(z,R)=>z.empty=!O.has(R):z=>z.empty=!1);for(const z of s)if(z.facet==="exclude"){const R=d.get(z);R!==void 0&&(R.facetsIndex=Ew(R.facetsIndex))}}for(const I of st.keys())Qo(t[I])&&I!=="fx"&&I!=="fy"&&l.set(I,[]);const g=new Map;for(const I of s){if(g.has(I))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:O,channels:z}=d.get(I)??{},{data:R,facets:X,channels:nt}=I.initialize(O,z,t);pu(nt,t),g.set(I,{data:R,facets:X,channels:nt})}const b=af(Qe(l,g,t),t),w=g5(b,s,t);mw(b,w);const y=Oc(b),{fx:v,fy:m}=y,M=v||m?$h(b,w):w,x=v||m?Q3(y,w):w,_=ru(t),S=_.document,A=ji("svg").call(S.documentElement);let N=A;_.ownerSVGElement=A,_.className=u,_.projection=Ow(t,M),_.path=function(){return Af(this.projection??Ww(y))},_.filterFacets=(I,O)=>to(p,{channels:O,groups:eu(I,O)}),_.getMarkState=I=>{const O=g.get(I),z=d.get(I);return{...O,channels:{...O.channels,...z==null?void 0:z.channels}}},_.dispatchValue=I=>{N.value!==I&&(N.value=I,N.dispatchEvent(new _.document.defaultView.Event("input",{bubbles:!0})))};const $=new Set;for(const[I,O]of g)if(I.initializer!=null){const z=I.facet==="super"?x:M,R=I.initializer(O.data,O.facets,O.channels,y,z,_);if(R.data!==void 0&&(O.data=R.data),R.facets!==void 0&&(O.facets=R.facets),R.channels!==void 0){const{fx:X,fy:nt,...J}=R.channels;q3(J),Object.assign(O.channels,J);for(const q of Object.values(J)){const{scale:H}=q;H!=null&&!c8(st.get(H))&&(C1(q,t),$.add(H))}(X!=null||nt!=null)&&d.set(I,!0)}}if($.size){const I=new Map;Qe(I,g,t,X=>$.has(X)),Qe(l,g,t,X=>$.has(X));const O=K3(af(I,t),b),{scales:z,...R}=Oc(O);Object.assign(b,O),Object.assign(y,R),Object.assign(y.scales,z)}let D,F;p!==void 0&&(D={x:v==null?void 0:v.domain(),y:m==null?void 0:m.domain()},p=Aw(p,D),F=Cw(v,m,w));for(const[I,O]of g)O.values=I.scale(O.channels,y,_);const{width:L,height:T}=w;Bn(A).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",L).attr("height",T).attr("viewBox",`0 0 ${L} ${T}`).attr("aria-label",o).attr("aria-description",f).call(I=>I.append("style").text(`:where(.${u}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${u} text),
:where(.${u} tspan) {
  white-space: pre;
}`)).call(ou,e);for(const I of s){const{channels:O,values:z,facets:R}=g.get(I);if(p===void 0||I.facet==="super"){let X=null;if(R&&(X=R[0],X=I.filter(X,O,z),X.length===0))continue;const nt=I.render(X,y,z,x,_);if(nt==null)continue;A.appendChild(nt)}else{let X;for(const nt of p){if(!(((W=I.facetAnchor)==null?void 0:W.call(I,p,D,nt))??!nt.empty))continue;let J=null;if(R){const H=d.has(I);if(J=R[H?nt.i:0],J=I.filter(J,O,z),J.length===0)continue;!H&&J===R[0]&&(J=Z6(J)),J.fx=nt.x,J.fy=nt.y,J.fi=nt.i}const q=I.render(J,y,z,M,_);if(q!=null){(X??(X=Bn(A).append("g"))).append(()=>q).datum(nt);for(const H of["aria-label","aria-description","aria-hidden","transform"])q.hasAttribute(H)&&(X.attr(H,q.getAttribute(H)),q.removeAttribute(H))}}X==null||X.selectChildren().each(F)}}const P=x3(b,_,t),{figure:k=r!=null||i!=null||a!=null||P.length>0}=t;k&&(N=S.createElement("figure"),N.className=`${u}-figure`,N.style.maxWidth="initial",r!=null&&N.append(as(S,r,"h2")),i!=null&&N.append(as(S,i,"h3")),N.append(...P,A),a!=null&&N.append(P3(S,a)),"value"in A&&(N.value=A.value,delete A.value)),N.scale=_w(y.scales),N.legend=y3(b,_,t);const B=j8();return B>0&&Bn(A).append("text").attr("x",L).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${B.toLocaleString("en-US")} warning${B===1?"":"s"}. Please check the console.`),N}function as(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function P3(t,n){const e=t.createElement("figcaption");return e.append(n),e}function os(t){return t.flat(1/0).filter(n=>n!=null).map(O3)}function O3(t){return typeof t.render=="function"?t:new U3(t)}class U3 extends un{constructor(n){if(typeof n!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=n}render(){}}function pu(t,n){for(const e in t)C1(t[e],n);return t}function C1(t,n){const{scale:e,transform:r=!0}=t;if(e==null||!r)return;const{type:i,percent:a,interval:o,transform:f=a?u=>u==null?NaN:u*100:K0(o,i)}=n[e]??{};f!=null&&(t.value=dt(t.value,f),t.transform=!1)}function q3(t){for(const n in t)ch(n,t[n])}function Qe(t,n,e,r=H6){var i,a;for(const{channels:o}of n.values())for(const f in o){const u=o[f],{scale:s}=u;if(s!=null&&r(s))if(s==="projection"){if(!Yw(e)){const c=((i=e.x)==null?void 0:i.domain)===void 0,d=((a=e.y)==null?void 0:a.domain)===void 0;if(c||d){const[l,h]=Hw(u);c&&oo(t,"x",l),d&&oo(t,"y",h)}}}else oo(t,s,u)}return t}function oo(t,n,e){const r=t.get(n);r!==void 0?r.push(e):t.set(n,[e])}function z3(t,n){if(t==null)return;const{x:e,y:r}=t;if(e==null&&r==null)return;const i=ke(t.data);if(i==null)throw new Error("missing facet data");const a={};e!=null&&(a.fx=Mr(i,{value:e,scale:"fx"})),r!=null&&(a.fy=Mr(i,{value:r,scale:"fy"})),pu(a,n);const o=eu(i,a);return{channels:a,groups:o,data:t.data}}function fs(t,n,e){if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const u=ke(t.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(u===null)return;const s={};return r!=null&&(s.fx=Mr(u,{value:r,scale:"fx"})),i!=null&&(s.fy=Mr(u,{value:i,scale:"fy"})),pu(s,e),{channels:s,groups:eu(u,s)}}if(n===void 0)return;const{channels:a,groups:o,data:f}=n;if(t.facet!=="auto"||t.data===f)return{channels:a,groups:o};f.length>0&&(o.size>1||o.size===1&&a.fx&&a.fy&&[...o][0][1].size>1)&&Jo(ke(t.data))===Jo(f)&&kn(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function Y3(t,n={}){return Ie({...n,x:null,y:null},(e,r,i,a,o,f)=>f.getMarkState(t))}function B3(t){const n=[];for(const e of t){let r=e.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:a}=r;i=/^x$/i.test(i)?y5:/^y$/i.test(i)?Gc:b5,r=i(Y3(e,r)),r.title=null,a===void 0&&(r.preferredAnchor=i===Gc?"left":"bottom");const o=N3(e.data,r);o.facet=e.facet,o.facetAnchor=e.facetAnchor,n.push(o)}}return n}function H3(t,n,e){let{projection:r,x:i={},y:a={},fx:o={},fy:f={},axis:u,grid:s,facet:c={},facet:{axis:d=u,grid:l}=c,x:{axis:h=u,grid:p=h===null?null:s}=i,y:{axis:g=u,grid:b=g===null?null:s}=a,fx:{axis:w=d,grid:y=w===null?null:l}=o,fy:{axis:v=d,grid:m=v===null?null:l}=f}=e;(r||!Qo(i)&&!us("x",t))&&(h=p=null),(r||!Qo(a)&&!us("y",t))&&(g=b=null),n.has("fx")||(w=y=null),n.has("fy")||(v=m=null),h===void 0&&(h=!si(t,"x")),g===void 0&&(g=!si(t,"y")),w===void 0&&(w=!si(t,"fx")),v===void 0&&(v=!si(t,"fy")),h===!0&&(h="bottom"),g===!0&&(g="left"),w===!0&&(w=h==="top"||h===null?"bottom":"top"),v===!0&&(v=g==="right"||g===null?"left":"right");const M=[];return ci(M,m,u3,f),ui(M,v,n3,"right","left",c,f),ci(M,y,s3,o),ui(M,w,e3,"top","bottom",c,o),ci(M,b,f3,a),ui(M,g,c1,"left","right",e,a),ci(M,p,c3,i),ui(M,h,s1,"bottom","top",e,i),M}function ui(t,n,e,r,i,a,o){if(!n)return;const f=W3(n);o=V3(f?r:n,a,o);const{line:u}=o;(e===c1||e===s1)&&u&&!xr(u)&&t.push(A3(G3(o))),t.push(e(o)),f&&t.push(e({...o,anchor:i,label:null}))}function ci(t,n,e,r){!n||xr(n)||t.push(e(X3(n,r)))}function W3(t){return/^\s*both\s*$/i.test(t)}function V3(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:f,tickRotate:u,fontVariant:s,ariaLabel:c,ariaDescription:d,label:l=n.label,labelAnchor:h,labelArrow:p=n.labelArrow,labelOffset:g}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:f,tickRotate:u,fontVariant:s,ariaLabel:c,ariaDescription:d,label:l,labelAnchor:h,labelArrow:p,labelOffset:g}}function G3(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:e===!0?void 0:e}}function X3(t,{stroke:n=wa(t)?t:void 0,ticks:e=Z3(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function Z3(t){switch(typeof t){case"number":return!0;case"string":return!wa(t)}return ue(t)||typeof(t==null?void 0:t.range)=="function"}function si(t,n){const e=`${n}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(e)})}function us(t,n){for(const e of n)for(const r in e.channels){const{scale:i}=e.channels[r];if(i===t||i==="projection")return!0}return!1}function K3(t,n){for(const e in t){const r=t[e],i=n[e];r.label===void 0&&i&&(r.label=i.label)}return t}function Q3({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:f,height:u}=nu(e),s=t&&cs(t),c=n&&cs(n);return{marginTop:n?c[0]:r,marginRight:t?f-s[1]:i,marginBottom:n?u-c[1]:a,marginLeft:t?s[0]:o,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:f,height:u}}function cs(t){const n=t.domain();if(n.length===0)return[0,t.bandwidth()];let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}un.prototype.plot=function({marks:t=[],...n}={}){return F3({...n,marks:[...t,this]})};export{lr as $,D5 as A,Kh as B,y7 as C,I5 as D,e7 as E,Oh as F,m7 as G,g7 as H,b7 as I,Sc as J,ms as K,En as L,un as M,li as N,gs as O,X6 as P,Jo as Q,Ko as R,q6 as S,Ih as T,n7 as U,j3 as V,i7 as W,r7 as X,Z0 as Y,ih as Z,Ur as _,B6 as a,Qi as a0,_n as a1,ne as a2,dr as a3,nn as a4,a7 as a5,Go as a6,Y6 as a7,qe as a8,Uh as a9,co as aA,vi as aB,p7 as aC,o7 as aD,ue as aE,df as aF,d7 as aG,l7 as aH,h7 as aI,Mt as aa,Et as ab,xi as ac,P1 as ad,Pb as ae,J3 as af,uu as ag,tf as ah,c7 as ai,ee as aj,_8 as ak,ya as al,uh as am,Nn as an,ze as ao,s7 as ap,fh as aq,y8 as ar,v8 as as,qr as at,q0 as au,qt as av,dt as aw,V6 as ax,Q0 as ay,ty as az,le as b,Le as c,T1 as d,_t as e,se as f,Ln as g,t7 as h,fn as i,A1 as j,re as k,G as l,A5 as m,f7 as n,Ct as o,Uf as p,Gf as q,S1 as r,Pf as s,_a as t,Gh as u,So as v,R0 as w,u7 as x,X0 as y,F3 as z};
