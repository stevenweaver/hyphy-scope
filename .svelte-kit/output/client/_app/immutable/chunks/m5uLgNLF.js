import{aH as i,a9 as I,ae as M,S as O,aI as T,aJ as E,y as t,aK as C,aL as H,aM as P,aN as R,aO as B,aP as D,aQ as K,e as N,aa as m,O as n,aR as U,a5 as S}from"./DFDNEQV0.js";function w(e,a,r=!1){if(e.multiple){if(a==null)return;if(!O(a))return T();for(var s of e.options)s.selected=a.includes(_(s));return}for(s of e.options){var c=_(s);if(E(c,a)){s.selected=!0;return}}(!r||a!==void 0)&&(e.selectedIndex=-1)}function V(e){var a=new MutationObserver(()=>{w(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),M(()=>{a.disconnect()})}function Q(e,a,r=a){var s=!0;i(e,"change",c=>{var f=c?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(f),_);else{var v=e.querySelector(f)??e.querySelector("option:not([disabled])");l=v&&_(v)}r(l)}),I(()=>{var c=a();if(w(e,c,s),s&&c===void 0){var f=e.querySelector(":checked");f!==null&&(c=_(f),r(c))}e.__value=c,s=!1}),V(e)}function _(e){return"__value"in e?e.__value:e.value}const x=Symbol("is custom element"),F=Symbol("is html");function W(e){if(t){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var s=e.value;y(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var c=e.checked;y(e,"checked",null),e.checked=c}}};e.__on_r=r,C(r),H()}}function Y(e,a){var r=L(e);r.checked!==(r.checked=a??void 0)&&(e.checked=a)}function y(e,a,r,s){var c=L(e);t&&(c[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||c[a]!==(c[a]=r)&&(a==="loading"&&(e[P]=r),r==null?e.removeAttribute(a):typeof r!="string"&&G(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function L(e){return e.__attributes??(e.__attributes={[x]:e.nodeName.includes("-"),[F]:e.namespaceURI===R})}var g=new Map;function G(e){var a=g.get(e.nodeName);if(a)return a;g.set(e.nodeName,a=[]);for(var r,s=e,c=Element.prototype;c!==s;){r=D(s);for(var f in r)r[f].set&&a.push(f);s=B(s)}return a}function j(e,a,r=a){var s=K(),c=new WeakSet;i(e,"input",f=>{var l=f?e.defaultValue:e.value;if(l=k(e)?b(l):l,r(l),n!==null&&c.add(n),s&&l!==(l=a())){var v=e.selectionStart,u=e.selectionEnd;e.value=l??"",u!==null&&(e.selectionStart=v,e.selectionEnd=Math.min(u,e.value.length))}}),(t&&e.defaultValue!==e.value||N(a)==null&&e.value)&&(r(k(e)?b(e.value):e.value),n!==null&&c.add(n)),m(()=>{var f=a();if(e===document.activeElement){var l=U??n;if(c.has(l))return}k(e)&&f===b(e.value)||e.type==="date"&&!f&&!e.value||f!==e.value&&(e.value=f??"")})}const h=new Set;function z(e,a,r,s,c=s){var f=r.getAttribute("type")==="checkbox",l=e;let v=!1;if(a!==null)for(var u of a)l=l[u]??(l[u]=[]);l.push(r),i(r,"change",()=>{var d=r.__value;f&&(d=A(l,d,r.checked)),c(d)},()=>c(f?[]:null)),m(()=>{var d=s();if(t&&r.defaultChecked!==r.checked){v=!0;return}f?(d=d||[],r.checked=d.includes(r.__value)):r.checked=E(r.__value,d)}),M(()=>{var d=l.indexOf(r);d!==-1&&l.splice(d,1)}),h.has(l)||(h.add(l),S(()=>{l.sort((d,o)=>d.compareDocumentPosition(o)===4?-1:1),h.delete(l)})),S(()=>{if(v){var d;if(f)d=A(l,d,r.checked);else{var o=l.find(q=>q.checked);d=o==null?void 0:o.__value}c(d)}})}function X(e,a,r=a){i(e,"change",s=>{var c=s?e.defaultChecked:e.checked;r(c)}),(t&&e.defaultChecked!==e.checked||N(a)==null)&&r(e.checked),m(()=>{var s=a();e.checked=!!s})}function A(e,a,r){for(var s=new Set,c=0;c<e.length;c+=1)e[c].checked&&s.add(e[c].__value);return r||s.delete(a),Array.from(s)}function k(e){var a=e.type;return a==="number"||a==="range"}function b(e){return e===""?null:+e}export{j as a,Q as b,X as c,z as d,y as e,W as r,Y as s};
