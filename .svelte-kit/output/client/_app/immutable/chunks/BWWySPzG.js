function En(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Tr(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function ji(t){let n,e,r;t.length!==2?(n=En,e=(f,u)=>En(t(f),u),r=(f,u)=>t(f)-u):(n=t===En||t===Tr?t:L1,e=t,r=t);function i(f,u,c=0,s=f.length){if(c<s){if(n(u,u)!==0)return s;do{const d=c+s>>>1;e(f[d],u)<0?c=d+1:s=d}while(c<s)}return c}function a(f,u,c=0,s=f.length){if(c<s){if(n(u,u)!==0)return s;do{const d=c+s>>>1;e(f[d],u)<=0?c=d+1:s=d}while(c<s)}return c}function o(f,u,c=0,s=f.length){const d=i(f,u,c,s-1);return d>c&&r(f[d-1],u)>-r(f[d],u)?d-1:d}return{left:i,center:o,right:a}}function L1(){return 0}function ps(t){return t===null?NaN:+t}function*R1(t,n){if(n===void 0)for(let e of t)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)(r=n(r,++e,t))!=null&&(r=+r)>=r&&(yield r)}}const F1=ji(En),bf=F1.right;ji(ps).center;function P1(t){return t.length|0}function O1(t){return!(t>0)}function U1(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function q1(t){return n=>t(...n)}function z1(...t){const n=typeof t[t.length-1]=="function"&&q1(t.pop());t=t.map(U1);const e=t.map(P1),r=t.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||e.some(O1))return a;for(;;){a.push(i.map((f,u)=>t[u][f]));let o=r;for(;++i[o]===e[o];){if(o===0)return n?a.map(n):a;i[o--]=0}}}function gs(t,n){let e=0,r,i=0,a=0;if(n===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++e,a+=r*(o-i));else{let o=-1;for(let f of t)(f=n(f,++o,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++e,a+=r*(f-i))}if(e>1)return a/(e-1)}function Y1(t,n){const e=gs(t,n);return e&&Math.sqrt(e)}function Nn(t,n){let e,r;if(n===void 0)for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=n(a,++i,t))!=null&&(e===void 0?a>=a&&(e=r=a):(e>a&&(e=a),r<a&&(r=a)))}return[e,r]}class Gn{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=e[i],o=n+a,f=Math.abs(n)<Math.abs(a)?n-(o-a):a-(o-n);f&&(e[r++]=f),n=o}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,a,o=0;if(e>0){for(o=n[--e];e>0&&(r=o,i=n[--e],o=r+i,a=i-(o-r),!a););e>0&&(a<0&&n[e-1]<0||a>0&&n[e-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}class hr extends Map{constructor(n,e=ys){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(lo(this,n))}has(n){return super.has(lo(this,n))}set(n,e){return super.set(ms(this,n),e)}delete(n){return super.delete(bs(this,n))}}class ta extends Set{constructor(n,e=ys){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const r of n)this.add(r)}has(n){return super.has(lo(this,n))}add(n){return super.add(ms(this,n))}delete(n){return super.delete(bs(this,n))}}function lo({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function ms({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function bs({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function ys(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ho(t){return t}function ws(t,...n){return yf(t,ho,ho,n)}function pi(t,n,...e){return yf(t,ho,n,e)}function B1(t,n,...e){return yf(t,Array.from,n,e)}function yf(t,n,e,r){return function i(a,o){if(o>=r.length)return e(a);const f=new hr,u=r[o++];let c=-1;for(const s of a){const d=u(s,++c,a),l=f.get(d);l?l.push(s):f.set(d,[s])}for(const[s,d]of f)f.set(s,i(d,o));return n(f)}(t,0)}function H1(t,n){return Array.from(n,e=>t[e])}function vs(t,...n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&e.length!==2||n.length>1){const r=Uint32Array.from(t,(i,a)=>a);return n.length>1?(n=n.map(i=>t.map(i)),r.sort((i,a)=>{for(const o of n){const f=Mi(o[i],o[a]);if(f)return f}})):(e=t.map(e),r.sort((i,a)=>Mi(e[i],e[a]))),H1(t,r)}return t.sort(xs(e))}function xs(t=En){if(t===En)return Mi;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function Mi(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}const W1=Math.sqrt(50),V1=Math.sqrt(10),G1=Math.sqrt(2);function $i(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=W1?10:a>=V1?5:a>=G1?2:1;let f,u,c;return i<0?(c=Math.pow(10,-i)/o,f=Math.round(t*c),u=Math.round(n*c),f/c<t&&++f,u/c>n&&--u,c=-c):(c=Math.pow(10,i)*o,f=Math.round(t/c),u=Math.round(n/c),f*c<t&&++f,u*c>n&&--u),u<f&&.5<=e&&e<2?$i(t,n,e*2):[f,u,c]}function _i(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,a,o]=r?$i(n,t,e):$i(t,n,e);if(!(a>=i))return[];const f=a-i+1,u=new Array(f);if(r)if(o<0)for(let c=0;c<f;++c)u[c]=(a-c)/-o;else for(let c=0;c<f;++c)u[c]=(a-c)*o;else if(o<0)for(let c=0;c<f;++c)u[c]=(i+c)/-o;else for(let c=0;c<f;++c)u[c]=(i+c)*o;return u}function po(t,n,e){return n=+n,t=+t,e=+e,$i(t,n,e)[2]}function go(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?po(n,t,e):po(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function nn(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function X1(t,n){let e,r=-1,i=-1;if(n===void 0)for(const a of t)++i,a!=null&&(e<a||e===void 0&&a>=a)&&(e=a,r=i);else for(let a of t)(a=n(a,++i,t))!=null&&(e<a||e===void 0&&a>=a)&&(e=a,r=i);return r}function pr(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function Z1(t,n){let e,r=-1,i=-1;if(n===void 0)for(const a of t)++i,a!=null&&(e>a||e===void 0&&a>=a)&&(e=a,r=i);else for(let a of t)(a=n(a,++i,t))!=null&&(e>a||e===void 0&&a>=a)&&(e=a,r=i);return r}function Ms(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=i===void 0?Mi:xs(i);r>e;){if(r-e>600){const u=r-e+1,c=n-e+1,s=Math.log(u),d=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*d*(u-d)/u)*(c-u/2<0?-1:1),h=Math.max(e,Math.floor(n-c*d/u+l)),p=Math.min(r,Math.floor(n+(u-c)*d/u+l));Ms(t,n,h,p,i)}const a=t[n];let o=e,f=r;for(Xe(t,e,n),i(t[r],a)>0&&Xe(t,e,r);o<f;){for(Xe(t,o,f),++o,--f;i(t[o],a)<0;)++o;for(;i(t[f],a)>0;)--f}i(t[e],a)===0?Xe(t,e,f):(++f,Xe(t,f,r)),f<=n&&(e=f+1),n<=f&&(r=f-1)}return t}function Xe(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function Si(t,n,e){if(t=Float64Array.from(R1(t,e)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return pr(t);if(n>=1)return nn(t);var r,i=(r-1)*n,a=Math.floor(i),o=nn(Ms(t,a).subarray(0,a+1)),f=pr(t.subarray(a+1));return o+(f-o)*(i-a)}}function K1(t,n,e=ps){if(!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,a=Math.floor(i),o=+e(t[a],a,t),f=+e(t[a+1],a+1,t);return o+(f-o)*(i-a)}}function Q1(t,n){let e=0,r=0;if(n===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let a of t)(a=n(a,++i,t))!=null&&(a=+a)>=a&&(++e,r+=a)}if(e)return r/e}function mo(t,n){return Si(t,.5,n)}function*J1(t){for(const n of t)yield*n}function $s(t){return Array.from(J1(t))}function j1(t,n){const e=new hr;if(n===void 0)for(let a of t)a!=null&&a>=a&&e.set(a,(e.get(a)||0)+1);else{let a=-1;for(let o of t)(o=n(o,++a,t))!=null&&o>=o&&e.set(o,(e.get(o)||0)+1)}let r,i=0;for(const[a,o]of e)o>i&&(i=o,r=a);return r}function tp(t,n=np){const e=[];let r,i=!1;for(const a of t)i&&e.push(n(r,a)),r=a,i=!0;return e}function np(t,n){return[t,n]}function bo(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,a=new Array(i);++r<i;)a[r]=t+r*e;return a}function na(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function Ti(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function ep(t){return t}var gi=1,Na=2,yo=3,Xr=4,wu=1e-6;function rp(t){return"translate("+t+",0)"}function ip(t){return"translate(0,"+t+")"}function ap(t){return n=>+t(n)}function op(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function fp(){return!this.__axis}function _s(t,n){var e=[],r=null,i=null,a=6,o=6,f=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=t===gi||t===Xr?-1:1,s=t===Xr||t===Na?"x":"y",d=t===gi||t===yo?rp:ip;function l(h){var p=r??(n.ticks?n.ticks.apply(n,e):n.domain()),g=i??(n.tickFormat?n.tickFormat.apply(n,e):ep),b=Math.max(a,0)+f,w=n.range(),y=+w[0]+u,v=+w[w.length-1]+u,m=(n.bandwidth?op:ap)(n.copy(),u),M=h.selection?h.selection():h,x=M.selectAll(".domain").data([null]),_=M.selectAll(".tick").data(p,n).order(),S=_.exit(),A=_.enter().append("g").attr("class","tick"),N=_.select("line"),$=_.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(A),N=N.merge(A.append("line").attr("stroke","currentColor").attr(s+"2",c*a)),$=$.merge(A.append("text").attr("fill","currentColor").attr(s,c*b).attr("dy",t===gi?"0em":t===yo?"0.71em":"0.32em")),h!==M&&(x=x.transition(h),_=_.transition(h),N=N.transition(h),$=$.transition(h),S=S.transition(h).attr("opacity",wu).attr("transform",function(D){return isFinite(D=m(D))?d(D+u):this.getAttribute("transform")}),A.attr("opacity",wu).attr("transform",function(D){var F=this.parentNode.__axis;return d((F&&isFinite(F=F(D))?F:m(D))+u)})),S.remove(),x.attr("d",t===Xr||t===Na?o?"M"+c*o+","+y+"H"+u+"V"+v+"H"+c*o:"M"+u+","+y+"V"+v:o?"M"+y+","+c*o+"V"+u+"H"+v+"V"+c*o:"M"+y+","+u+"H"+v),_.attr("opacity",1).attr("transform",function(D){return d(m(D)+u)}),N.attr(s+"2",c*a),$.attr(s,c*b).text(g),M.filter(fp).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Na?"start":t===Xr?"end":"middle"),M.each(function(){this.__axis=m})}return l.scale=function(h){return arguments.length?(n=h,l):n},l.ticks=function(){return e=Array.from(arguments),l},l.tickArguments=function(h){return arguments.length?(e=h==null?[]:Array.from(h),l):e.slice()},l.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),l):r&&r.slice()},l.tickFormat=function(h){return arguments.length?(i=h,l):i},l.tickSize=function(h){return arguments.length?(a=o=+h,l):a},l.tickSizeInner=function(h){return arguments.length?(a=+h,l):a},l.tickSizeOuter=function(h){return arguments.length?(o=+h,l):o},l.tickPadding=function(h){return arguments.length?(f=+h,l):f},l.offset=function(h){return arguments.length?(u=+h,l):u},l}function a7(t){return _s(gi,t)}function up(t){return _s(yo,t)}var cp={value:()=>{}};function Ss(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new mi(e)}function mi(t){this._=t}function sp(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}mi.prototype=Ss.prototype={constructor:mi,on:function(t,n){var e=this._,r=sp(t+"",e),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=lp(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<o;)if(i=(t=r[a]).type)e[i]=vu(e[i],t.name,n);else if(n==null)for(i in e)e[i]=vu(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new mi(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,a;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};function lp(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function vu(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=cp,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var wo="http://www.w3.org/1999/xhtml";const Me={svg:"http://www.w3.org/2000/svg",xhtml:wo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ea(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Me.hasOwnProperty(n)?{space:Me[n],local:t}:t}function dp(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===wo&&n.documentElement.namespaceURI===wo?n.createElement(t):n.createElementNS(e,t)}}function hp(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ra(t){var n=ea(t);return(n.local?hp:dp)(n)}function pp(){}function wf(t){return t==null?pp:function(){return this.querySelector(t)}}function gp(t){typeof t!="function"&&(t=wf(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,f=r[i]=new Array(o),u,c,s=0;s<o;++s)(u=a[s])&&(c=t.call(u,u.__data__,s,a))&&("__data__"in u&&(c.__data__=u.__data__),f[s]=c);return new kt(r,this._parents)}function mp(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function bp(){return[]}function Ts(t){return t==null?bp:function(){return this.querySelectorAll(t)}}function yp(t){return function(){return mp(t.apply(this,arguments))}}function wp(t){typeof t=="function"?t=yp(t):t=Ts(t);for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o=n[a],f=o.length,u,c=0;c<f;++c)(u=o[c])&&(r.push(t.call(u,u.__data__,c,o)),i.push(u));return new kt(r,i)}function As(t){return function(){return this.matches(t)}}function Cs(t){return function(n){return n.matches(t)}}var vp=Array.prototype.find;function xp(t){return function(){return vp.call(this.children,t)}}function Mp(){return this.firstElementChild}function $p(t){return this.select(t==null?Mp:xp(typeof t=="function"?t:Cs(t)))}var _p=Array.prototype.filter;function Sp(){return Array.from(this.children)}function Tp(t){return function(){return _p.call(this.children,t)}}function Ap(t){return this.selectAll(t==null?Sp:Tp(typeof t=="function"?t:Cs(t)))}function Cp(t){typeof t!="function"&&(t=As(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,f=r[i]=[],u,c=0;c<o;++c)(u=a[c])&&t.call(u,u.__data__,c,a)&&f.push(u);return new kt(r,this._parents)}function Es(t){return new Array(t.length)}function Ep(){return new kt(this._enter||this._groups.map(Es),this._parents)}function Ai(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Ai.prototype={constructor:Ai,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Np(t){return function(){return t}}function kp(t,n,e,r,i,a){for(var o=0,f,u=n.length,c=a.length;o<c;++o)(f=n[o])?(f.__data__=a[o],r[o]=f):e[o]=new Ai(t,a[o]);for(;o<u;++o)(f=n[o])&&(i[o]=f)}function Dp(t,n,e,r,i,a,o){var f,u,c=new Map,s=n.length,d=a.length,l=new Array(s),h;for(f=0;f<s;++f)(u=n[f])&&(l[f]=h=o.call(u,u.__data__,f,n)+"",c.has(h)?i[f]=u:c.set(h,u));for(f=0;f<d;++f)h=o.call(t,a[f],f,a)+"",(u=c.get(h))?(r[f]=u,u.__data__=a[f],c.delete(h)):e[f]=new Ai(t,a[f]);for(f=0;f<s;++f)(u=n[f])&&c.get(l[f])===u&&(i[f]=u)}function Ip(t){return t.__data__}function Lp(t,n){if(!arguments.length)return Array.from(this,Ip);var e=n?Dp:kp,r=this._parents,i=this._groups;typeof t!="function"&&(t=Np(t));for(var a=i.length,o=new Array(a),f=new Array(a),u=new Array(a),c=0;c<a;++c){var s=r[c],d=i[c],l=d.length,h=Rp(t.call(s,s&&s.__data__,c,r)),p=h.length,g=f[c]=new Array(p),b=o[c]=new Array(p),w=u[c]=new Array(l);e(s,d,g,b,w,h,n);for(var y=0,v=0,m,M;y<p;++y)if(m=g[y]){for(y>=v&&(v=y+1);!(M=b[v])&&++v<p;);m._next=M||null}}return o=new kt(o,r),o._enter=f,o._exit=u,o}function Rp(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Fp(){return new kt(this._exit||this._groups.map(Es),this._parents)}function Pp(t,n,e){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?a.remove():e(a),r&&i?r.merge(i).order():i}function Op(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,a=r.length,o=Math.min(i,a),f=new Array(i),u=0;u<o;++u)for(var c=e[u],s=r[u],d=c.length,l=f[u]=new Array(d),h,p=0;p<d;++p)(h=c[p]||s[p])&&(l[p]=h);for(;u<i;++u)f[u]=e[u];return new kt(f,this._parents)}function Up(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function qp(t){t||(t=zp);function n(d,l){return d&&l?t(d.__data__,l.__data__):!d-!l}for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o=e[a],f=o.length,u=i[a]=new Array(f),c,s=0;s<f;++s)(c=o[s])&&(u[s]=c);u.sort(n)}return new kt(i,this._parents).order()}function zp(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Yp(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Bp(){return Array.from(this)}function Hp(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Wp(){let t=0;for(const n of this)++t;return t}function Vp(){return!this.node()}function Gp(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],a=0,o=i.length,f;a<o;++a)(f=i[a])&&t.call(f,f.__data__,a,i);return this}function Xp(t){return function(){this.removeAttribute(t)}}function Zp(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Kp(t,n){return function(){this.setAttribute(t,n)}}function Qp(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Jp(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function jp(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function tg(t,n){var e=ea(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Zp:Xp:typeof n=="function"?e.local?jp:Jp:e.local?Qp:Kp)(e,n))}function Ns(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ng(t){return function(){this.style.removeProperty(t)}}function eg(t,n,e){return function(){this.style.setProperty(t,n,e)}}function rg(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function ig(t,n,e){return arguments.length>1?this.each((n==null?ng:typeof n=="function"?rg:eg)(t,n,e??"")):$e(this.node(),t)}function $e(t,n){return t.style.getPropertyValue(n)||Ns(t).getComputedStyle(t,null).getPropertyValue(n)}function ag(t){return function(){delete this[t]}}function og(t,n){return function(){this[t]=n}}function fg(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function ug(t,n){return arguments.length>1?this.each((n==null?ag:typeof n=="function"?fg:og)(t,n)):this.node()[t]}function ks(t){return t.trim().split(/^|\s+/)}function vf(t){return t.classList||new Ds(t)}function Ds(t){this._node=t,this._names=ks(t.getAttribute("class")||"")}Ds.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Is(t,n){for(var e=vf(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Ls(t,n){for(var e=vf(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function cg(t){return function(){Is(this,t)}}function sg(t){return function(){Ls(this,t)}}function lg(t,n){return function(){(n.apply(this,arguments)?Is:Ls)(this,t)}}function dg(t,n){var e=ks(t+"");if(arguments.length<2){for(var r=vf(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?lg:n?cg:sg)(e,n))}function hg(){this.textContent=""}function pg(t){return function(){this.textContent=t}}function gg(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function mg(t){return arguments.length?this.each(t==null?hg:(typeof t=="function"?gg:pg)(t)):this.node().textContent}function bg(){this.innerHTML=""}function yg(t){return function(){this.innerHTML=t}}function wg(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function vg(t){return arguments.length?this.each(t==null?bg:(typeof t=="function"?wg:yg)(t)):this.node().innerHTML}function xg(){this.nextSibling&&this.parentNode.appendChild(this)}function Mg(){return this.each(xg)}function $g(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _g(){return this.each($g)}function Sg(t){var n=typeof t=="function"?t:ra(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Tg(){return null}function Ag(t,n){var e=typeof t=="function"?t:ra(t),r=n==null?Tg:typeof n=="function"?n:wf(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function Cg(){var t=this.parentNode;t&&t.removeChild(this)}function Eg(){return this.each(Cg)}function Ng(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function kg(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Dg(t){return this.select(t?kg:Ng)}function Ig(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Lg(t){return function(n){t.call(this,n,this.__data__)}}function Rg(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function Fg(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,a;e<i;++e)a=n[e],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):n[++r]=a;++r?n.length=r:delete this.__on}}}function Pg(t,n,e){return function(){var r=this.__on,i,a=Lg(n);if(r){for(var o=0,f=r.length;o<f;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=e),i.value=n;return}}this.addEventListener(t.type,a,e),i={type:t.type,name:t.name,value:n,listener:a,options:e},r?r.push(i):this.__on=[i]}}function Og(t,n,e){var r=Rg(t+""),i,a=r.length,o;if(arguments.length<2){var f=this.node().__on;if(f){for(var u=0,c=f.length,s;u<c;++u)for(i=0,s=f[u];i<a;++i)if((o=r[i]).type===s.type&&o.name===s.name)return s.value}return}for(f=n?Pg:Fg,i=0;i<a;++i)this.each(f(r[i],n,e));return this}function Rs(t,n,e){var r=Ns(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Ug(t,n){return function(){return Rs(this,t,n)}}function qg(t,n){return function(){return Rs(this,t,n.apply(this,arguments))}}function zg(t,n){return this.each((typeof n=="function"?qg:Ug)(t,n))}function*Yg(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Fs=[null];function kt(t,n){this._groups=t,this._parents=n}function Ar(){return new kt([[document.documentElement]],Fs)}function Bg(){return this}kt.prototype=Ar.prototype={constructor:kt,select:gp,selectAll:wp,selectChild:$p,selectChildren:Ap,filter:Cp,data:Lp,enter:Ep,exit:Fp,join:Pp,merge:Op,selection:Bg,order:Up,sort:qp,call:Yp,nodes:Bp,node:Hp,size:Wp,empty:Vp,each:Gp,attr:tg,style:ig,property:ug,classed:dg,text:mg,html:vg,raise:Mg,lower:_g,append:Sg,insert:Ag,remove:Eg,clone:Dg,datum:Ig,on:Og,dispatch:zg,[Symbol.iterator]:Yg};function Bn(t){return typeof t=="string"?new kt([[document.querySelector(t)]],[document.documentElement]):new kt([[t]],Fs)}function Hg(t){let n;for(;n=t.sourceEvent;)t=n;return t}function Wg(t,n){if(t=Hg(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function Oe(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Cr(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Rn(){}var Xn=.7,_e=1/Xn,we="\\s*([+-]?\\d+)\\s*",gr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vg=/^#([0-9a-f]{3,8})$/,Gg=new RegExp(`^rgb\\(${we},${we},${we}\\)$`),Xg=new RegExp(`^rgb\\(${jt},${jt},${jt}\\)$`),Zg=new RegExp(`^rgba\\(${we},${we},${we},${gr}\\)$`),Kg=new RegExp(`^rgba\\(${jt},${jt},${jt},${gr}\\)$`),Qg=new RegExp(`^hsl\\(${gr},${jt},${jt}\\)$`),Jg=new RegExp(`^hsla\\(${gr},${jt},${jt},${gr}\\)$`),xu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Oe(Rn,Zn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Mu,formatHex:Mu,formatHex8:jg,formatHsl:tm,formatRgb:$u,toString:$u});function Mu(){return this.rgb().formatHex()}function jg(){return this.rgb().formatHex8()}function tm(){return Ps(this).formatHsl()}function $u(){return this.rgb().formatRgb()}function Zn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Vg.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?_u(n):e===3?new mt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Zr(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Zr(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Gg.exec(t))?new mt(n[1],n[2],n[3],1):(n=Xg.exec(t))?new mt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Zg.exec(t))?Zr(n[1],n[2],n[3],n[4]):(n=Kg.exec(t))?Zr(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Qg.exec(t))?Au(n[1],n[2]/100,n[3]/100,1):(n=Jg.exec(t))?Au(n[1],n[2]/100,n[3]/100,n[4]):xu.hasOwnProperty(t)?_u(xu[t]):t==="transparent"?new mt(NaN,NaN,NaN,0):null}function _u(t){return new mt(t>>16&255,t>>8&255,t&255,1)}function Zr(t,n,e,r){return r<=0&&(t=n=e=NaN),new mt(t,n,e,r)}function xf(t){return t instanceof Rn||(t=Zn(t)),t?(t=t.rgb(),new mt(t.r,t.g,t.b,t.opacity)):new mt}function Dn(t,n,e,r){return arguments.length===1?xf(t):new mt(t,n,e,r??1)}function mt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Oe(mt,Dn,Cr(Rn,{brighter(t){return t=t==null?_e:Math.pow(_e,t),new mt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xn:Math.pow(Xn,t),new mt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new mt(Hn(this.r),Hn(this.g),Hn(this.b),Ci(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Su,formatHex:Su,formatHex8:nm,formatRgb:Tu,toString:Tu}));function Su(){return`#${Yn(this.r)}${Yn(this.g)}${Yn(this.b)}`}function nm(){return`#${Yn(this.r)}${Yn(this.g)}${Yn(this.b)}${Yn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Tu(){const t=Ci(this.opacity);return`${t===1?"rgb(":"rgba("}${Hn(this.r)}, ${Hn(this.g)}, ${Hn(this.b)}${t===1?")":`, ${t})`}`}function Ci(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Hn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Yn(t){return t=Hn(t),(t<16?"0":"")+t.toString(16)}function Au(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Yt(t,n,e,r)}function Ps(t){if(t instanceof Yt)return new Yt(t.h,t.s,t.l,t.opacity);if(t instanceof Rn||(t=Zn(t)),!t)return new Yt;if(t instanceof Yt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,f=a-i,u=(a+i)/2;return f?(n===a?o=(e-r)/f+(e<r)*6:e===a?o=(r-n)/f+2:o=(n-e)/f+4,f/=u<.5?a+i:2-a-i,o*=60):f=u>0&&u<1?0:o,new Yt(o,f,u,t.opacity)}function vo(t,n,e,r){return arguments.length===1?Ps(t):new Yt(t,n,e,r??1)}function Yt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Oe(Yt,vo,Cr(Rn,{brighter(t){return t=t==null?_e:Math.pow(_e,t),new Yt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xn:Math.pow(Xn,t),new Yt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new mt(ka(t>=240?t-240:t+120,i,r),ka(t,i,r),ka(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Yt(Cu(this.h),Kr(this.s),Kr(this.l),Ci(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ci(this.opacity);return`${t===1?"hsl(":"hsla("}${Cu(this.h)}, ${Kr(this.s)*100}%, ${Kr(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Cu(t){return t=(t||0)%360,t<0?t+360:t}function Kr(t){return Math.max(0,Math.min(1,t||0))}function ka(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Os=Math.PI/180,Us=180/Math.PI,Ei=18,qs=.96422,zs=1,Ys=.82521,Bs=4/29,ve=6/29,Hs=3*ve*ve,em=ve*ve*ve;function Ws(t){if(t instanceof tn)return new tn(t.l,t.a,t.b,t.opacity);if(t instanceof mn)return Vs(t);t instanceof mt||(t=xf(t));var n=Ra(t.r),e=Ra(t.g),r=Ra(t.b),i=Da((.2225045*n+.7168786*e+.0606169*r)/zs),a,o;return n===e&&e===r?a=o=i:(a=Da((.4360747*n+.3850649*e+.1430804*r)/qs),o=Da((.0139322*n+.0971045*e+.7141733*r)/Ys)),new tn(116*i-16,500*(a-i),200*(i-o),t.opacity)}function xo(t,n,e,r){return arguments.length===1?Ws(t):new tn(t,n,e,r??1)}function tn(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}Oe(tn,xo,Cr(Rn,{brighter(t){return new tn(this.l+Ei*(t??1),this.a,this.b,this.opacity)},darker(t){return new tn(this.l-Ei*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=qs*Ia(n),t=zs*Ia(t),e=Ys*Ia(e),new mt(La(3.1338561*n-1.6168667*t-.4906146*e),La(-.9787684*n+1.9161415*t+.033454*e),La(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function Da(t){return t>em?Math.pow(t,1/3):t/Hs+Bs}function Ia(t){return t>ve?t*t*t:Hs*(t-Bs)}function La(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ra(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function rm(t){if(t instanceof mn)return new mn(t.h,t.c,t.l,t.opacity);if(t instanceof tn||(t=Ws(t)),t.a===0&&t.b===0)return new mn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Us;return new mn(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Mo(t,n,e,r){return arguments.length===1?rm(t):new mn(t,n,e,r??1)}function mn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Vs(t){if(isNaN(t.h))return new tn(t.l,0,0,t.opacity);var n=t.h*Os;return new tn(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}Oe(mn,Mo,Cr(Rn,{brighter(t){return new mn(this.h,this.c,this.l+Ei*(t??1),this.opacity)},darker(t){return new mn(this.h,this.c,this.l-Ei*(t??1),this.opacity)},rgb(){return Vs(this).rgb()}}));var Gs=-.14861,Mf=1.78277,$f=-.29227,ia=-.90649,mr=1.97294,Eu=mr*ia,Nu=mr*Mf,ku=Mf*$f-ia*Gs;function im(t){if(t instanceof Wn)return new Wn(t.h,t.s,t.l,t.opacity);t instanceof mt||(t=xf(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(ku*r+Eu*n-Nu*e)/(ku+Eu-Nu),a=r-i,o=(mr*(e-i)-$f*a)/ia,f=Math.sqrt(o*o+a*a)/(mr*i*(1-i)),u=f?Math.atan2(o,a)*Us-120:NaN;return new Wn(u<0?u+360:u,f,i,t.opacity)}function en(t,n,e,r){return arguments.length===1?im(t):new Wn(t,n,e,r??1)}function Wn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Oe(Wn,en,Cr(Rn,{brighter(t){return t=t==null?_e:Math.pow(_e,t),new Wn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xn:Math.pow(Xn,t),new Wn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Os,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new mt(255*(n+e*(Gs*r+Mf*i)),255*(n+e*($f*r+ia*i)),255*(n+e*(mr*r)),this.opacity)}}));function am(t,n,e,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*r+o*i)/6}function om(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,f=r<n-1?t[r+2]:2*a-i;return am((e-r/n)*n,o,i,a,f)}}const aa=t=>()=>t;function Xs(t,n){return function(e){return t+e*n}}function fm(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function _f(t,n){var e=n-t;return e?Xs(t,e>180||e<-180?e-360*Math.round(e/360):e):aa(isNaN(t)?n:t)}function um(t){return(t=+t)==1?xt:function(n,e){return e-n?fm(n,e,t):aa(isNaN(n)?e:n)}}function xt(t,n){var e=n-t;return e?Xs(t,e):aa(isNaN(t)?n:t)}const Kn=function t(n){var e=um(n);function r(i,a){var o=e((i=Dn(i)).r,(a=Dn(a)).r),f=e(i.g,a.g),u=e(i.b,a.b),c=xt(i.opacity,a.opacity);return function(s){return i.r=o(s),i.g=f(s),i.b=u(s),i.opacity=c(s),i+""}}return r.gamma=t,r}(1);function cm(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),a=new Array(e),o,f;for(o=0;o<e;++o)f=Dn(n[o]),r[o]=f.r||0,i[o]=f.g||0,a[o]=f.b||0;return r=t(r),i=t(i),a=t(a),f.opacity=1,function(u){return f.r=r(u),f.g=i(u),f.b=a(u),f+""}}}var sm=cm(om);function lm(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(a){for(i=0;i<e;++i)r[i]=t[i]*(1-a)+n[i]*a;return r}}function dm(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function hm(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),a=new Array(e),o;for(o=0;o<r;++o)i[o]=Ue(t[o],n[o]);for(;o<e;++o)a[o]=n[o];return function(f){for(o=0;o<r;++o)a[o]=i[o](f);return a}}function pm(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function wt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function gm(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=Ue(t[i],n[i]):r[i]=n[i];return function(a){for(i in e)r[i]=e[i](a);return r}}var $o=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fa=new RegExp($o.source,"g");function mm(t){return function(){return t}}function bm(t){return function(n){return t(n)+""}}function Zs(t,n){var e=$o.lastIndex=Fa.lastIndex=0,r,i,a,o=-1,f=[],u=[];for(t=t+"",n=n+"";(r=$o.exec(t))&&(i=Fa.exec(n));)(a=i.index)>e&&(a=n.slice(e,a),f[o]?f[o]+=a:f[++o]=a),(r=r[0])===(i=i[0])?f[o]?f[o]+=i:f[++o]=i:(f[++o]=null,u.push({i:o,x:wt(r,i)})),e=Fa.lastIndex;return e<n.length&&(a=n.slice(e),f[o]?f[o]+=a:f[++o]=a),f.length<2?u[0]?bm(u[0].x):mm(n):(n=u.length,function(c){for(var s=0,d;s<n;++s)f[(d=u[s]).i]=d.x(c);return f.join("")})}function Ue(t,n){var e=typeof n,r;return n==null||e==="boolean"?aa(n):(e==="number"?wt:e==="string"?(r=Zn(n))?(n=r,Kn):Zs:n instanceof Zn?Kn:n instanceof Date?pm:dm(n)?lm:Array.isArray(n)?hm:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?gm:wt)(t,n)}function oa(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Du=180/Math.PI,_o={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ks(t,n,e,r,i,a){var o,f,u;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(u=t*e+n*r)&&(e-=t*u,r-=n*u),(f=Math.sqrt(e*e+r*r))&&(e/=f,r/=f,u/=f),t*r<n*e&&(t=-t,n=-n,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*Du,skewX:Math.atan(u)*Du,scaleX:o,scaleY:f}}var Qr;function ym(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?_o:Ks(n.a,n.b,n.c,n.d,n.e,n.f)}function wm(t){return t==null||(Qr||(Qr=document.createElementNS("http://www.w3.org/2000/svg","g")),Qr.setAttribute("transform",t),!(t=Qr.transform.baseVal.consolidate()))?_o:(t=t.matrix,Ks(t.a,t.b,t.c,t.d,t.e,t.f))}function Qs(t,n,e,r){function i(c){return c.length?c.pop()+" ":""}function a(c,s,d,l,h,p){if(c!==d||s!==l){var g=h.push("translate(",null,n,null,e);p.push({i:g-4,x:wt(c,d)},{i:g-2,x:wt(s,l)})}else(d||l)&&h.push("translate("+d+n+l+e)}function o(c,s,d,l){c!==s?(c-s>180?s+=360:s-c>180&&(c+=360),l.push({i:d.push(i(d)+"rotate(",null,r)-2,x:wt(c,s)})):s&&d.push(i(d)+"rotate("+s+r)}function f(c,s,d,l){c!==s?l.push({i:d.push(i(d)+"skewX(",null,r)-2,x:wt(c,s)}):s&&d.push(i(d)+"skewX("+s+r)}function u(c,s,d,l,h,p){if(c!==d||s!==l){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:wt(c,d)},{i:g-2,x:wt(s,l)})}else(d!==1||l!==1)&&h.push(i(h)+"scale("+d+","+l+")")}return function(c,s){var d=[],l=[];return c=t(c),s=t(s),a(c.translateX,c.translateY,s.translateX,s.translateY,d,l),o(c.rotate,s.rotate,d,l),f(c.skewX,s.skewX,d,l),u(c.scaleX,c.scaleY,s.scaleX,s.scaleY,d,l),c=s=null,function(h){for(var p=-1,g=l.length,b;++p<g;)d[(b=l[p]).i]=b.x(h);return d.join("")}}}var vm=Qs(ym,"px, ","px)","deg)"),xm=Qs(wm,", ",")",")");function Mm(t){return function(n,e){var r=t((n=vo(n)).h,(e=vo(e)).h),i=xt(n.s,e.s),a=xt(n.l,e.l),o=xt(n.opacity,e.opacity);return function(f){return n.h=r(f),n.s=i(f),n.l=a(f),n.opacity=o(f),n+""}}}const $m=Mm(_f);function _m(t,n){var e=xt((t=xo(t)).l,(n=xo(n)).l),r=xt(t.a,n.a),i=xt(t.b,n.b),a=xt(t.opacity,n.opacity);return function(o){return t.l=e(o),t.a=r(o),t.b=i(o),t.opacity=a(o),t+""}}function Sm(t){return function(n,e){var r=t((n=Mo(n)).h,(e=Mo(e)).h),i=xt(n.c,e.c),a=xt(n.l,e.l),o=xt(n.opacity,e.opacity);return function(f){return n.h=r(f),n.c=i(f),n.l=a(f),n.opacity=o(f),n+""}}}const Tm=Sm(_f);function Js(t){return function n(e){e=+e;function r(i,a){var o=t((i=en(i)).h,(a=en(a)).h),f=xt(i.s,a.s),u=xt(i.l,a.l),c=xt(i.opacity,a.opacity);return function(s){return i.h=o(s),i.s=f(s),i.l=u(Math.pow(s,e)),i.opacity=c(s),i+""}}return r.gamma=n,r}(1)}Js(_f);var Sf=Js(xt);function fa(t,n){n===void 0&&(n=t,t=Ue);for(var e=0,r=n.length-1,i=n[0],a=new Array(r<0?0:r);e<r;)a[e]=t(i,i=n[++e]);return function(o){var f=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[f](o-f)}}function Ht(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}var Se=0,nr=0,Ze=0,js=1e3,Ni,er,ki=0,Qn=0,ua=0,br=typeof performance=="object"&&performance.now?performance:Date,tl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Tf(){return Qn||(tl(Am),Qn=br.now()+ua)}function Am(){Qn=0}function Di(){this._call=this._time=this._next=null}Di.prototype=nl.prototype={constructor:Di,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Tf():+e)+(n==null?0:+n),!this._next&&er!==this&&(er?er._next=this:Ni=this,er=this),this._call=t,this._time=e,So()},stop:function(){this._call&&(this._call=null,this._time=1/0,So())}};function nl(t,n,e){var r=new Di;return r.restart(t,n,e),r}function Cm(){Tf(),++Se;for(var t=Ni,n;t;)(n=Qn-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Se}function Iu(){Qn=(ki=br.now())+ua,Se=nr=0;try{Cm()}finally{Se=0,Nm(),Qn=0}}function Em(){var t=br.now(),n=t-ki;n>js&&(ua-=n,ki=t)}function Nm(){for(var t,n=Ni,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ni=e);er=t,So(r)}function So(t){if(!Se){nr&&(nr=clearTimeout(nr));var n=t-Qn;n>24?(t<1/0&&(nr=setTimeout(Iu,t-br.now()-ua)),Ze&&(Ze=clearInterval(Ze))):(Ze||(ki=br.now(),Ze=setInterval(Em,js)),Se=1,tl(Iu))}}function Lu(t,n,e){var r=new Di;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var km=Ss("start","end","cancel","interrupt"),Dm=[],el=0,Ru=1,To=2,bi=3,Fu=4,Ao=5,yi=6;function ca(t,n,e,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(e in o)return;Im(t,e,{name:n,index:r,group:i,on:km,tween:Dm,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:el})}function Af(t,n){var e=Gt(t,n);if(e.state>el)throw new Error("too late; already scheduled");return e}function an(t,n){var e=Gt(t,n);if(e.state>bi)throw new Error("too late; already running");return e}function Gt(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Im(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=nl(a,0,e.time);function a(c){e.state=Ru,e.timer.restart(o,e.delay,e.time),e.delay<=c&&o(c-e.delay)}function o(c){var s,d,l,h;if(e.state!==Ru)return u();for(s in r)if(h=r[s],h.name===e.name){if(h.state===bi)return Lu(o);h.state===Fu?(h.state=yi,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[s]):+s<n&&(h.state=yi,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[s])}if(Lu(function(){e.state===bi&&(e.state=Fu,e.timer.restart(f,e.delay,e.time),f(c))}),e.state=To,e.on.call("start",t,t.__data__,e.index,e.group),e.state===To){for(e.state=bi,i=new Array(l=e.tween.length),s=0,d=-1;s<l;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(i[++d]=h);i.length=d+1}}function f(c){for(var s=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(u),e.state=Ao,1),d=-1,l=i.length;++d<l;)i[d].call(t,s);e.state===Ao&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){e.state=yi,e.timer.stop(),delete r[n];for(var c in r)return;delete t.__transition}}function Lm(t,n){var e=t.__transition,r,i,a=!0,o;if(e){n=n==null?null:n+"";for(o in e){if((r=e[o]).name!==n){a=!1;continue}i=r.state>To&&r.state<Ao,r.state=yi,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[o]}a&&delete t.__transition}}function Rm(t){return this.each(function(){Lm(this,t)})}function Fm(t,n){var e,r;return function(){var i=an(this,t),a=i.tween;if(a!==e){r=e=a;for(var o=0,f=r.length;o<f;++o)if(r[o].name===n){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Pm(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var a=an(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var f={name:n,value:e},u=0,c=i.length;u<c;++u)if(i[u].name===n){i[u]=f;break}u===c&&i.push(f)}a.tween=i}}function Om(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=Gt(this.node(),e).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((n==null?Fm:Pm)(e,t,n))}function Cf(t,n,e){var r=t._id;return t.each(function(){var i=an(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return Gt(i,r).value[n]}}function rl(t,n){var e;return(typeof n=="number"?wt:n instanceof Zn?Kn:(e=Zn(n))?(n=e,Kn):Zs)(t,n)}function Um(t){return function(){this.removeAttribute(t)}}function qm(t){return function(){this.removeAttributeNS(t.space,t.local)}}function zm(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=n(r=o,e)}}function Ym(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=n(r=o,e)}}function Bm(t,n,e){var r,i,a;return function(){var o,f=e(this),u;return f==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=f+"",o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,f)))}}function Hm(t,n,e){var r,i,a;return function(){var o,f=e(this),u;return f==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=f+"",o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,f)))}}function Wm(t,n){var e=ea(t),r=e==="transform"?xm:rl;return this.attrTween(t,typeof n=="function"?(e.local?Hm:Bm)(e,r,Cf(this,"attr."+t,n)):n==null?(e.local?qm:Um)(e):(e.local?Ym:zm)(e,r,n))}function Vm(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Gm(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Xm(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&Gm(t,a)),e}return i._value=n,i}function Zm(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&Vm(t,a)),e}return i._value=n,i}function Km(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=ea(t);return this.tween(e,(r.local?Xm:Zm)(r,n))}function Qm(t,n){return function(){Af(this,t).delay=+n.apply(this,arguments)}}function Jm(t,n){return n=+n,function(){Af(this,t).delay=n}}function jm(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Qm:Jm)(n,t)):Gt(this.node(),n).delay}function tb(t,n){return function(){an(this,t).duration=+n.apply(this,arguments)}}function nb(t,n){return n=+n,function(){an(this,t).duration=n}}function eb(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?tb:nb)(n,t)):Gt(this.node(),n).duration}function rb(t,n){if(typeof n!="function")throw new Error;return function(){an(this,t).ease=n}}function ib(t){var n=this._id;return arguments.length?this.each(rb(n,t)):Gt(this.node(),n).ease}function ab(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;an(this,t).ease=e}}function ob(t){if(typeof t!="function")throw new Error;return this.each(ab(this._id,t))}function fb(t){typeof t!="function"&&(t=As(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,f=r[i]=[],u,c=0;c<o;++c)(u=a[c])&&t.call(u,u.__data__,c,a)&&f.push(u);return new xn(r,this._parents,this._name,this._id)}function ub(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),f=0;f<a;++f)for(var u=n[f],c=e[f],s=u.length,d=o[f]=new Array(s),l,h=0;h<s;++h)(l=u[h]||c[h])&&(d[h]=l);for(;f<r;++f)o[f]=n[f];return new xn(o,this._parents,this._name,this._id)}function cb(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function sb(t,n,e){var r,i,a=cb(n)?Af:an;return function(){var o=a(this,t),f=o.on;f!==r&&(i=(r=f).copy()).on(n,e),o.on=i}}function lb(t,n){var e=this._id;return arguments.length<2?Gt(this.node(),e).on.on(t):this.each(sb(e,t,n))}function db(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function hb(){return this.on("end.remove",db(this._id))}function pb(t){var n=this._name,e=this._id;typeof t!="function"&&(t=wf(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var f=r[o],u=f.length,c=a[o]=new Array(u),s,d,l=0;l<u;++l)(s=f[l])&&(d=t.call(s,s.__data__,l,f))&&("__data__"in s&&(d.__data__=s.__data__),c[l]=d,ca(c[l],n,e,l,c,Gt(s,e)));return new xn(a,this._parents,n,e)}function gb(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Ts(t));for(var r=this._groups,i=r.length,a=[],o=[],f=0;f<i;++f)for(var u=r[f],c=u.length,s,d=0;d<c;++d)if(s=u[d]){for(var l=t.call(s,s.__data__,d,u),h,p=Gt(s,e),g=0,b=l.length;g<b;++g)(h=l[g])&&ca(h,n,e,g,l,p);a.push(l),o.push(s)}return new xn(a,o,n,e)}var mb=Ar.prototype.constructor;function bb(){return new mb(this._groups,this._parents)}function yb(t,n){var e,r,i;return function(){var a=$e(this,t),o=(this.style.removeProperty(t),$e(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}function il(t){return function(){this.style.removeProperty(t)}}function wb(t,n,e){var r,i=e+"",a;return function(){var o=$e(this,t);return o===i?null:o===r?a:a=n(r=o,e)}}function vb(t,n,e){var r,i,a;return function(){var o=$e(this,t),f=e(this),u=f+"";return f==null&&(u=f=(this.style.removeProperty(t),$e(this,t))),o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,f))}}function xb(t,n){var e,r,i,a="style."+n,o="end."+a,f;return function(){var u=an(this,t),c=u.on,s=u.value[a]==null?f||(f=il(n)):void 0;(c!==e||i!==s)&&(r=(e=c).copy()).on(o,i=s),u.on=r}}function Mb(t,n,e){var r=(t+="")=="transform"?vm:rl;return n==null?this.styleTween(t,yb(t,r)).on("end.style."+t,il(t)):typeof n=="function"?this.styleTween(t,vb(t,r,Cf(this,"style."+t,n))).each(xb(this._id,t)):this.styleTween(t,wb(t,r,n),e).on("end.style."+t,null)}function $b(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function _b(t,n,e){var r,i;function a(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&$b(t,o,e)),r}return a._value=n,a}function Sb(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,_b(t,n,e??""))}function Tb(t){return function(){this.textContent=t}}function Ab(t){return function(){var n=t(this);this.textContent=n??""}}function Cb(t){return this.tween("text",typeof t=="function"?Ab(Cf(this,"text",t)):Tb(t==null?"":t+""))}function Eb(t){return function(n){this.textContent=t.call(this,n)}}function Nb(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&Eb(i)),n}return r._value=t,r}function kb(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Nb(t))}function Db(){for(var t=this._name,n=this._id,e=al(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],f=o.length,u,c=0;c<f;++c)if(u=o[c]){var s=Gt(u,n);ca(u,t,e,c,o,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new xn(r,this._parents,t,e)}function Ib(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(a,o){var f={value:o},u={value:function(){--i===0&&a()}};e.each(function(){var c=an(this,r),s=c.on;s!==t&&(n=(t=s).copy(),n._.cancel.push(f),n._.interrupt.push(f),n._.end.push(u)),c.on=n}),i===0&&a()})}var Lb=0;function xn(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function al(){return++Lb}var cn=Ar.prototype;xn.prototype={constructor:xn,select:pb,selectAll:gb,selectChild:cn.selectChild,selectChildren:cn.selectChildren,filter:fb,merge:ub,selection:bb,transition:Db,call:cn.call,nodes:cn.nodes,node:cn.node,size:cn.size,empty:cn.empty,each:cn.each,on:lb,attr:Wm,attrTween:Km,style:Mb,styleTween:Sb,text:Cb,textTween:kb,remove:hb,tween:Om,delay:jm,duration:eb,ease:ib,easeVarying:ob,end:Ib,[Symbol.iterator]:cn[Symbol.iterator]};function Rb(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Fb={time:null,delay:0,duration:250,ease:Rb};function Pb(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Ob(t){var n,e;t instanceof xn?(n=t._id,t=t._name):(n=al(),(e=Fb).time=Tf(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],f=o.length,u,c=0;c<f;++c)(u=o[c])&&ca(u,t,n,c,o,e||Pb(u,n));return new xn(r,this._parents,t,n)}Ar.prototype.interrupt=Rm;Ar.prototype.transition=Ob;const Co=Math.PI,Eo=2*Co,qn=1e-6,Ub=Eo-qn;function ol(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function qb(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return ol;const e=10**n;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class zb{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?ol:qb(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,a,o){this._append`C${+n},${+e},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(n,e,r,i,a){if(n=+n,e=+e,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,f=this._y1,u=r-n,c=i-e,s=o-n,d=f-e,l=s*s+d*d;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(l>qn)if(!(Math.abs(d*u-c*s)>qn)||!a)this._append`L${this._x1=n},${this._y1=e}`;else{let h=r-o,p=i-f,g=u*u+c*c,b=h*h+p*p,w=Math.sqrt(g),y=Math.sqrt(l),v=a*Math.tan((Co-Math.acos((g+l-b)/(2*w*y)))/2),m=v/y,M=v/w;Math.abs(m-1)>qn&&this._append`L${n+m*s},${e+m*d}`,this._append`A${a},${a},0,0,${+(d*h>s*p)},${this._x1=n+M*u},${this._y1=e+M*c}`}}arc(n,e,r,i,a,o){if(n=+n,e=+e,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),u=r*Math.sin(i),c=n+f,s=e+u,d=1^o,l=o?i-a:a-i;this._x1===null?this._append`M${c},${s}`:(Math.abs(this._x1-c)>qn||Math.abs(this._y1-s)>qn)&&this._append`L${c},${s}`,r&&(l<0&&(l=l%Eo+Eo),l>Ub?this._append`A${r},${r},0,1,${d},${n-f},${e-u}A${r},${r},0,1,${d},${this._x1=c},${this._y1=s}`:l>qn&&this._append`A${r},${r},0,${+(l>=Co)},${d},${this._x1=n+r*Math.cos(a)},${this._y1=e+r*Math.sin(a)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function No(t=3){return new zb(+t)}function Yb(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ii(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Te(t){return t=Ii(Math.abs(t)),t?t[1]:NaN}function Bb(t,n){return function(e,r){for(var i=e.length,a=[],o=0,f=t[0],u=0;i>0&&f>0&&(u+f+1>r&&(f=Math.max(1,r-u)),a.push(e.substring(i-=f,i+f)),!((u+=f+1)>r));)f=t[o=(o+1)%t.length];return a.reverse().join(n)}}function Hb(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var Wb=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yr(t){if(!(n=Wb.exec(t)))throw new Error("invalid format: "+t);var n;return new Ef({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}yr.prototype=Ef.prototype;function Ef(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ef.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vb(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var fl;function Gb(t,n){var e=Ii(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(fl=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ii(t,Math.max(0,n+a-1))[0]}function Pu(t,n){var e=Ii(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ou={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Yb,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Pu(t*100,n),r:Pu,s:Gb,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Uu(t){return t}var qu=Array.prototype.map,zu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Xb(t){var n=t.grouping===void 0||t.thousands===void 0?Uu:Bb(qu.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Uu:Hb(qu.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(d){d=yr(d);var l=d.fill,h=d.align,p=d.sign,g=d.symbol,b=d.zero,w=d.width,y=d.comma,v=d.precision,m=d.trim,M=d.type;M==="n"?(y=!0,M="g"):Ou[M]||(v===void 0&&(v=12),m=!0,M="g"),(b||l==="0"&&h==="=")&&(b=!0,l="0",h="=");var x=g==="$"?e:g==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",_=g==="$"?r:/[%p]/.test(M)?o:"",S=Ou[M],A=/[defgprs%]/.test(M);v=v===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function N($){var D=x,F=_,L,T,P;if(M==="c")F=S($)+F,$="";else{$=+$;var k=$<0||1/$<0;if($=isNaN($)?u:S(Math.abs($),v),m&&($=Vb($)),k&&+$==0&&p!=="+"&&(k=!1),D=(k?p==="("?p:f:p==="-"||p==="("?"":p)+D,F=(M==="s"?zu[8+fl/3]:"")+F+(k&&p==="("?")":""),A){for(L=-1,T=$.length;++L<T;)if(P=$.charCodeAt(L),48>P||P>57){F=(P===46?i+$.slice(L+1):$.slice(L))+F,$=$.slice(0,L);break}}}y&&!b&&($=n($,1/0));var B=D.length+$.length+F.length,W=B<w?new Array(w-B+1).join(l):"";switch(y&&b&&($=n(W+$,W.length?w-F.length:1/0),W=""),h){case"<":$=D+$+F+W;break;case"=":$=D+W+$+F;break;case"^":$=W.slice(0,B=W.length>>1)+D+$+F+W.slice(B);break;default:$=W+D+$+F;break}return a($)}return N.toString=function(){return d+""},N}function s(d,l){var h=c((d=yr(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(Te(l)/3)))*3,g=Math.pow(10,-p),b=zu[8+p/3];return function(w){return h(g*w)+b}}return{format:c,formatPrefix:s}}var Jr,qe,ul;Zb({thousands:",",grouping:[3],currency:["$",""]});function Zb(t){return Jr=Xb(t),qe=Jr.format,ul=Jr.formatPrefix,Jr}function Kb(t){return Math.max(0,-Te(Math.abs(t)))}function Qb(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Te(n)/3)))*3-Te(Math.abs(t)))}function Jb(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Te(n)-Te(t))+1}var Q=1e-6,cl=1e-12,tt=Math.PI,ct=tt/2,Yu=tt/4,Dt=tt*2,$t=180/tt,ut=tt/180,rt=Math.abs,ze=Math.atan,Mn=Math.atan2,j=Math.cos,sl=Math.exp,Li=Math.log,Pa=Math.pow,Z=Math.sin,Ft=Math.sign||function(t){return t>0?1:t<0?-1:0},At=Math.sqrt,Nf=Math.tan;function ll(t){return t>1?0:t<-1?tt:Math.acos(t)}function Ut(t){return t>1?ct:t<-1?-ct:Math.asin(t)}function Pt(){}function Ri(t,n){t&&Hu.hasOwnProperty(t.type)&&Hu[t.type](t,n)}var Bu={Feature:function(t,n){Ri(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Ri(e[r].geometry,n)}},Hu={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){ko(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)ko(e[r],n,0)},Polygon:function(t,n){Wu(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Wu(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Ri(e[r],n)}};function ko(t,n,e){var r=-1,i=t.length-e,a;for(n.lineStart();++r<i;)a=t[r],n.point(a[0],a[1],a[2]);n.lineEnd()}function Wu(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)ko(t[e],n,1);n.polygonEnd()}function zn(t,n){t&&Bu.hasOwnProperty(t.type)?Bu[t.type](t,n):Ri(t,n)}function Do(t){return[Mn(t[1],t[0]),Ut(t[2])]}function Ae(t){var n=t[0],e=t[1],r=j(e);return[r*j(n),r*Z(n),Z(e)]}function jr(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Fi(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Oa(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function ti(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Io(t){var n=At(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Lo(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function Ro(t,n){return rt(t)>tt&&(t-=Math.round(t/Dt)*Dt),[t,n]}Ro.invert=Ro;function dl(t,n,e){return(t%=Dt)?n||e?Lo(Gu(t),Xu(n,e)):Gu(t):n||e?Xu(n,e):Ro}function Vu(t){return function(n,e){return n+=t,rt(n)>tt&&(n-=Math.round(n/Dt)*Dt),[n,e]}}function Gu(t){var n=Vu(t);return n.invert=Vu(-t),n}function Xu(t,n){var e=j(t),r=Z(t),i=j(n),a=Z(n);function o(f,u){var c=j(u),s=j(f)*c,d=Z(f)*c,l=Z(u),h=l*e+s*r;return[Mn(d*i-h*a,s*e-l*r),Ut(h*i+d*a)]}return o.invert=function(f,u){var c=j(u),s=j(f)*c,d=Z(f)*c,l=Z(u),h=l*i-d*a;return[Mn(d*i+l*a,s*e+h*r),Ut(h*e-s*r)]},o}function jb(t){t=dl(t[0]*ut,t[1]*ut,t.length>2?t[2]*ut:0);function n(e){return e=t(e[0]*ut,e[1]*ut),e[0]*=$t,e[1]*=$t,e}return n.invert=function(e){return e=t.invert(e[0]*ut,e[1]*ut),e[0]*=$t,e[1]*=$t,e},n}function t2(t,n,e,r,i,a){if(e){var o=j(n),f=Z(n),u=r*e;i==null?(i=n+r*Dt,a=n-u/2):(i=Zu(o,i),a=Zu(o,a),(r>0?i<a:i>a)&&(i+=r*Dt));for(var c,s=i;r>0?s>a:s<a;s-=u)c=Do([o,-f*j(s),-f*Z(s)]),t.point(c[0],c[1])}}function Zu(t,n){n=Ae(n),n[0]-=t,Io(n);var e=ll(-n[1]);return((-n[2]<0?-e:e)+Dt-Q)%Dt}function hl(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:Pt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function wi(t,n){return rt(t[0]-n[0])<Q&&rt(t[1]-n[1])<Q}function ni(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function pl(t,n,e,r,i){var a=[],o=[],f,u;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,b=p[0],w=p[g],y;if(wi(b,w)){if(!b[2]&&!w[2]){for(i.lineStart(),f=0;f<g;++f)i.point((b=p[f])[0],b[1]);i.lineEnd();return}w[0]+=2*Q}a.push(y=new ni(b,p,null,!0)),o.push(y.o=new ni(b,null,y,!1)),a.push(y=new ni(w,p,null,!1)),o.push(y.o=new ni(w,null,y,!0))}}),!!a.length){for(o.sort(n),Ku(a),Ku(o),f=0,u=o.length;f<u;++f)o[f].e=e=!e;for(var c=a[0],s,d;;){for(var l=c,h=!0;l.v;)if((l=l.n)===c)return;s=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(f=0,u=s.length;f<u;++f)i.point((d=s[f])[0],d[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(h)for(s=l.p.z,f=s.length-1;f>=0;--f)i.point((d=s[f])[0],d[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,s=l.z,h=!h}while(!l.v);i.lineEnd()}}}function Ku(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Ua(t){return rt(t[0])<=tt?t[0]:Ft(t[0])*((rt(t[0])+tt)%Dt-tt)}function n2(t,n){var e=Ua(n),r=n[1],i=Z(r),a=[Z(e),-j(e),0],o=0,f=0,u=new Gn;i===1?r=ct+Q:i===-1&&(r=-ct-Q);for(var c=0,s=t.length;c<s;++c)if(l=(d=t[c]).length)for(var d,l,h=d[l-1],p=Ua(h),g=h[1]/2+Yu,b=Z(g),w=j(g),y=0;y<l;++y,p=m,b=x,w=_,h=v){var v=d[y],m=Ua(v),M=v[1]/2+Yu,x=Z(M),_=j(M),S=m-p,A=S>=0?1:-1,N=A*S,$=N>tt,D=b*x;if(u.add(Mn(D*A*Z(N),w*_+D*j(N))),o+=$?S+A*Dt:S,$^p>=e^m>=e){var F=Fi(Ae(h),Ae(v));Io(F);var L=Fi(a,F);Io(L);var T=($^S>=0?-1:1)*Ut(L[2]);(r>T||r===T&&(F[0]||F[1]))&&(f+=$^S>=0?1:-1)}}return(o<-Q||o<Q&&u<-cl)^f&1}function gl(t,n,e,r){return function(i){var a=n(i),o=hl(),f=n(o),u=!1,c,s,d,l={point:h,lineStart:g,lineEnd:b,polygonStart:function(){l.point=w,l.lineStart=y,l.lineEnd=v,s=[],c=[]},polygonEnd:function(){l.point=h,l.lineStart=g,l.lineEnd=b,s=$s(s);var m=n2(c,r);s.length?(u||(i.polygonStart(),u=!0),pl(s,r2,m,e,i)):m&&(u||(i.polygonStart(),u=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),s=c=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(m,M){t(m,M)&&i.point(m,M)}function p(m,M){a.point(m,M)}function g(){l.point=p,a.lineStart()}function b(){l.point=h,a.lineEnd()}function w(m,M){d.push([m,M]),f.point(m,M)}function y(){f.lineStart(),d=[]}function v(){w(d[0][0],d[0][1]),f.lineEnd();var m=f.clean(),M=o.result(),x,_=M.length,S,A,N;if(d.pop(),c.push(d),d=null,!!_){if(m&1){if(A=M[0],(S=A.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),x=0;x<S;++x)i.point((N=A[x])[0],N[1]);i.lineEnd()}return}_>1&&m&2&&M.push(M.pop().concat(M.shift())),s.push(M.filter(e2))}}return l}}function e2(t){return t.length>1}function r2(t,n){return((t=t.x)[0]<0?t[1]-ct-Q:ct-t[1])-((n=n.x)[0]<0?n[1]-ct-Q:ct-n[1])}const Qu=gl(function(){return!0},i2,o2,[-tt,-ct]);function i2(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var f=a>0?tt:-tt,u=rt(a-n);rt(u-tt)<Q?(t.point(n,e=(e+o)/2>0?ct:-ct),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),t.point(a,e),i=0):r!==f&&u>=tt&&(rt(n-r)<Q&&(n-=r*Q),rt(a-f)<Q&&(a-=f*Q),e=a2(n,e,a,o),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),i=0),t.point(n=a,e=o),r=f},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function a2(t,n,e,r){var i,a,o=Z(t-e);return rt(o)>Q?ze((Z(n)*(a=j(r))*Z(e)-Z(r)*(i=j(n))*Z(t))/(i*a*o)):(n+r)/2}function o2(t,n,e,r){var i;if(t==null)i=e*ct,r.point(-tt,i),r.point(0,i),r.point(tt,i),r.point(tt,0),r.point(tt,-i),r.point(0,-i),r.point(-tt,-i),r.point(-tt,0),r.point(-tt,i);else if(rt(t[0]-n[0])>Q){var a=t[0]<n[0]?tt:-tt;i=e*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(n[0],n[1])}function f2(t){var n=j(t),e=2*ut,r=n>0,i=rt(n)>Q;function a(s,d,l,h){t2(h,t,e,l,s,d)}function o(s,d){return j(s)*j(d)>n}function f(s){var d,l,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(b,w){var y=[b,w],v,m=o(b,w),M=r?m?0:c(b,w):m?c(b+(b<0?tt:-tt),w):0;if(!d&&(p=h=m)&&s.lineStart(),m!==h&&(v=u(d,y),(!v||wi(d,v)||wi(y,v))&&(y[2]=1)),m!==h)g=0,m?(s.lineStart(),v=u(y,d),s.point(v[0],v[1])):(v=u(d,y),s.point(v[0],v[1],2),s.lineEnd()),d=v;else if(i&&d&&r^m){var x;!(M&l)&&(x=u(y,d,!0))&&(g=0,r?(s.lineStart(),s.point(x[0][0],x[0][1]),s.point(x[1][0],x[1][1]),s.lineEnd()):(s.point(x[1][0],x[1][1]),s.lineEnd(),s.lineStart(),s.point(x[0][0],x[0][1],3)))}m&&(!d||!wi(d,y))&&s.point(y[0],y[1]),d=y,h=m,l=M},lineEnd:function(){h&&s.lineEnd(),d=null},clean:function(){return g|(p&&h)<<1}}}function u(s,d,l){var h=Ae(s),p=Ae(d),g=[1,0,0],b=Fi(h,p),w=jr(b,b),y=b[0],v=w-y*y;if(!v)return!l&&s;var m=n*w/v,M=-n*y/v,x=Fi(g,b),_=ti(g,m),S=ti(b,M);Oa(_,S);var A=x,N=jr(_,A),$=jr(A,A),D=N*N-$*(jr(_,_)-1);if(!(D<0)){var F=At(D),L=ti(A,(-N-F)/$);if(Oa(L,_),L=Do(L),!l)return L;var T=s[0],P=d[0],k=s[1],B=d[1],W;P<T&&(W=T,T=P,P=W);var I=P-T,O=rt(I-tt)<Q,z=O||I<Q;if(!O&&B<k&&(W=k,k=B,B=W),z?O?k+B>0^L[1]<(rt(L[0]-T)<Q?k:B):k<=L[1]&&L[1]<=B:I>tt^(T<=L[0]&&L[0]<=P)){var R=ti(A,(-N+F)/$);return Oa(R,_),[L,Do(R)]}}}function c(s,d){var l=r?t:tt-t,h=0;return s<-l?h|=1:s>l&&(h|=2),d<-l?h|=4:d>l&&(h|=8),h}return gl(o,f,a,r?[0,-t]:[-tt,t-tt])}function u2(t,n,e,r,i,a){var o=t[0],f=t[1],u=n[0],c=n[1],s=0,d=1,l=u-o,h=c-f,p;if(p=e-o,!(!l&&p>0)){if(p/=l,l<0){if(p<s)return;p<d&&(d=p)}else if(l>0){if(p>d)return;p>s&&(s=p)}if(p=i-o,!(!l&&p<0)){if(p/=l,l<0){if(p>d)return;p>s&&(s=p)}else if(l>0){if(p<s)return;p<d&&(d=p)}if(p=r-f,!(!h&&p>0)){if(p/=h,h<0){if(p<s)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>s&&(s=p)}if(p=a-f,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>s&&(s=p)}else if(h>0){if(p<s)return;p<d&&(d=p)}return s>0&&(t[0]=o+s*l,t[1]=f+s*h),d<1&&(n[0]=o+d*l,n[1]=f+d*h),!0}}}}}var rr=1e9,ei=-rr;function ml(t,n,e,r){function i(c,s){return t<=c&&c<=e&&n<=s&&s<=r}function a(c,s,d,l){var h=0,p=0;if(c==null||(h=o(c,d))!==(p=o(s,d))||u(c,s)<0^d>0)do l.point(h===0||h===3?t:e,h>1?r:n);while((h=(h+d+4)%4)!==p);else l.point(s[0],s[1])}function o(c,s){return rt(c[0]-t)<Q?s>0?0:3:rt(c[0]-e)<Q?s>0?2:1:rt(c[1]-n)<Q?s>0?1:0:s>0?3:2}function f(c,s){return u(c.x,s.x)}function u(c,s){var d=o(c,1),l=o(s,1);return d!==l?d-l:d===0?s[1]-c[1]:d===1?c[0]-s[0]:d===2?c[1]-s[1]:s[0]-c[0]}return function(c){var s=c,d=hl(),l,h,p,g,b,w,y,v,m,M,x,_={point:S,lineStart:D,lineEnd:F,polygonStart:N,polygonEnd:$};function S(T,P){i(T,P)&&s.point(T,P)}function A(){for(var T=0,P=0,k=h.length;P<k;++P)for(var B=h[P],W=1,I=B.length,O=B[0],z,R,X=O[0],nt=O[1];W<I;++W)z=X,R=nt,O=B[W],X=O[0],nt=O[1],R<=r?nt>r&&(X-z)*(r-R)>(nt-R)*(t-z)&&++T:nt<=r&&(X-z)*(r-R)<(nt-R)*(t-z)&&--T;return T}function N(){s=d,l=[],h=[],x=!0}function $(){var T=A(),P=x&&T,k=(l=$s(l)).length;(P||k)&&(c.polygonStart(),P&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),k&&pl(l,f,T,a,c),c.polygonEnd()),s=c,l=h=p=null}function D(){_.point=L,h&&h.push(p=[]),M=!0,m=!1,y=v=NaN}function F(){l&&(L(g,b),w&&m&&d.rejoin(),l.push(d.result())),_.point=S,m&&s.lineEnd()}function L(T,P){var k=i(T,P);if(h&&p.push([T,P]),M)g=T,b=P,w=k,M=!1,k&&(s.lineStart(),s.point(T,P));else if(k&&m)s.point(T,P);else{var B=[y=Math.max(ei,Math.min(rr,y)),v=Math.max(ei,Math.min(rr,v))],W=[T=Math.max(ei,Math.min(rr,T)),P=Math.max(ei,Math.min(rr,P))];u2(B,W,t,n,e,r)?(m||(s.lineStart(),s.point(B[0],B[1])),s.point(W[0],W[1]),k||s.lineEnd(),x=!1):k&&(s.lineStart(),s.point(T,P),x=!1)}y=T,v=P,m=k}return _}}const Fo=t=>t;var qa=new Gn,Po=new Gn,bl,yl,Oo,Uo,gn={point:Pt,lineStart:Pt,lineEnd:Pt,polygonStart:function(){gn.lineStart=c2,gn.lineEnd=l2},polygonEnd:function(){gn.lineStart=gn.lineEnd=gn.point=Pt,qa.add(rt(Po)),Po=new Gn},result:function(){var t=qa/2;return qa=new Gn,t}};function c2(){gn.point=s2}function s2(t,n){gn.point=wl,bl=Oo=t,yl=Uo=n}function wl(t,n){Po.add(Uo*t-Oo*n),Oo=t,Uo=n}function l2(){wl(bl,yl)}var Ce=1/0,Pi=Ce,wr=-Ce,Oi=wr,Ui={point:d2,lineStart:Pt,lineEnd:Pt,polygonStart:Pt,polygonEnd:Pt,result:function(){var t=[[Ce,Pi],[wr,Oi]];return wr=Oi=-(Pi=Ce=1/0),t}};function d2(t,n){t<Ce&&(Ce=t),t>wr&&(wr=t),n<Pi&&(Pi=n),n>Oi&&(Oi=n)}var qo=0,zo=0,ir=0,qi=0,zi=0,me=0,Yo=0,Bo=0,ar=0,vl,xl,Kt,Qt,Rt={point:Jn,lineStart:Ju,lineEnd:ju,polygonStart:function(){Rt.lineStart=g2,Rt.lineEnd=m2},polygonEnd:function(){Rt.point=Jn,Rt.lineStart=Ju,Rt.lineEnd=ju},result:function(){var t=ar?[Yo/ar,Bo/ar]:me?[qi/me,zi/me]:ir?[qo/ir,zo/ir]:[NaN,NaN];return qo=zo=ir=qi=zi=me=Yo=Bo=ar=0,t}};function Jn(t,n){qo+=t,zo+=n,++ir}function Ju(){Rt.point=h2}function h2(t,n){Rt.point=p2,Jn(Kt=t,Qt=n)}function p2(t,n){var e=t-Kt,r=n-Qt,i=At(e*e+r*r);qi+=i*(Kt+t)/2,zi+=i*(Qt+n)/2,me+=i,Jn(Kt=t,Qt=n)}function ju(){Rt.point=Jn}function g2(){Rt.point=b2}function m2(){Ml(vl,xl)}function b2(t,n){Rt.point=Ml,Jn(vl=Kt=t,xl=Qt=n)}function Ml(t,n){var e=t-Kt,r=n-Qt,i=At(e*e+r*r);qi+=i*(Kt+t)/2,zi+=i*(Qt+n)/2,me+=i,i=Qt*t-Kt*n,Yo+=i*(Kt+t),Bo+=i*(Qt+n),ar+=i*3,Jn(Kt=t,Qt=n)}function $l(t){this._context=t}$l.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Dt);break}}},result:Pt};var Ho=new Gn,za,_l,Sl,or,fr,vr={point:Pt,lineStart:function(){vr.point=y2},lineEnd:function(){za&&Tl(_l,Sl),vr.point=Pt},polygonStart:function(){za=!0},polygonEnd:function(){za=null},result:function(){var t=+Ho;return Ho=new Gn,t}};function y2(t,n){vr.point=Tl,_l=or=t,Sl=fr=n}function Tl(t,n){or-=t,fr-=n,Ho.add(At(or*or+fr*fr)),or=t,fr=n}let tc,Yi,nc,ec;class rc{constructor(n){this._append=n==null?Al:w2(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==nc||this._append!==Yi){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,nc=r,Yi=this._append,ec=this._,this._=i}this._+=ec;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Al(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function w2(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Al;if(n!==tc){const e=10**n;tc=n,Yi=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*e)/e+i[a]}}return Yi}function kf(t,n){let e=3,r=4.5,i,a;function o(f){return f&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),zn(f,i(a))),a.result()}return o.area=function(f){return zn(f,i(gn)),gn.result()},o.measure=function(f){return zn(f,i(vr)),vr.result()},o.bounds=function(f){return zn(f,i(Ui)),Ui.result()},o.centroid=function(f){return zn(f,i(Rt)),Rt.result()},o.projection=function(f){return arguments.length?(i=f==null?(t=null,Fo):(t=f).stream,o):t},o.context=function(f){return arguments.length?(a=f==null?(n=null,new rc(e)):new $l(n=f),typeof r!="function"&&a.pointRadius(r),o):n},o.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(a.pointRadius(+f),+f),o):r},o.digits=function(f){if(!arguments.length)return e;if(f==null)e=null;else{const u=Math.floor(f);if(!(u>=0))throw new RangeError(`invalid digits: ${f}`);e=u}return n===null&&(a=new rc(e)),o},o.projection(t).digits(e).context(n)}function Bi(t){return{stream:sa(t)}}function sa(t){return function(n){var e=new Wo;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Wo(){}Wo.prototype={constructor:Wo,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Df(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),zn(e,t.stream(Ui)),n(Ui.result()),r!=null&&t.clipExtent(r),t}function If(t,n,e){return Df(t,function(r){var i=n[1][0]-n[0][0],a=n[1][1]-n[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),f=+n[0][0]+(i-o*(r[1][0]+r[0][0]))/2,u=+n[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([f,u])},e)}function Cl(t,n,e){return If(t,[[0,0],n],e)}function El(t,n,e){return Df(t,function(r){var i=+n,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,f=-a*r[0][1];t.scale(150*a).translate([o,f])},e)}function Nl(t,n,e){return Df(t,function(r){var i=+n,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],f=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,f])},e)}var ic=16,v2=j(30*ut);function ac(t,n){return+n?M2(t,n):x2(t)}function x2(t){return sa({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function M2(t,n){function e(r,i,a,o,f,u,c,s,d,l,h,p,g,b){var w=c-r,y=s-i,v=w*w+y*y;if(v>4*n&&g--){var m=o+l,M=f+h,x=u+p,_=At(m*m+M*M+x*x),S=Ut(x/=_),A=rt(rt(x)-1)<Q||rt(a-d)<Q?(a+d)/2:Mn(M,m),N=t(A,S),$=N[0],D=N[1],F=$-r,L=D-i,T=y*F-w*L;(T*T/v>n||rt((w*F+y*L)/v-.5)>.3||o*l+f*h+u*p<v2)&&(e(r,i,a,o,f,u,$,D,A,m/=_,M/=_,x,g,b),b.point($,D),e($,D,A,m,M,x,c,s,d,l,h,p,g,b))}}return function(r){var i,a,o,f,u,c,s,d,l,h,p,g,b={point:w,lineStart:y,lineEnd:m,polygonStart:function(){r.polygonStart(),b.lineStart=M},polygonEnd:function(){r.polygonEnd(),b.lineStart=y}};function w(S,A){S=t(S,A),r.point(S[0],S[1])}function y(){d=NaN,b.point=v,r.lineStart()}function v(S,A){var N=Ae([S,A]),$=t(S,A);e(d,l,s,h,p,g,d=$[0],l=$[1],s=S,h=N[0],p=N[1],g=N[2],ic,r),r.point(d,l)}function m(){b.point=w,r.lineEnd()}function M(){y(),b.point=x,b.lineEnd=_}function x(S,A){v(i=S,A),a=d,o=l,f=h,u=p,c=g,b.point=v}function _(){e(d,l,s,h,p,g,a,o,i,f,u,c,ic,r),b.lineEnd=m,m()}return b}}var $2=sa({point:function(t,n){this.stream.point(t*ut,n*ut)}});function _2(t){return sa({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function S2(t,n,e,r,i){function a(o,f){return o*=r,f*=i,[n+t*o,e-t*f]}return a.invert=function(o,f){return[(o-n)/t*r,(e-f)/t*i]},a}function oc(t,n,e,r,i,a){if(!a)return S2(t,n,e,r,i);var o=j(a),f=Z(a),u=o*t,c=f*t,s=o/t,d=f/t,l=(f*e-o*n)/t,h=(f*n+o*e)/t;function p(g,b){return g*=r,b*=i,[u*g-c*b+n,e-c*g-u*b]}return p.invert=function(g,b){return[r*(s*g-d*b+l),i*(h-d*g-s*b)]},p}function Fn(t){return kl(function(){return t})()}function kl(t){var n,e=150,r=480,i=250,a=0,o=0,f=0,u=0,c=0,s,d=0,l=1,h=1,p=null,g=Qu,b=null,w,y,v,m=Fo,M=.5,x,_,S,A,N;function $(T){return S(T[0]*ut,T[1]*ut)}function D(T){return T=S.invert(T[0],T[1]),T&&[T[0]*$t,T[1]*$t]}$.stream=function(T){return A&&N===T?A:A=$2(_2(s)(g(x(m(N=T)))))},$.preclip=function(T){return arguments.length?(g=T,p=void 0,L()):g},$.postclip=function(T){return arguments.length?(m=T,b=w=y=v=null,L()):m},$.clipAngle=function(T){return arguments.length?(g=+T?f2(p=T*ut):(p=null,Qu),L()):p*$t},$.clipExtent=function(T){return arguments.length?(m=T==null?(b=w=y=v=null,Fo):ml(b=+T[0][0],w=+T[0][1],y=+T[1][0],v=+T[1][1]),L()):b==null?null:[[b,w],[y,v]]},$.scale=function(T){return arguments.length?(e=+T,F()):e},$.translate=function(T){return arguments.length?(r=+T[0],i=+T[1],F()):[r,i]},$.center=function(T){return arguments.length?(a=T[0]%360*ut,o=T[1]%360*ut,F()):[a*$t,o*$t]},$.rotate=function(T){return arguments.length?(f=T[0]%360*ut,u=T[1]%360*ut,c=T.length>2?T[2]%360*ut:0,F()):[f*$t,u*$t,c*$t]},$.angle=function(T){return arguments.length?(d=T%360*ut,F()):d*$t},$.reflectX=function(T){return arguments.length?(l=T?-1:1,F()):l<0},$.reflectY=function(T){return arguments.length?(h=T?-1:1,F()):h<0},$.precision=function(T){return arguments.length?(x=ac(_,M=T*T),L()):At(M)},$.fitExtent=function(T,P){return If($,T,P)},$.fitSize=function(T,P){return Cl($,T,P)},$.fitWidth=function(T,P){return El($,T,P)},$.fitHeight=function(T,P){return Nl($,T,P)};function F(){var T=oc(e,0,0,l,h,d).apply(null,n(a,o)),P=oc(e,r-T[0],i-T[1],l,h,d);return s=dl(f,u,c),_=Lo(n,P),S=Lo(s,_),x=ac(_,M),L()}function L(){return A=N=null,$}return function(){return n=t.apply(this,arguments),$.invert=n.invert&&D,F()}}function Lf(t){var n=0,e=tt/3,r=kl(t),i=r(n,e);return i.parallels=function(a){return arguments.length?r(n=a[0]*ut,e=a[1]*ut):[n*$t,e*$t]},i}function T2(t){var n=j(t);function e(r,i){return[r*n,Z(i)/n]}return e.invert=function(r,i){return[r/n,Ut(i*n)]},e}function A2(t,n){var e=Z(t),r=(e+Z(n))/2;if(rt(r)<Q)return T2(t);var i=1+e*(2*r-e),a=At(i)/r;function o(f,u){var c=At(i-2*r*Z(u))/r;return[c*Z(f*=r),a-c*j(f)]}return o.invert=function(f,u){var c=a-u,s=Mn(f,rt(c))*Ft(c);return c*r<0&&(s-=tt*Ft(f)*Ft(c)),[s/r,Ut((i-(f*f+c*c)*r*r)/(2*r))]},o}function Hi(){return Lf(A2).scale(155.424).center([0,33.6442])}function Dl(){return Hi().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function C2(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function E2(){var t,n,e=Dl(),r,i=Hi().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=Hi().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,u,c={point:function(l,h){u=[l,h]}};function s(l){var h=l[0],p=l[1];return u=null,r.point(h,p),u||(a.point(h,p),u)||(f.point(h,p),u)}s.invert=function(l){var h=e.scale(),p=e.translate(),g=(l[0]-p[0])/h,b=(l[1]-p[1])/h;return(b>=.12&&b<.234&&g>=-.425&&g<-.214?i:b>=.166&&b<.234&&g>=-.214&&g<-.115?o:e).invert(l)},s.stream=function(l){return t&&n===l?t:t=C2([e.stream(n=l),i.stream(l),o.stream(l)])},s.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),o.precision(l),d()):e.precision()},s.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*.35),o.scale(l),s.translate(e.translate())):e.scale()},s.translate=function(l){if(!arguments.length)return e.translate();var h=e.scale(),p=+l[0],g=+l[1];return r=e.translate(l).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(c),a=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+Q,g+.12*h+Q],[p-.214*h-Q,g+.234*h-Q]]).stream(c),f=o.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+Q,g+.166*h+Q],[p-.115*h-Q,g+.234*h-Q]]).stream(c),d()},s.fitExtent=function(l,h){return If(s,l,h)},s.fitSize=function(l,h){return Cl(s,l,h)},s.fitWidth=function(l,h){return El(s,l,h)},s.fitHeight=function(l,h){return Nl(s,l,h)};function d(){return t=n=null,s}return s.scale(1070)}function Il(t){return function(n,e){var r=j(n),i=j(e),a=t(r*i);return a===1/0?[2,0]:[a*i*Z(n),a*Z(e)]}}function Er(t){return function(n,e){var r=At(n*n+e*e),i=t(r),a=Z(i),o=j(i);return[Mn(n*a,r*o),Ut(r&&e*a/r)]}}var Ll=Il(function(t){return At(2/(1+t))});Ll.invert=Er(function(t){return 2*Ut(t/2)});function N2(){return Fn(Ll).scale(124.75).clipAngle(180-.001)}var Rl=Il(function(t){return(t=ll(t))&&t/Z(t)});Rl.invert=Er(function(t){return t});function k2(){return Fn(Rl).scale(79.4188).clipAngle(180-.001)}function la(t,n){return[t,Li(Nf((ct+n)/2))]}la.invert=function(t,n){return[t,2*ze(sl(n))-ct]};function D2(){return Fl(la).scale(961/Dt)}function Fl(t){var n=Fn(t),e=n.center,r=n.scale,i=n.translate,a=n.clipExtent,o=null,f,u,c;n.scale=function(d){return arguments.length?(r(d),s()):r()},n.translate=function(d){return arguments.length?(i(d),s()):i()},n.center=function(d){return arguments.length?(e(d),s()):e()},n.clipExtent=function(d){return arguments.length?(d==null?o=f=u=c=null:(o=+d[0][0],f=+d[0][1],u=+d[1][0],c=+d[1][1]),s()):o==null?null:[[o,f],[u,c]]};function s(){var d=tt*r(),l=n(jb(n.rotate()).invert([0,0]));return a(o==null?[[l[0]-d,l[1]-d],[l[0]+d,l[1]+d]]:t===la?[[Math.max(l[0]-d,o),f],[Math.min(l[0]+d,u),c]]:[[o,Math.max(l[1]-d,f)],[u,Math.min(l[1]+d,c)]])}return s()}function ri(t){return Nf((ct+t)/2)}function I2(t,n){var e=j(t),r=t===n?Z(t):Li(e/j(n))/Li(ri(n)/ri(t)),i=e*Pa(ri(t),r)/r;if(!r)return la;function a(o,f){i>0?f<-ct+Q&&(f=-ct+Q):f>ct-Q&&(f=ct-Q);var u=i/Pa(ri(f),r);return[u*Z(r*o),i-u*j(r*o)]}return a.invert=function(o,f){var u=i-f,c=Ft(r)*At(o*o+u*u),s=Mn(o,rt(u))*Ft(u);return u*r<0&&(s-=tt*Ft(o)*Ft(u)),[s/r,2*ze(Pa(i/c,1/r))-ct]},a}function L2(){return Lf(I2).scale(109.5).parallels([30,30])}function Wi(t,n){return[t,n]}Wi.invert=Wi;function R2(){return Fn(Wi).scale(152.63)}function F2(t,n){var e=j(t),r=t===n?Z(t):(e-j(n))/(n-t),i=e/r+t;if(rt(r)<Q)return Wi;function a(o,f){var u=i-f,c=r*o;return[u*Z(c),i-u*j(c)]}return a.invert=function(o,f){var u=i-f,c=Mn(o,rt(u))*Ft(u);return u*r<0&&(c-=tt*Ft(o)*Ft(u)),[c/r,i-Ft(r)*At(o*o+u*u)]},a}function P2(){return Lf(F2).scale(131.154).center([0,13.9389])}var cr=1.340264,sr=-.081106,lr=893e-6,dr=.003796,Vi=At(3)/2,O2=12;function Pl(t,n){var e=Ut(Vi*Z(n)),r=e*e,i=r*r*r;return[t*j(e)/(Vi*(cr+3*sr*r+i*(7*lr+9*dr*r))),e*(cr+sr*r+i*(lr+dr*r))]}Pl.invert=function(t,n){for(var e=n,r=e*e,i=r*r*r,a=0,o,f,u;a<O2&&(f=e*(cr+sr*r+i*(lr+dr*r))-n,u=cr+3*sr*r+i*(7*lr+9*dr*r),e-=o=f/u,r=e*e,i=r*r*r,!(rt(o)<cl));++a);return[Vi*t*(cr+3*sr*r+i*(7*lr+9*dr*r))/j(e),Ut(Z(e)/Vi)]};function U2(){return Fn(Pl).scale(177.158)}function Ol(t,n){var e=j(n),r=j(t)*e;return[e*Z(t)/r,Z(n)/r]}Ol.invert=Er(ze);function q2(){return Fn(Ol).scale(144.049).clipAngle(60)}function Ul(t,n){return[j(n)*Z(t),Z(n)]}Ul.invert=Er(Ut);function z2(){return Fn(Ul).scale(249.5).clipAngle(90+Q)}function ql(t,n){var e=j(n),r=1+j(t)*e;return[e*Z(t)/r,Z(n)/r]}ql.invert=Er(function(t){return 2*ze(t)});function Y2(){return Fn(ql).scale(250).clipAngle(142)}function zl(t,n){return[Li(Nf((ct+n)/2)),-t]}zl.invert=function(t,n){return[-n,2*ze(sl(t))-ct]};function B2(){var t=Fl(zl),n=t.center,e=t.rotate;return t.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}function on(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function Nr(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const Vo=Symbol("implicit");function Rf(){var t=new hr,n=[],e=[],r=Vo;function i(a){let o=t.get(a);if(o===void 0){if(r!==Vo)return r;t.set(a,o=n.push(a)-1)}return e[o%e.length]}return i.domain=function(a){if(!arguments.length)return n.slice();n=[],t=new hr;for(const o of a)t.has(o)||t.set(o,n.push(o)-1);return i},i.range=function(a){return arguments.length?(e=Array.from(a),i):e.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Rf(n,e).unknown(r)},on.apply(i,arguments),i}function da(){var t=Rf().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,a,o,f=!1,u=0,c=0,s=.5;delete t.unknown;function d(){var l=n().length,h=i<r,p=h?i:r,g=h?r:i;a=(g-p)/Math.max(1,l-u+c*2),f&&(a=Math.floor(a)),p+=(g-p-a*(l-u))*s,o=a*(1-u),f&&(p=Math.round(p),o=Math.round(o));var b=bo(l).map(function(w){return p+a*w});return e(h?b.reverse():b)}return t.domain=function(l){return arguments.length?(n(l),d()):n()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,f=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(l){return arguments.length?(f=!!l,d()):f},t.padding=function(l){return arguments.length?(u=Math.min(1,c=+l),d()):u},t.paddingInner=function(l){return arguments.length?(u=Math.min(1,l),d()):u},t.paddingOuter=function(l){return arguments.length?(c=+l,d()):c},t.align=function(l){return arguments.length?(s=Math.max(0,Math.min(1,l)),d()):s},t.copy=function(){return da(n(),[r,i]).round(f).paddingInner(u).paddingOuter(c).align(s)},on.apply(d(),arguments)}function Yl(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Yl(n())},t}function H2(){return Yl(da.apply(null,arguments).paddingInner(1))}function W2(t){return function(){return t}}function Go(t){return+t}var fc=[0,1];function Tt(t){return t}function Xo(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:W2(isNaN(n)?NaN:.5)}function V2(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function G2(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=Xo(i,r),a=e(o,a)):(r=Xo(r,i),a=e(a,o)),function(f){return a(r(f))}}function X2(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=Xo(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(f){var u=bf(t,f,1,r)-1;return a[u](i[u](f))}}function kr(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ha(){var t=fc,n=fc,e=Ue,r,i,a,o=Tt,f,u,c;function s(){var l=Math.min(t.length,n.length);return o!==Tt&&(o=V2(t[0],t[l-1])),f=l>2?X2:G2,u=c=null,d}function d(l){return l==null||isNaN(l=+l)?a:(u||(u=f(t.map(r),n,e)))(r(o(l)))}return d.invert=function(l){return o(i((c||(c=f(n,t.map(r),wt)))(l)))},d.domain=function(l){return arguments.length?(t=Array.from(l,Go),s()):t.slice()},d.range=function(l){return arguments.length?(n=Array.from(l),s()):n.slice()},d.rangeRound=function(l){return n=Array.from(l),e=oa,s()},d.clamp=function(l){return arguments.length?(o=l?!0:Tt,s()):o!==Tt},d.interpolate=function(l){return arguments.length?(e=l,s()):e},d.unknown=function(l){return arguments.length?(a=l,d):a},function(l,h){return r=l,i=h,s()}}function Bl(){return ha()(Tt,Tt)}function Z2(t,n,e,r){var i=go(t,n,e),a;switch(r=yr(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(a=Qb(i,o))&&(r.precision=a),ul(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Jb(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Kb(i))&&(r.precision=a-(r.type==="%")*2);break}}return qe(r)}function Ye(t){var n=t.domain;return t.ticks=function(e){var r=n();return _i(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return Z2(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,a=r.length-1,o=r[i],f=r[a],u,c,s=10;for(f<o&&(c=o,o=f,f=c,c=i,i=a,a=c);s-- >0;){if(c=po(o,f,e),c===u)return r[i]=o,r[a]=f,n(r);if(c>0)o=Math.floor(o/c)*c,f=Math.ceil(f/c)*c;else if(c<0)o=Math.ceil(o*c)/c,f=Math.floor(f*c)/c;else break;u=c}return t},t}function Ff(){var t=Bl();return t.copy=function(){return kr(t,Ff())},on.apply(t,arguments),Ye(t)}function Hl(t){var n;function e(r){return r==null||isNaN(r=+r)?n:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=Array.from(r,Go),e):t.slice()},e.unknown=function(r){return arguments.length?(n=r,e):n},e.copy=function(){return Hl(t).unknown(n)},t=arguments.length?Array.from(t,Go):[0,1],Ye(e)}function Wl(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],a=t[r],o;return a<i&&(o=e,e=r,r=o,o=i,i=a,a=o),t[e]=n.floor(i),t[r]=n.ceil(a),t}function uc(t){return Math.log(t)}function cc(t){return Math.exp(t)}function K2(t){return-Math.log(-t)}function Q2(t){return-Math.exp(-t)}function J2(t){return isFinite(t)?+("1e"+t):t<0?0:t}function j2(t){return t===10?J2:t===Math.E?Math.exp:n=>Math.pow(t,n)}function ty(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function sc(t){return(n,e)=>-t(-n,e)}function Vl(t){const n=t(uc,cc),e=n.domain;let r=10,i,a;function o(){return i=ty(r),a=j2(r),e()[0]<0?(i=sc(i),a=sc(a),t(K2,Q2)):t(uc,cc),n}return n.base=function(f){return arguments.length?(r=+f,o()):r},n.domain=function(f){return arguments.length?(e(f),o()):e()},n.ticks=f=>{const u=e();let c=u[0],s=u[u.length-1];const d=s<c;d&&([c,s]=[s,c]);let l=i(c),h=i(s),p,g;const b=f==null?10:+f;let w=[];if(!(r%1)&&h-l<b){if(l=Math.floor(l),h=Math.ceil(h),c>0){for(;l<=h;++l)for(p=1;p<r;++p)if(g=l<0?p/a(-l):p*a(l),!(g<c)){if(g>s)break;w.push(g)}}else for(;l<=h;++l)for(p=r-1;p>=1;--p)if(g=l>0?p/a(-l):p*a(l),!(g<c)){if(g>s)break;w.push(g)}w.length*2<b&&(w=_i(c,s,b))}else w=_i(l,h,Math.min(h-l,b)).map(a);return d?w.reverse():w},n.tickFormat=(f,u)=>{if(f==null&&(f=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=yr(u)).precision==null&&(u.trim=!0),u=qe(u)),f===1/0)return u;const c=Math.max(1,r*f/n.ticks().length);return s=>{let d=s/a(Math.round(i(s)));return d*r<r-.5&&(d*=r),d<=c?u(s):""}},n.nice=()=>e(Wl(e(),{floor:f=>a(Math.floor(i(f))),ceil:f=>a(Math.ceil(i(f)))})),n}function Gl(){const t=Vl(ha()).domain([1,10]);return t.copy=()=>kr(t,Gl()).base(t.base()),on.apply(t,arguments),t}function lc(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function dc(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function Xl(t){var n=1,e=t(lc(n),dc(n));return e.constant=function(r){return arguments.length?t(lc(n=+r),dc(n)):n},Ye(e)}function Zl(){var t=Xl(ha());return t.copy=function(){return kr(t,Zl()).constant(t.constant())},on.apply(t,arguments)}function hc(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function ny(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ey(t){return t<0?-t*t:t*t}function Kl(t){var n=t(Tt,Tt),e=1;function r(){return e===1?t(Tt,Tt):e===.5?t(ny,ey):t(hc(e),hc(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},Ye(n)}function Ql(){var t=Kl(ha());return t.copy=function(){return kr(t,Ql()).exponent(t.exponent())},on.apply(t,arguments),t}function Jl(){var t=[],n=[],e=[],r;function i(){var o=0,f=Math.max(1,n.length);for(e=new Array(f-1);++o<f;)e[o-1]=K1(t,o/f);return a}function a(o){return o==null||isNaN(o=+o)?r:n[bf(e,o)]}return a.invertExtent=function(o){var f=n.indexOf(o);return f<0?[NaN,NaN]:[f>0?e[f-1]:t[0],f<e.length?e[f]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let f of o)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(En),i()},a.range=function(o){return arguments.length?(n=Array.from(o),i()):n.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return e.slice()},a.copy=function(){return Jl().domain(t).range(n).unknown(r)},on.apply(a,arguments)}function jl(){var t=[.5],n=[0,1],e,r=1;function i(a){return a!=null&&a<=a?n[bf(t,a,0,r)]:e}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(a){return arguments.length?(n=Array.from(a),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(a){var o=n.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(e=a,i):e},i.copy=function(){return jl().domain(t).range(n).unknown(e)},on.apply(i,arguments)}const Ya=new Date,Ba=new Date;function ht(t,n,e,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),n(a,1),t(a),a),i.round=a=>{const o=i(a),f=i.ceil(a);return a-o<f-a?o:f},i.offset=(a,o)=>(n(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,f)=>{const u=[];if(a=i.ceil(a),f=f==null?1:Math.floor(f),!(a<o)||!(f>0))return u;let c;do u.push(c=new Date(+a)),n(a,f),t(a);while(c<a&&a<o);return u},i.filter=a=>ht(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,f)=>{if(o>=o)if(f<0)for(;++f<=0;)for(;n(o,-1),!a(o););else for(;--f>=0;)for(;n(o,1),!a(o););}),e&&(i.count=(a,o)=>(Ya.setTime(+a),Ba.setTime(+o),t(Ya),t(Ba),Math.floor(e(Ya,Ba))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Gi=ht(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);Gi.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ht(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):Gi);Gi.range;const bn=1e3,Ot=bn*60,yn=Ot*60,$n=yn*24,Pf=$n*7,pc=$n*30,Ha=$n*365,Bt=ht(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*bn)},(t,n)=>(n-t)/bn,t=>t.getUTCSeconds());Bt.range;const Dr=ht(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bn)},(t,n)=>{t.setTime(+t+n*Ot)},(t,n)=>(n-t)/Ot,t=>t.getMinutes());Dr.range;const Ir=ht(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*Ot)},(t,n)=>(n-t)/Ot,t=>t.getUTCMinutes());Ir.range;const Lr=ht(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bn-t.getMinutes()*Ot)},(t,n)=>{t.setTime(+t+n*yn)},(t,n)=>(n-t)/yn,t=>t.getHours());Lr.range;const Rr=ht(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*yn)},(t,n)=>(n-t)/yn,t=>t.getUTCHours());Rr.range;const ie=ht(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ot)/$n,t=>t.getDate()-1);ie.range;const pa=ht(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/$n,t=>t.getUTCDate()-1);pa.range;const ga=ht(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/$n,t=>Math.floor(t/$n));ga.range;function ae(t){return ht(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+e*7)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Ot)/Pf)}const Ee=ae(0),xr=ae(1),td=ae(2),nd=ae(3),jn=ae(4),ed=ae(5),rd=ae(6);Ee.range;xr.range;td.range;nd.range;jn.range;ed.range;rd.range;function oe(t){return ht(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e*7)},(n,e)=>(e-n)/Pf)}const Ne=oe(0),Mr=oe(1),id=oe(2),ad=oe(3),te=oe(4),od=oe(5),fd=oe(6);Ne.range;Mr.range;id.range;ad.range;te.range;od.range;fd.range;const Fr=ht(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Fr.range;const Pr=ht(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Pr.range;const Wt=ht(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());Wt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ht(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)});Wt.range;const Vt=ht(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ht(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)});Vt.range;function ud(t,n,e,r,i,a){const o=[[Bt,1,bn],[Bt,5,5*bn],[Bt,15,15*bn],[Bt,30,30*bn],[a,1,Ot],[a,5,5*Ot],[a,15,15*Ot],[a,30,30*Ot],[i,1,yn],[i,3,3*yn],[i,6,6*yn],[i,12,12*yn],[r,1,$n],[r,2,2*$n],[e,1,Pf],[n,1,pc],[n,3,3*pc],[t,1,Ha]];function f(c,s,d){const l=s<c;l&&([c,s]=[s,c]);const h=d&&typeof d.range=="function"?d:u(c,s,d),p=h?h.range(c,+s+1):[];return l?p.reverse():p}function u(c,s,d){const l=Math.abs(s-c)/d,h=ji(([,,b])=>b).right(o,l);if(h===o.length)return t.every(go(c/Ha,s/Ha,d));if(h===0)return Gi.every(Math.max(go(c,s,d),1));const[p,g]=o[l/o[h-1][2]<o[h][2]/l?h-1:h];return p.every(g)}return[f,u]}const[ry,iy]=ud(Vt,Pr,Ne,ga,Rr,Ir),[ay,oy]=ud(Wt,Fr,Ee,ie,Lr,Dr);function Wa(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Va(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ke(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function fy(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,f=t.months,u=t.shortMonths,c=Qe(i),s=Je(i),d=Qe(a),l=Je(a),h=Qe(o),p=Je(o),g=Qe(f),b=Je(f),w=Qe(u),y=Je(u),v={a:k,A:B,b:W,B:I,c:null,d:vc,e:vc,f:Ny,g:qy,G:Yy,H:Ay,I:Cy,j:Ey,L:cd,m:ky,M:Dy,p:O,q:z,Q:$c,s:_c,S:Iy,u:Ly,U:Ry,V:Fy,w:Py,W:Oy,x:null,X:null,y:Uy,Y:zy,Z:By,"%":Mc},m={a:R,A:X,b:nt,B:J,c:null,d:xc,e:xc,f:Gy,g:r6,G:a6,H:Hy,I:Wy,j:Vy,L:ld,m:Xy,M:Zy,p:q,q:H,Q:$c,s:_c,S:Ky,u:Qy,U:Jy,V:jy,w:t6,W:n6,x:null,X:null,y:e6,Y:i6,Z:o6,"%":Mc},M={a:N,A:$,b:D,B:F,c:L,d:yc,e:yc,f:$y,g:bc,G:mc,H:wc,I:wc,j:wy,L:My,m:yy,M:vy,p:A,q:by,Q:Sy,s:Ty,S:xy,u:dy,U:hy,V:py,w:ly,W:gy,x:T,X:P,y:bc,Y:mc,Z:my,"%":_y};v.x=x(e,v),v.X=x(r,v),v.c=x(n,v),m.x=x(e,m),m.X=x(r,m),m.c=x(n,m);function x(E,U){return function(Y){var C=[],at=-1,V=0,ft=E.length,lt,Ct,de;for(Y instanceof Date||(Y=new Date(+Y));++at<ft;)E.charCodeAt(at)===37&&(C.push(E.slice(V,at)),(Ct=gc[lt=E.charAt(++at)])!=null?lt=E.charAt(++at):Ct=lt==="e"?" ":"0",(de=U[lt])&&(lt=de(Y,Ct)),C.push(lt),V=at+1);return C.push(E.slice(V,at)),C.join("")}}function _(E,U){return function(Y){var C=Ke(1900,void 0,1),at=S(C,E,Y+="",0),V,ft;if(at!=Y.length)return null;if("Q"in C)return new Date(C.Q);if("s"in C)return new Date(C.s*1e3+("L"in C?C.L:0));if(U&&!("Z"in C)&&(C.Z=0),"p"in C&&(C.H=C.H%12+C.p*12),C.m===void 0&&(C.m="q"in C?C.q:0),"V"in C){if(C.V<1||C.V>53)return null;"w"in C||(C.w=1),"Z"in C?(V=Va(Ke(C.y,0,1)),ft=V.getUTCDay(),V=ft>4||ft===0?Mr.ceil(V):Mr(V),V=pa.offset(V,(C.V-1)*7),C.y=V.getUTCFullYear(),C.m=V.getUTCMonth(),C.d=V.getUTCDate()+(C.w+6)%7):(V=Wa(Ke(C.y,0,1)),ft=V.getDay(),V=ft>4||ft===0?xr.ceil(V):xr(V),V=ie.offset(V,(C.V-1)*7),C.y=V.getFullYear(),C.m=V.getMonth(),C.d=V.getDate()+(C.w+6)%7)}else("W"in C||"U"in C)&&("w"in C||(C.w="u"in C?C.u%7:"W"in C?1:0),ft="Z"in C?Va(Ke(C.y,0,1)).getUTCDay():Wa(Ke(C.y,0,1)).getDay(),C.m=0,C.d="W"in C?(C.w+6)%7+C.W*7-(ft+5)%7:C.w+C.U*7-(ft+6)%7);return"Z"in C?(C.H+=C.Z/100|0,C.M+=C.Z%100,Va(C)):Wa(C)}}function S(E,U,Y,C){for(var at=0,V=U.length,ft=Y.length,lt,Ct;at<V;){if(C>=ft)return-1;if(lt=U.charCodeAt(at++),lt===37){if(lt=U.charAt(at++),Ct=M[lt in gc?U.charAt(at++):lt],!Ct||(C=Ct(E,Y,C))<0)return-1}else if(lt!=Y.charCodeAt(C++))return-1}return C}function A(E,U,Y){var C=c.exec(U.slice(Y));return C?(E.p=s.get(C[0].toLowerCase()),Y+C[0].length):-1}function N(E,U,Y){var C=h.exec(U.slice(Y));return C?(E.w=p.get(C[0].toLowerCase()),Y+C[0].length):-1}function $(E,U,Y){var C=d.exec(U.slice(Y));return C?(E.w=l.get(C[0].toLowerCase()),Y+C[0].length):-1}function D(E,U,Y){var C=w.exec(U.slice(Y));return C?(E.m=y.get(C[0].toLowerCase()),Y+C[0].length):-1}function F(E,U,Y){var C=g.exec(U.slice(Y));return C?(E.m=b.get(C[0].toLowerCase()),Y+C[0].length):-1}function L(E,U,Y){return S(E,n,U,Y)}function T(E,U,Y){return S(E,e,U,Y)}function P(E,U,Y){return S(E,r,U,Y)}function k(E){return o[E.getDay()]}function B(E){return a[E.getDay()]}function W(E){return u[E.getMonth()]}function I(E){return f[E.getMonth()]}function O(E){return i[+(E.getHours()>=12)]}function z(E){return 1+~~(E.getMonth()/3)}function R(E){return o[E.getUTCDay()]}function X(E){return a[E.getUTCDay()]}function nt(E){return u[E.getUTCMonth()]}function J(E){return f[E.getUTCMonth()]}function q(E){return i[+(E.getUTCHours()>=12)]}function H(E){return 1+~~(E.getUTCMonth()/3)}return{format:function(E){var U=x(E+="",v);return U.toString=function(){return E},U},parse:function(E){var U=_(E+="",!1);return U.toString=function(){return E},U},utcFormat:function(E){var U=x(E+="",m);return U.toString=function(){return E},U},utcParse:function(E){var U=_(E+="",!0);return U.toString=function(){return E},U}}}var gc={"-":"",_:" ",0:"0"},bt=/^\s*\d+/,uy=/^%/,cy=/[\\^$*+?|[\]().{}]/g;function et(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<e?new Array(e-a+1).join(n)+i:i)}function sy(t){return t.replace(cy,"\\$&")}function Qe(t){return new RegExp("^(?:"+t.map(sy).join("|")+")","i")}function Je(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function ly(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function dy(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function hy(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function py(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function gy(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function mc(t,n,e){var r=bt.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function bc(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function my(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function by(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function yy(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function yc(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function wy(t,n,e){var r=bt.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function wc(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function vy(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function xy(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function My(t,n,e){var r=bt.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function $y(t,n,e){var r=bt.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function _y(t,n,e){var r=uy.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Sy(t,n,e){var r=bt.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Ty(t,n,e){var r=bt.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function vc(t,n){return et(t.getDate(),n,2)}function Ay(t,n){return et(t.getHours(),n,2)}function Cy(t,n){return et(t.getHours()%12||12,n,2)}function Ey(t,n){return et(1+ie.count(Wt(t),t),n,3)}function cd(t,n){return et(t.getMilliseconds(),n,3)}function Ny(t,n){return cd(t,n)+"000"}function ky(t,n){return et(t.getMonth()+1,n,2)}function Dy(t,n){return et(t.getMinutes(),n,2)}function Iy(t,n){return et(t.getSeconds(),n,2)}function Ly(t){var n=t.getDay();return n===0?7:n}function Ry(t,n){return et(Ee.count(Wt(t)-1,t),n,2)}function sd(t){var n=t.getDay();return n>=4||n===0?jn(t):jn.ceil(t)}function Fy(t,n){return t=sd(t),et(jn.count(Wt(t),t)+(Wt(t).getDay()===4),n,2)}function Py(t){return t.getDay()}function Oy(t,n){return et(xr.count(Wt(t)-1,t),n,2)}function Uy(t,n){return et(t.getFullYear()%100,n,2)}function qy(t,n){return t=sd(t),et(t.getFullYear()%100,n,2)}function zy(t,n){return et(t.getFullYear()%1e4,n,4)}function Yy(t,n){var e=t.getDay();return t=e>=4||e===0?jn(t):jn.ceil(t),et(t.getFullYear()%1e4,n,4)}function By(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+et(n/60|0,"0",2)+et(n%60,"0",2)}function xc(t,n){return et(t.getUTCDate(),n,2)}function Hy(t,n){return et(t.getUTCHours(),n,2)}function Wy(t,n){return et(t.getUTCHours()%12||12,n,2)}function Vy(t,n){return et(1+pa.count(Vt(t),t),n,3)}function ld(t,n){return et(t.getUTCMilliseconds(),n,3)}function Gy(t,n){return ld(t,n)+"000"}function Xy(t,n){return et(t.getUTCMonth()+1,n,2)}function Zy(t,n){return et(t.getUTCMinutes(),n,2)}function Ky(t,n){return et(t.getUTCSeconds(),n,2)}function Qy(t){var n=t.getUTCDay();return n===0?7:n}function Jy(t,n){return et(Ne.count(Vt(t)-1,t),n,2)}function dd(t){var n=t.getUTCDay();return n>=4||n===0?te(t):te.ceil(t)}function jy(t,n){return t=dd(t),et(te.count(Vt(t),t)+(Vt(t).getUTCDay()===4),n,2)}function t6(t){return t.getUTCDay()}function n6(t,n){return et(Mr.count(Vt(t)-1,t),n,2)}function e6(t,n){return et(t.getUTCFullYear()%100,n,2)}function r6(t,n){return t=dd(t),et(t.getUTCFullYear()%100,n,2)}function i6(t,n){return et(t.getUTCFullYear()%1e4,n,4)}function a6(t,n){var e=t.getUTCDay();return t=e>=4||e===0?te(t):te.ceil(t),et(t.getUTCFullYear()%1e4,n,4)}function o6(){return"+0000"}function Mc(){return"%"}function $c(t){return+t}function _c(t){return Math.floor(+t/1e3)}var he,Of,f6,Or;u6({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function u6(t){return he=fy(t),Of=he.format,f6=he.parse,Or=he.utcFormat,he.utcParse,he}function c6(t){return new Date(t)}function s6(t){return t instanceof Date?+t:+new Date(+t)}function Uf(t,n,e,r,i,a,o,f,u,c){var s=Bl(),d=s.invert,l=s.domain,h=c(".%L"),p=c(":%S"),g=c("%I:%M"),b=c("%I %p"),w=c("%a %d"),y=c("%b %d"),v=c("%B"),m=c("%Y");function M(x){return(u(x)<x?h:f(x)<x?p:o(x)<x?g:a(x)<x?b:r(x)<x?i(x)<x?w:y:e(x)<x?v:m)(x)}return s.invert=function(x){return new Date(d(x))},s.domain=function(x){return arguments.length?l(Array.from(x,s6)):l().map(c6)},s.ticks=function(x){var _=l();return t(_[0],_[_.length-1],x??10)},s.tickFormat=function(x,_){return _==null?M:c(_)},s.nice=function(x){var _=l();return(!x||typeof x.range!="function")&&(x=n(_[0],_[_.length-1],x??10)),x?l(Wl(_,x)):s},s.copy=function(){return kr(s,Uf(t,n,e,r,i,a,o,f,u,c))},s}function l6(){return on.apply(Uf(ay,oy,Wt,Fr,Ee,ie,Lr,Dr,Bt,Of).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function d6(){return on.apply(Uf(ry,iy,Vt,Pr,Ne,pa,Rr,Ir,Bt,Or).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function h6(){var t=0,n=1,e,r,i,a,o=Tt,f=!1,u;function c(d){return d==null||isNaN(d=+d)?u:o(i===0?.5:(d=(a(d)-e)*i,f?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,n]=d,e=a(t=+t),r=a(n=+n),i=e===r?0:1/(r-e),c):[t,n]},c.clamp=function(d){return arguments.length?(f=!!d,c):f},c.interpolator=function(d){return arguments.length?(o=d,c):o};function s(d){return function(l){var h,p;return arguments.length?([h,p]=l,o=d(h,p),c):[o(0),o(1)]}}return c.range=s(Ue),c.rangeRound=s(oa),c.unknown=function(d){return arguments.length?(u=d,c):u},function(d){return a=d,e=d(t),r=d(n),i=e===r?0:1/(r-e),c}}function Ur(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function p6(){var t=Ye(h6()(Tt));return t.copy=function(){return Ur(t,p6())},Nr.apply(t,arguments)}function ma(){var t=0,n=.5,e=1,r=1,i,a,o,f,u,c=Tt,s,d=!1,l;function h(g){return isNaN(g=+g)?l:(g=.5+((g=+s(g))-a)*(r*g<r*a?f:u),c(d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,n,e]=g,i=s(t=+t),a=s(n=+n),o=s(e=+e),f=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,h):[t,n,e]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(c=g,h):c};function p(g){return function(b){var w,y,v;return arguments.length?([w,y,v]=b,c=fa(g,[w,y,v]),h):[c(0),c(.5),c(1)]}}return h.range=p(Ue),h.rangeRound=p(oa),h.unknown=function(g){return arguments.length?(l=g,h):l},function(g){return s=g,i=g(t),a=g(n),o=g(e),f=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,h}}function hd(){var t=Ye(ma()(Tt));return t.copy=function(){return Ur(t,hd())},Nr.apply(t,arguments)}function pd(){var t=Vl(ma()).domain([.1,1,10]);return t.copy=function(){return Ur(t,pd()).base(t.base())},Nr.apply(t,arguments)}function gd(){var t=Xl(ma());return t.copy=function(){return Ur(t,gd()).constant(t.constant())},Nr.apply(t,arguments)}function md(){var t=Kl(ma());return t.copy=function(){return Ur(t,md()).exponent(t.exponent())},Nr.apply(t,arguments)}function K(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const g6=K("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),m6=K("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),b6=K("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),y6=K("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),w6=K("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),v6=K("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),x6=K("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),M6=K("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),$6=K("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),_6=K("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),S6=K("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ot=t=>sm(t[t.length-1]);var bd=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(K);const yd=ot(bd);var wd=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(K);const vd=ot(wd);var xd=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(K);const Md=ot(xd);var $d=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(K);const _d=ot($d);var Zo=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(K);const Xi=ot(Zo);var Sd=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(K);const Td=ot(Sd);var Ko=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(K);const Zi=ot(Ko);var Ad=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(K);const Cd=ot(Ad);var Ed=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(K);const Nd=ot(Ed);var kd=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(K);const Dd=ot(kd);var Id=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(K);const Ld=ot(Id);var Rd=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(K);const Fd=ot(Rd);var Pd=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(K);const Od=ot(Pd);var Ud=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(K);const qd=ot(Ud);var zd=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(K);const Yd=ot(zd);var Bd=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(K);const Hd=ot(Bd);var Wd=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(K);const Vd=ot(Wd);var Gd=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(K);const Xd=ot(Gd);var Zd=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(K);const Kd=ot(Zd);var Qd=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(K);const Jd=ot(Qd);var jd=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(K);const t0=ot(jd);var n0=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(K);const e0=ot(n0);var r0=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(K);const i0=ot(r0);var a0=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(K);const o0=ot(a0);var f0=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(K);const u0=ot(f0);var c0=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(K);const s0=ot(c0);var l0=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(K);const d0=ot(l0);function h0(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const p0=Sf(en(300,.5,0),en(-240,.5,1));var g0=Sf(en(-100,.75,.35),en(80,1.5,.8)),m0=Sf(en(260,.75,.35),en(80,1.5,.8)),ii=en();function b0(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return ii.h=360*t-100,ii.s=1.5-1.5*n,ii.l=.8-.9*n,ii+""}var ai=Dn(),T6=Math.PI/3,A6=Math.PI*2/3;function y0(t){var n;return t=(.5-t)*Math.PI,ai.r=255*(n=Math.sin(t))*n,ai.g=255*(n=Math.sin(t+T6))*n,ai.b=255*(n=Math.sin(t+A6))*n,ai+""}function w0(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function ba(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const v0=ba(K("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var x0=ba(K("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),M0=ba(K("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),$0=ba(K("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const _0=Math.cos,qf=Math.min,Ki=Math.sin,pt=Math.sqrt,o7=1e-12,Qi=Math.PI,ya=2*Qi,C6=pt(3),S0={draw(t,n){const e=pt(n+qf(n/28,.75))*.59436,r=e/2,i=r*C6;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},zf={draw(t,n){const e=pt(n/Qi);t.moveTo(e,0),t.arc(0,0,e,0,ya)}},T0={draw(t,n){const e=pt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},A0=pt(1/3),E6=A0*2,C0={draw(t,n){const e=pt(n/E6),r=e*A0;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},E0={draw(t,n){const e=pt(n)*.62625;t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},N0={draw(t,n){const e=pt(n-qf(n/7,2))*.87559;t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},k0={draw(t,n){const e=pt(n),r=-e/2;t.rect(r,r,e,e)}},D0={draw(t,n){const e=pt(n)*.4431;t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},N6=.8908130915292852,I0=Ki(Qi/10)/Ki(7*Qi/10),k6=Ki(ya/10)*I0,D6=-_0(ya/10)*I0,L0={draw(t,n){const e=pt(n*N6),r=k6*e,i=D6*e;t.moveTo(0,-e),t.lineTo(r,i);for(let a=1;a<5;++a){const o=ya*a/5,f=_0(o),u=Ki(o);t.lineTo(u*e,-f*e),t.lineTo(f*r-u*i,u*r+f*i)}t.closePath()}},Ga=pt(3),R0={draw(t,n){const e=-pt(n/(Ga*3));t.moveTo(0,e*2),t.lineTo(-Ga*e,-e),t.lineTo(Ga*e,-e),t.closePath()}},I6=pt(3),F0={draw(t,n){const e=pt(n)*.6824,r=e/2,i=e*I6/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},It=-.5,Lt=pt(3)/2,Qo=1/pt(12),L6=(Qo/2+1)*3,P0={draw(t,n){const e=pt(n/L6),r=e/2,i=e*Qo,a=r,o=e*Qo+e,f=-a,u=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(f,u),t.lineTo(It*r-Lt*i,Lt*r+It*i),t.lineTo(It*a-Lt*o,Lt*a+It*o),t.lineTo(It*f-Lt*u,Lt*f+It*u),t.lineTo(It*r+Lt*i,It*i-Lt*r),t.lineTo(It*a+Lt*o,It*o-Lt*a),t.lineTo(It*f+Lt*u,It*u-Lt*f),t.closePath()}},O0={draw(t,n){const e=pt(n-qf(n/6,1.7))*.6189;t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},R6=[zf,T0,C0,k0,L0,R0,P0],F6=[zf,N0,O0,F0,S0,D0,E0];function be(t,n,e){this.k=t,this.x=n,this.y=e}be.prototype={constructor:be,scale:function(t){return t===1?this:new be(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new be(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var f7=new be(1,0,0);be.prototype;function In(t){return t!=null&&!Number.isNaN(t)}function ne(t,n){return+In(n)-+In(t)||En(t,n)}function Jo(t,n){return+In(n)-+In(t)||Tr(t,n)}function Yf(t){return t!=null&&`${t}`!=""}function U0(t){return isFinite(t)?t:NaN}function Bf(t){return t>0&&isFinite(t)?t:NaN}function q0(t){return t<0&&isFinite(t)?t:NaN}function P6(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof n=="function"?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return`${O6(t.getUTCFullYear())}-${pn(t.getUTCMonth()+1,2)}-${pn(t.getUTCDate(),2)}${e||r||i||a?`T${pn(e,2)}:${pn(r,2)}${i||a?`:${pn(i,2)}${a?`.${pn(a,3)}`:""}`:""}Z`:""}`}function O6(t){return t<0?`-${pn(-t,6)}`:t>9999?`+${pn(t,6)}`:pn(t,4)}function pn(t,n){return`${t}`.padStart(n,"0")}const U6=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function z0(t,n){return U6.test(t+="")?new Date(t):typeof n=="function"?n(t):n}function ke(t){if(t==null)return;const n=t[0],e=t[t.length-1];return Tr(n,e)}const ye=1e3,An=ye*60,Cn=An*60,rn=Cn*24,Zt=rn*7,Vn=rn*30,Tn=rn*365,Xa=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",ye],["5 seconds",5*ye],["15 seconds",15*ye],["30 seconds",30*ye],["minute",An],["5 minutes",5*An],["15 minutes",15*An],["30 minutes",30*An],["hour",Cn],["3 hours",3*Cn],["6 hours",6*Cn],["12 hours",12*Cn],["day",rn],["2 days",2*rn],["week",Zt],["2 weeks",2*Zt],["month",Vn],["3 months",3*Vn],["6 months",6*Vn],["year",Tn],["2 years",2*Tn],["5 years",5*Tn],["10 years",10*Tn],["20 years",20*Tn],["50 years",50*Tn],["100 years",100*Tn]],Hf=new Map([["second",ye],["minute",An],["hour",Cn],["day",rn],["monday",Zt],["tuesday",Zt],["wednesday",Zt],["thursday",Zt],["friday",Zt],["saturday",Zt],["sunday",Zt],["week",Zt],["month",Vn],["year",Tn]]),Y0=new Map([["second",Bt],["minute",Dr],["hour",Lr],["day",ie],["monday",xr],["tuesday",td],["wednesday",nd],["thursday",jn],["friday",ed],["saturday",rd],["sunday",Ee],["week",Ee],["month",Fr],["year",Wt]]),Wf=new Map([["second",Bt],["minute",Ir],["hour",Rr],["day",ga],["monday",Mr],["tuesday",id],["wednesday",ad],["thursday",te],["friday",od],["saturday",fd],["sunday",Ne],["week",Ne],["month",Pr],["year",Vt]]),qr=Symbol("intervalDuration"),wa=Symbol("intervalType");for(const[t,n]of Y0)n[qr]=Hf.get(t),n[wa]="time";for(const[t,n]of Wf)n[qr]=Hf.get(t),n[wa]="utc";const ur=[["year",Vt,"utc"],["month",Pr,"utc"],["day",ga,"utc",6*Vn],["hour",Rr,"utc",3*rn],["minute",Ir,"utc",6*Cn],["second",Bt,"utc",30*An]],vi=[["year",Wt,"time"],["month",Fr,"time"],["day",ie,"time",6*Vn],["hour",Lr,"time",3*rn],["minute",Dr,"time",6*Cn],["second",Bt,"time",30*An]],q6=[ur[0],vi[0],ur[1],vi[1],ur[2],vi[2],...ur.slice(3)];function B0(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),e=+r[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6;break}let i=Wf.get(n);if(!i)throw new Error(`unknown interval: ${t}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function H0(t){return V0(B0(t),"time")}function W0(t){return V0(B0(t),"utc")}function V0([t,n],e){let r=(e==="time"?Y0:Wf).get(t);return n>1&&(r=r.every(n),r[qr]=Hf.get(t)*n,r[wa]=e),r}function Sc(t,n){if(!(n>1))return;const e=t[qr];if(!Xa.some(([,i])=>i===e)||e%rn===0&&rn<e&&e<Vn)return;const[r]=Xa[ji(([,i])=>Math.log(i)).center(Xa,Math.log(e*n))];return(t[wa]==="time"?H0:W0)(r)}function Tc(t,n,e){const r=n==="time"?Of:Or;if(e==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=z6(e);switch(t){case"millisecond":return pe(r(".%L"),r(":%M:%S"),i);case"second":return pe(r(":%S"),r("%-I:%M"),i);case"minute":return pe(r("%-I:%M"),r("%p"),i);case"hour":return pe(r("%-I %p"),r("%b %-d"),i);case"day":return pe(r("%-d"),r("%b"),i);case"month":return pe(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function z6(t){return t==="left"||t==="right"?(n,e)=>`
${n}
${e}`:t==="top"?(n,e)=>`${e}
${n}`:(n,e)=>`${n}
${e}`}function Y6(t){return t==="time"?vi:t==="utc"?ur:q6}function B6(t,n,e){const r=nn(tp(n,(i,a)=>Math.abs(a-i)));if(r<1e3)return Tc("millisecond","utc",e);for(const[i,a,o,f]of Y6(t)){if(r>f||i==="hour"&&!r)break;if(n.every(u=>a.floor(u)>=u))return Tc(i,o,e)}}function pe(t,n,e){return(r,i,a)=>{const o=t(r,i),f=n(r,i),u=i-ke(a);return i!==u&&a[u]!==void 0&&f===n(a[u],u)?o:e(o,f)}}const Vf=Object.getPrototypeOf(Uint8Array),H6=Object.prototype.toString;function zr(t){return t instanceof Array||t instanceof Vf}function G0(t){return t instanceof Vf&&!W6(t)}function X0(t){return(t==null?void 0:t.prototype)instanceof Vf&&!V6(t)}function W6(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function V6(t){return t===BigInt64Array||t===BigUint64Array}const G6=Symbol("reindex");function _n(t,n,e){const r=typeof n;return r==="string"?oh(t)?Gf(t.getChild(n),e):Ac(t,Z6(n),e):r==="function"?Ac(t,n,e):r==="number"||n instanceof Date||r==="boolean"?dt(t,wn(n),e):typeof(n==null?void 0:n.transform)=="function"?jo(n.transform(t),e):X6(jo(n,e),t==null?void 0:t[G6])}function X6(t,n){return t!=null&&n?Zf(t,n):t}function Ac(t,n,e){return dt(t,X0(e)?(r,i)=>Xf(n(r,i)):n,e)}function jo(t,n){return n===void 0?fe(t):fh(t)?Gf(t,n):t instanceof n?t:n.from(t,X0(n)&&!G0(t)?Xf:void 0)}function Gf(t,n){return t==null?t:(n===void 0||n===Array)&&g8(t.type)?K0(Cc(t)):jo(Cc(t),n)}function Cc(t){return t.nullCount?t.toJSON():t.toArray()}const xi=[null],Z6=t=>n=>{var r;const e=n[t];return e===void 0&&n.type==="Feature"?(r=n.properties)==null?void 0:r[t]:e},K6={transform:Be},fn={transform:t=>t},u7=()=>1,Q6=()=>!0,vt=t=>t==null?t:`${t}`,Mt=t=>t==null?t:+t,Z0=t=>t?t[0]:void 0,tf=t=>t?t[1]:void 0,wn=t=>()=>t;function J6(t){const n=+`${t}`.slice(1)/100;return(e,r)=>Si(e,n,r)}function Ec(t){return G0(t)?t:dt(t,Xf,Float64Array)}function Xf(t){return t==null?NaN:Number(t)}function K0(t){return dt(t,j6)}function j6(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?z0(t):t==null||isNaN(t=Number(t))?void 0:new Date(t)}function ee(t,n){return t===void 0&&(t=n),t===null?[void 0,"none"]:Ma(t)?[void 0,t]:[t,void 0]}function Et(t,n){return t===void 0&&(t=n),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function Q0(t,n,e){if(t!=null)return Xt(t,n,e)}function Xt(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function De(t){return oh(t)?t:fe(t)}function fe(t){if(t==null||zr(t))return t;if(fh(t))return Gf(t);if(J0(t))switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;default:return[t]}return Array.from(t)}function J0(t){switch(t==null?void 0:t.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function dt(t,n,e=Array){return t==null?t:t instanceof e?t.map(n):e.from(t,n)}function nf(t,n=Array){return t instanceof n?t.slice():n.from(t)}function t8({x:t,x1:n,x2:e}){return t!==void 0||n!==void 0||e!==void 0}function n8({y:t,y1:n,y2:e}){return t!==void 0||n!==void 0||e!==void 0}function c7(t){return t8(t)||n8(t)||t.interval!==void 0}function Pn(t){return(t==null?void 0:t.toString)===H6}function ef(t){return Pn(t)&&(t.type!==void 0||t.domain!==void 0)}function va(t){return Pn(t)&&typeof t.transform!="function"}function Ie(t){return va(t)&&t.value===void 0&&t.channel===void 0}function s7(t,n,e,r=fn){return n===void 0&&e===void 0?(n=0,e=t===void 0?r:t):n===void 0?n=t===void 0?0:t:e===void 0&&(e=t===void 0?0:t),[n,e]}function j0(t,n){return t===void 0&&n===void 0?[Z0,tf]:[t,n]}function l7({z:t,fill:n,stroke:e}={}){return t===void 0&&([t]=ee(n)),t===void 0&&([t]=ee(e)),t}function rf(t){return zr(t)?t.length:t==null?void 0:t.numRows}function Be(t){const n=rf(t),e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function Zf(t,n){return zr(t)?dt(n,e=>t[e],t.constructor):dt(n,e=>t.at(e))}function e8(t,n,e){return t.subarray?t.subarray(n,e):t.slice(n,e)}function vn(t){return t!==null&&typeof t=="object"?t.valueOf():t}function r8(t,n){if(n[t]!==void 0)return n[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return n[t]}function th(t){let n;return[{transform:()=>n,label:He(t)},e=>n=e]}function d7(t){return t==null?[t]:th(t)}function He(t,n){return typeof t=="string"?t:t&&t.label!==void 0?t.label:n}function h7(t,n){return{transform(e){const r=t.transform(e),i=n.transform(e);return qt(r)||qt(i)?dt(r,(a,o)=>new Date((+r[o]+ +i[o])/2)):dt(r,(a,o)=>(+r[o]+ +i[o])/2,Float64Array)},label:t.label}}function p7(t,n){const e=nh(n==null?void 0:n.interval,n==null?void 0:n.type);return e?dt(t,e):t}function nh(t,n){const e=Kf(t,n);return e&&(r=>In(r)?e.floor(r):r)}function Kf(t,n){if(t!=null){if(typeof t=="number")return i8(t);if(typeof t=="string")return(n==="time"?H0:W0)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function i8(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:e=>Math.floor(e*n)/n,offset:(e,r=1)=>(e*n+Math.floor(r))/n,range:(e,r)=>bo(Math.ceil(e*n),r*n).map(i=>i/n)}:{floor:e=>Math.floor(e/n)*n,offset:(e,r=1)=>e+n*Math.floor(r),range:(e,r)=>bo(Math.ceil(e/n),r/n).map(i=>i*n)}}function Yr(t,n){if(t=Kf(t,n),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function a8(t,n){if(t=Yr(t,n),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function g7(t){return eh(t)&&typeof(t==null?void 0:t.floor)=="function"&&t.floor()instanceof Date}function eh(t){return typeof(t==null?void 0:t.range)=="function"}function xa(t){return t===void 0||va(t)?t:{value:t}}function o8(t){return t==null?null:{transform:n=>_n(n,t,Float64Array),label:He(t)}}function ue(t){return t&&typeof t[Symbol.iterator]=="function"}function rh(t){for(const n of t)if(n!=null)return typeof n!="object"||n instanceof Date}function Nc(t){for(const n of t){if(n==null)continue;const e=typeof n;return e==="string"||e==="boolean"}}function qt(t){for(const n of t)if(n!=null)return n instanceof Date}function f8(t){for(const n of t)if(n!=null)return typeof n=="string"&&isNaN(n)&&z0(n)}function u8(t){for(const n of t)if(n!=null){if(typeof n!="string")return!1;if(n.trim())return!isNaN(n)}}function c8(t){for(const n of t)if(n!=null)return typeof n=="number"}function Za(t,n){let e;for(const r of t)if(r!=null){if(!n(r))return!1;e=!0}return e}const s8=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Ma(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||s8.has(t))}function l8(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function St(t){return t==null||$r(t)}function $r(t){return/^\s*none\s*$/i.test(t)}function d8(t){return/^\s*round\s*$/i.test(t)}function af(t,n){return Q0(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Qf(t="middle"){return af(t,"frameAnchor")}function h8(t={},...n){let e=t;for(const r of n)for(const i in r)if(e[i]===void 0){const a=r[i];e===t?e={...e,[i]:a}:e[i]=a}return e}function p8(t){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(t,e=>{const{name:r}=e;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(n.has(i))throw new Error(`duplicate name: ${i}`);return n.add(i),[r,e]}))}function ih(t){return ue(t)?p8(t):t}function ah(t){return t===!0?t="frame":t===!1?t=null:!J0(t)&&t!=null&&(t=Xt(t,"clip",["frame","sphere"]),t==="sphere"&&(t={type:"Sphere"})),t}function oh(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function fh(t){return t&&typeof t.toArray=="function"&&t.type}function g8(t){return t&&(t.typeId===8||t.typeId===10)&&t.unit===1}const Jt=Symbol("position"),Sn=Symbol("color"),Br=Symbol("radius"),Hr=Symbol("length"),Wr=Symbol("opacity"),$a=Symbol("symbol"),uh=Symbol("projection"),st=new Map([["x",Jt],["y",Jt],["fx",Jt],["fy",Jt],["r",Br],["color",Sn],["opacity",Wr],["symbol",$a],["length",Hr],["projection",uh]]);function m8(t){return t===Jt||t===uh}function b8(t){return t===Jt||t===Br||t===Hr||t===Wr}const y8=Math.sqrt(3),w8=2/y8,v8={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*w8,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},Jf=new Map([["asterisk",S0],["circle",zf],["cross",T0],["diamond",C0],["diamond2",E0],["hexagon",v8],["plus",N0],["square",k0],["square2",D0],["star",L0],["times",O0],["triangle",R0],["triangle2",F0],["wye",P0]]);function jf(t){return t&&typeof t.draw=="function"}function x8(t){return jf(t)?!0:typeof t!="string"?!1:Jf.has(t.toLowerCase())}function tu(t){if(t==null||jf(t))return t;const n=Jf.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function m7(t){if(t==null||jf(t))return[void 0,t];if(typeof t=="string"){const n=Jf.get(`${t}`.toLowerCase());if(n)return[void 0,n]}return[t,void 0]}function ch({filter:t,sort:n,reverse:e,transform:r,initializer:i,...a}={},o){if(r===void 0&&(t!=null&&(r=sh(t)),n!=null&&!Ie(n)&&(r=Ka(r,nu(n))),e&&(r=Ka(r,lh))),o!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(n===null||Ie(n))&&{sort:n},transform:Ka(r,o)}}function Le({filter:t,sort:n,reverse:e,initializer:r,...i}={},a){return r===void 0&&(t!=null&&(r=sh(t)),n!=null&&!Ie(n)&&(r=Qa(r,nu(n))),e&&(r=Qa(r,lh))),{...i,...(n===null||Ie(n))&&{sort:n},initializer:Qa(r,a)}}function Ka(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i){return{data:e,facets:r}=t.call(this,e,r,i),n.call(this,De(e),r,i)}}function Qa(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i,...a){let o,f,u,c,s,d;return{data:f=e,facets:u=r,channels:o}=t.call(this,e,r,i,...a),{data:s=f,facets:d=u,channels:c}=n.call(this,f,u,{...i,...o},...a),{data:s,facets:d,channels:{...o,...c}}}}function M8(t,n){return(t.initializer!=null?Le:ch)(t,n)}function sh(t){return(n,e)=>{const r=_n(n,t);return{data:n,facets:e.map(i=>i.filter(a=>r[a]))}}}function lh(t,n){return{data:t,facets:n.map(e=>e.slice().reverse())}}function b7(t,{sort:n,...e}={}){return{...(va(t)&&t.channel!==void 0?Le:M8)(e,nu(t)),sort:Ie(n)?n:null}}function nu(t){return(typeof t=="function"&&t.length!==1?$8:_8)(t)}function $8(t){return(n,e)=>{const r=zr(n)?(i,a)=>t(n[i],n[a]):(i,a)=>t(n.get(i),n.get(a));return{data:n,facets:e.map(i=>i.slice().sort(r))}}}function _8(t){let n,e;({channel:n,value:t,order:e}={...xa(t)});const r=n==null?void 0:n.startsWith("-");if(r&&(n=n.slice(1)),e===void 0&&(e=r?Jo:ne),typeof e!="function")switch(`${e}`.toLowerCase()){case"ascending":e=ne;break;case"descending":e=Jo;break;default:throw new Error(`invalid order: ${e}`)}return(i,a,o)=>{let f;if(n===void 0)f=_n(i,t);else{if(o===void 0)throw new Error("channel sort requires an initializer");if(f=o[n],!f)return{};f=f.value}const u=(c,s)=>e(f[c],f[s]);return{data:i,facets:a.map(c=>c.slice().sort(u))}}}function y7(t,...n){for(const{name:e}of t)if(n.includes(e))return!0;return!1}function w7(t,n,e=S8){const r=Object.entries(t);return n.title!=null&&t.title===void 0&&r.push(["title",D8]),n.href!=null&&t.href===void 0&&r.push(["href",hh]),r.filter(([,i])=>i!==void 0).map(([i,a])=>a===null?T8(i):e(i,a,n))}function S8(t,n,e,r=A8){let i;Pn(n)&&"reduce"in n&&(i=n.scale,n=n.reduce);const a=r(t,n,e),[o,f]=th(a.label);let u;return{name:t,output:i===void 0?o:{value:o,scale:i},initialize(c){a.initialize(c),u=f([])},scope(c,s){a.scope(c,s)},reduce(c,s){u.push(a.reduce(c,s))}}}function T8(t){return{name:t,initialize(){},scope(){},reduce(){}}}function A8(t,n,e,r=dh){const i=r8(t,e),a=r(n,i);let o,f;return{label:He(a===of?null:i,a.label),initialize(u){o=i===void 0?u:_n(u,i),a.scope==="data"&&(f=a.reduceIndex(Be(u),o))},scope(u,c){a.scope===u&&(f=a.reduceIndex(c,o))},reduce(u,c){return a.scope==null?a.reduceIndex(u,o,c):a.reduceIndex(u,o,f,c)}}}function v7(t,n){return n?ws(t,e=>n[e]):[[,t]]}function dh(t,n,e=C8){if(t==null)return e(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&Pn(t))return E8(t);if(typeof t=="function")return N8(t);if(/^p\d{2}$/i.test(t))return hn(J6(t));switch(`${t}`.toLowerCase()){case"first":return hh;case"last":return I8;case"identity":return k8;case"count":return of;case"distinct":return L8;case"sum":return n==null?of:R8;case"proportion":return Dc(n,"data");case"proportion-facet":return Dc(n,"facet");case"deviation":return hn(Y1);case"min":return hn(pr);case"min-index":return hn(Z1);case"max":return hn(nn);case"max-index":return hn(X1);case"mean":return kc(Q1);case"median":return kc(mo);case"variance":return hn(gs);case"mode":return hn(j1)}return e(t)}function C8(t){throw new Error(`invalid reduce: ${t}`)}function x7(t,n){for(const e in n){const r=n[e];if(r!==void 0&&!t.some(i=>i.name===e))return r}}function M7(t,n,e){if(n){const r=n.output.transform(),i=(a,o)=>ne(r[a],r[o]);t.forEach(a=>a.sort(i))}e&&t.forEach(r=>r.reverse())}function E8(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function N8(t){return{reduceIndex(n,e,r){return t(Zf(e,n),r)}}}function hn(t){return{reduceIndex(n,e){return t(n,r=>e[r])}}}function kc(t){return{reduceIndex(n,e){const r=t(n,i=>e[i]);return qt(e)?new Date(r):r}}}const k8={reduceIndex(t,n){return Zf(n,t)}},hh={reduceIndex(t,n){return n[t[0]]}},D8={reduceIndex(t,n){const r=vs(pi(t,a=>a.length,a=>n[a]),tf),i=r.slice(-5).reverse();if(i.length<r.length){const a=r.slice(0,-4);i[4]=[`… ${a.length.toLocaleString("en-US")} more`,na(a,tf)]}return i.map(([a,o])=>`${a} (${o.toLocaleString("en-US")})`).join(`
`)}},I8={reduceIndex(t,n){return n[t[t.length-1]]}},of={label:"Frequency",reduceIndex(t){return t.length}},L8={label:"Distinct",reduceIndex(t,n){const e=new ta;for(const r of t)e.add(n[r]);return e.size}},R8=hn(na);function Dc(t,n){return t==null?{scope:n,label:"Frequency",reduceIndex:(e,r,i=1)=>e.length/i}:{scope:n,reduceIndex:(e,r,i=1)=>na(e,a=>r[a])/i}}const $7={reduceIndex(t,n,{z:e}){return e}};function _r(t,{scale:n,type:e,value:r,filter:i,hint:a,label:o=He(r)},f){return a===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(a=r.hint),ph(f,{scale:n,type:e,value:_n(t,r),label:o,filter:i,hint:a})}function F8(t,n){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,_r(n,r,e)]))}function P8(t,n){const e=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:a}])=>{const o=i==null?null:n[i];return[r,o==null?a:dt(a,o)]}));return e.channels=t,e}function ph(t,n){const{scale:e,value:r}=n;if(e===!0||e==="auto")switch(t){case"fill":case"stroke":case"color":n.scale=e!==!0&&Za(r,Ma)?null:"color",n.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=e!==!0&&Za(r,l8)?null:"opacity",n.defaultScale="opacity";break;case"symbol":e!==!0&&Za(r,x8)?(n.scale=null,n.value=dt(r,tu)):n.scale="symbol",n.defaultScale="symbol";break;default:n.scale=st.has(t)?t:null;break}else if(e===!1)n.scale=null;else if(e!=null&&!st.has(e))throw new Error(`unknown scale: ${e}`);return n}function O8(t,n,e,r,i){const{order:a,reverse:o,reduce:f=!0,limit:u}=i;for(const c in i){if(!st.has(c))continue;let{value:s,order:d=a,reverse:l=o,reduce:h=f,limit:p=u}=xa(i[c]);const g=s==null?void 0:s.startsWith("-");if(g&&(s=s.slice(1)),d=d===void 0?g!==(s==="width"||s==="height")?mh:gh:z8(d),h==null||h===!1)continue;const b=c==="fx"||c==="fy"?q8(n,r[c]):U8(e,c);if(!b)throw new Error(`missing channel for scale: ${c}`);const w=b.value,[y=0,v=1/0]=ue(p)?p:p<0?[p]:[0,p];if(s==null)b.domain=()=>{let m=Array.from(new ta(w));return l&&(m=m.reverse()),(y!==0||v!==1/0)&&(m=m.slice(y,v)),m};else{const m=s==="data"?t:s==="height"?Ic(e,"y1","y2"):s==="width"?Ic(e,"x1","x2"):ff(e,s,s==="y"?"y2":s==="x"?"x2":void 0),M=dh(h===!0?"max":h,m);b.domain=()=>{let x=B1(Be(w),_=>M.reduceIndex(_,m),_=>w[_]);return d&&x.sort(d),l&&x.reverse(),(y!==0||v!==1/0)&&(x=x.slice(y,v)),x.map(Z0)}}}}function U8(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function q8(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let a=0;a<e.length;++a){const o=r[e[a][0]];for(const f of t[a])i[f]=o}return n}function Ic(t,n,e){const r=ff(t,n),i=ff(t,e);return dt(i,(a,o)=>Math.abs(a-r[o]),Float64Array)}function ff(t,n,e){let r=t[n];if(!r&&e!==void 0&&(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function z8(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return gh;case"descending":return mh}throw new Error(`invalid order: ${t}`)}function gh([t,n],[e,r]){return ne(n,r)||ne(t,e)}function mh([t,n],[e,r]){return Jo(n,r)||ne(t,e)}function Lc(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return e.source===null?null:e}}const bh=new Map([["accent",m6],["category10",g6],["dark2",b6],["observable10",y6],["paired",w6],["pastel1",v6],["pastel2",x6],["set1",M6],["set2",$6],["set3",_6],["tableau10",S6]]);function Y8(t){return t!=null&&bh.has(`${t}`.toLowerCase())}const Rc=new Map([...bh,["brbg",sn(bd,yd)],["prgn",sn(wd,vd)],["piyg",sn(xd,Md)],["puor",sn($d,_d)],["rdbu",sn(Zo,Xi)],["rdgy",sn(Sd,Td)],["rdylbu",sn(Ko,Zi)],["rdylgn",sn(Ad,Cd)],["spectral",sn(Ed,Nd)],["burd",Fc(Zo,Xi)],["buylrd",Fc(Ko,Zi)],["blues",gt(n0,e0)],["greens",gt(r0,i0)],["greys",gt(a0,o0)],["oranges",gt(l0,d0)],["purples",gt(f0,u0)],["reds",gt(c0,s0)],["turbo",ln(w0)],["viridis",ln(v0)],["magma",ln(x0)],["inferno",ln(M0)],["plasma",ln($0)],["cividis",ln(h0)],["cubehelix",ln(p0)],["warm",ln(g0)],["cool",ln(m0)],["bugn",gt(kd,Dd)],["bupu",gt(Id,Ld)],["gnbu",gt(Rd,Fd)],["orrd",gt(Pd,Od)],["pubu",gt(zd,Yd)],["pubugn",gt(Ud,qd)],["purd",gt(Bd,Hd)],["rdpu",gt(Wd,Vd)],["ylgn",gt(Zd,Kd)],["ylgnbu",gt(Gd,Xd)],["ylorbr",gt(Qd,Jd)],["ylorrd",gt(jd,t0)],["rainbow",Pc(b0)],["sinebow",Pc(y0)]]);function gt(t,n){return({length:e})=>e===1?[t[3][1]]:e===2?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>9?Ht(n,e):t[e])}function sn(t,n){return({length:e})=>e===2?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>11?Ht(n,e):t[e])}function Fc(t,n){return({length:e})=>e===2?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)),e>11?Ht(r=>n(1-r),e):t[e].slice().reverse())}function ln(t){return({length:n})=>Ht(t,Math.max(2,Math.floor(n)))}function Pc(t){return({length:n})=>Ht(t,Math.floor(n)+1).slice(0,-1)}function yh(t){const n=`${t}`.toLowerCase();if(!Rc.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return Rc.get(n)}function _a(t,n){const e=yh(t),r=typeof e=="function"?e({length:n}):e;return r.length!==n?r.slice(0,n):r}function B8(t,n="greys"){const e=new Set,[r,i]=_a(n,2);for(const a of t)if(a!=null)if(a===!0)e.add(i);else if(a===!1)e.add(r);else return;return[...e]}const Oc=new Map([["brbg",yd],["prgn",vd],["piyg",Md],["puor",_d],["rdbu",Xi],["rdgy",Td],["rdylbu",Zi],["rdylgn",Cd],["spectral",Nd],["burd",t=>Xi(1-t)],["buylrd",t=>Zi(1-t)],["blues",e0],["greens",i0],["greys",o0],["purples",u0],["reds",s0],["oranges",d0],["turbo",w0],["viridis",v0],["magma",x0],["inferno",M0],["plasma",$0],["cividis",h0],["cubehelix",p0],["warm",g0],["cool",m0],["bugn",Dd],["bupu",Ld],["gnbu",Fd],["orrd",Od],["pubugn",qd],["pubu",Yd],["purd",Hd],["rdpu",Vd],["ylgnbu",Xd],["ylgn",Kd],["ylorbr",Jd],["ylorrd",t0],["rainbow",b0],["sinebow",y0]]);function eu(t){const n=`${t}`.toLowerCase();if(!Oc.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return Oc.get(n)}const H8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function W8(t){return t!=null&&H8.has(`${t}`.toLowerCase())}const wh=t=>n=>t(1-n),Ja=[0,1],Uc=new Map([["number",wt],["rgb",Kn],["hsl",$m],["hcl",Tm],["lab",_m]]);function vh(t){const n=`${t}`.toLowerCase();if(!Uc.has(n))throw new Error(`unknown interpolator: ${n}`);return Uc.get(n)}function Vr(t,n,e,{type:r,nice:i,clamp:a,zero:o,domain:f=Mh(t,e),unknown:u,round:c,scheme:s,interval:d,range:l=st.get(t)===Br?ew(e,f):st.get(t)===Hr?rw(e,f):st.get(t)===Wr?Ja:void 0,interpolate:h=st.get(t)===Sn?s==null&&l!==void 0?Kn:eu(s!==void 0?s:r==="cyclical"?"rainbow":"turbo"):c?oa:wt,reverse:p}){if(f=qc(f),d=Yr(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof h!="function"&&(h=vh(h)),p=!!p,l!==void 0){const g=f.length,b=(l=qc(l)).length;if(g!==b){if(h.length===1)throw new Error("invalid piecewise interpolator");h=fa(h,l),l=void 0}}if(h.length===1?(p&&(h=wh(h),p=!1),l===void 0&&(l=Float64Array.from(f,(g,b)=>b/(f.length-1)),l.length===2&&(l=Ja)),n.interpolate((l===Ja?wn:iu)(h))):n.interpolate(h),o){const[g,b]=Nn(f);(g>0||b<0)&&(f=nf(f),(ke(f)||1)===Math.sign(g)?f[0]=0:f[f.length-1]=0)}return p&&(f=Ti(f)),n.domain(f).unknown(u),i&&(n.nice(V8(i,r)),f=n.domain()),l!==void 0&&n.range(l),a&&n.clamp(a),{type:r,domain:f,range:l,scale:n,interpolate:h,interval:d}}function qc(t){return t=fe(t),t.length>=2?t:[t[0],t[0]]}function V8(t,n){return t===!0?void 0:typeof t=="number"?t:a8(t,n)}function G8(t,n,e){return Vr(t,Ff(),n,e)}function X8(t,n,e){return xh(t,n,{...e,exponent:.5})}function xh(t,n,{exponent:e=1,...r}){return Vr(t,Ql().exponent(e),n,{...r,type:"pow"})}function Z8(t,n,{base:e=10,domain:r=iw(n),...i}){return Vr(t,Gl().base(e),n,{...i,domain:r})}function K8(t,n,{constant:e=1,...r}){return Vr(t,Zl().constant(e),n,r)}function Q8(t,n,{range:e,quantiles:r=e===void 0?5:(e=[...e]).length,n:i=r,scheme:a="rdylbu",domain:o=aw(n),unknown:f,interpolate:u,reverse:c}){return e===void 0&&(e=u!==void 0?Ht(u,i):st.get(t)===Sn?_a(a,i):void 0),o.length>0&&(o=Jl(o,e===void 0?{length:i}:e).quantiles()),ru(t,n,{domain:o,range:e,reverse:c,unknown:f})}function J8(t,n,{range:e,n:r=e===void 0?5:(e=[...e]).length,scheme:i="rdylbu",domain:a=Mh(t,n),unknown:o,interpolate:f,reverse:u}){const[c,s]=Nn(a);let d;return e===void 0?(d=_i(c,s,r),d[0]<=c&&d.splice(0,1),d[d.length-1]>=s&&d.pop(),r=d.length+1,e=f!==void 0?Ht(f,r):st.get(t)===Sn?_a(i,r):void 0):(d=Ht(wt(c,s),r+1).slice(1,-1),c instanceof Date&&(d=d.map(l=>new Date(l)))),ke(fe(a))<0&&d.reverse(),ru(t,n,{domain:d,range:e,reverse:u,unknown:o})}function ru(t,n,{domain:e=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:o=a!==void 0?Ht(a,e.length+1):st.get(t)===Sn?_a(i,e.length+1):void 0,reverse:f}){e=fe(e);const u=ke(e);if(!isNaN(u)&&!j8(e,u))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(o=Ti(o)),{type:"threshold",scale:jl(u<0?Ti(e):e,o===void 0?[]:o).unknown(r),domain:e,range:o}}function j8(t,n){for(let e=1,r=t.length,i=t[0];e<r;++e){const a=Tr(i,i=t[e]);if(a!==0&&a!==n)return!1}return!0}function tw(t){return{type:"identity",scale:b8(st.get(t))?Hl():n=>n}}function Sr(t,n=U0){return t.length?[pr(t,({value:e})=>e===void 0?e:pr(e,n)),nn(t,({value:e})=>e===void 0?e:nn(e,n))]:[0,1]}function Mh(t,n){const e=st.get(t);return(e===Br||e===Wr||e===Hr?nw:Sr)(n)}function nw(t){return[0,t.length?nn(t,({value:n})=>n===void 0?n:nn(n,U0)):1]}function ew(t,n){const e=t.find(({radius:o})=>o!==void 0);if(e!==void 0)return[0,e.radius];const r=Si(t,.5,({value:o})=>o===void 0?NaN:Si(o,.25,Bf)),i=n.map(o=>3*Math.sqrt(o/r)),a=30/nn(i);return a<1?i.map(o=>o*a):i}function rw(t,n){const e=mo(t,({value:a})=>a===void 0?NaN:mo(a,Math.abs)),r=n.map(a=>12*a/e),i=60/nn(r);return i<1?r.map(a=>a*i):r}function iw(t){for(const{value:n}of t)if(n!==void 0)for(let e of n){if(e>0)return Sr(t,Bf);if(e<0)return Sr(t,q0)}return[1,10]}function aw(t){const n=[];for(const{value:e}of t)if(e!==void 0)for(const r of e)n.push(r);return n}function iu(t){return(n,e)=>r=>t(n+r*(e-n))}let uf=0,cf;function ow(){const t=uf;return uf=0,cf=void 0,t}function kn(t){t!==cf&&(cf=t,console.warn(t),++uf)}function Sa(t,n,e,r,{type:i,nice:a,clamp:o,domain:f=Sr(r),unknown:u,pivot:c=0,scheme:s,range:d,symmetric:l=!0,interpolate:h=st.get(t)===Sn?s==null&&d!==void 0?Kn:eu(s!==void 0?s:"rdbu"):wt,reverse:p}){c=+c,f=fe(f);let[g,b]=f;if(f.length>2&&kn(`Warning: the diverging ${t} scale domain contains extra elements.`),Tr(g,b)<0&&([g,b]=[b,g],p=!p),g=Math.min(g,c),b=Math.max(b,c),typeof h!="function"&&(h=vh(h)),d!==void 0&&(h=h.length===1?iu(h)(...d):fa(h,d)),p&&(h=wh(h)),l){const w=e.apply(c),y=w-e.apply(g),v=e.apply(b)-w;y<v?g=e.invert(w-v):y>v&&(b=e.invert(w+y))}return n.domain([g,c,b]).unknown(u).interpolator(h),o&&n.clamp(o),a&&n.nice(a),{type:i,domain:[g,b],pivot:c,interpolate:h,scale:n}}function fw(t,n,e){return Sa(t,hd(),lw,n,e)}function uw(t,n,e){return $h(t,n,{...e,exponent:.5})}function $h(t,n,{exponent:e=1,...r}){return Sa(t,md().exponent(e=+e),pw(e),n,{...r,type:"diverging-pow"})}function cw(t,n,{base:e=10,pivot:r=1,domain:i=Sr(n,r<0?q0:Bf),...a}){return Sa(t,pd().base(e=+e),dw,n,{domain:i,pivot:r,...a})}function sw(t,n,{constant:e=1,...r}){return Sa(t,gd().constant(e=+e),gw(e),n,r)}const lw={apply(t){return t},invert(t){return t}},dw={apply:Math.log,invert:Math.exp},hw={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function pw(t){return t===.5?hw:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),t)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/t)}}}function gw(t){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}}function _h(t,n,e,r){return Vr(t,n,e,r)}function mw(t,n,e){return _h(t,l6(),n,e)}function bw(t,n,e){return _h(t,d6(),n,e)}const Gr=Symbol("ordinal");function Sh(t,n,e,{type:r,interval:i,domain:a,range:o,reverse:f,hint:u}){return i=Yr(i,r),a===void 0&&(a=Ah(e,i,t)),(r==="categorical"||r===Gr)&&(r="ordinal"),f&&(a=Ti(a)),a=n.domain(a).domain(),o!==void 0&&(typeof o=="function"&&(o=o(a)),n.range(o)),{type:r,domain:a,range:o,scale:n,hint:u,interval:i}}function yw(t,n,{type:e,interval:r,domain:i,range:a,scheme:o,unknown:f,...u}){r=Yr(r,e),i===void 0&&(i=Ah(n,r,t));let c;if(st.get(t)===$a)c=xw(n),a=a===void 0?Mw(c):dt(a,tu);else if(st.get(t)===Sn&&(a===void 0&&(e==="ordinal"||e===Gr)&&(a=B8(i,o),a!==void 0&&(o=void 0)),o===void 0&&a===void 0&&(o=e==="ordinal"?"turbo":"observable10"),o!==void 0))if(a!==void 0){const s=eu(o),d=a[0],l=a[1]-a[0];a=({length:h})=>Ht(p=>s(d+l*p),h)}else a=yh(o);if(f===Vo)throw new Error(`implicit unknown on ${t} scale is not supported`);return Sh(t,Rf().unknown(f),n,{...u,type:e,domain:i,range:a,hint:c})}function ww(t,n,{align:e=.5,padding:r=.5,...i}){return Th(H2().align(e).padding(r),n,i,t)}function vw(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=t==="fx"||t==="fy"?0:r,...o}){return Th(da().align(e).paddingInner(i).paddingOuter(a),n,o,t)}function Th(t,n,e,r){let{round:i}=e;return i!==void 0&&t.round(i=!!i),t=Sh(r,t,n,e),t.round=i,t}function Ah(t,n,e){const r=new ta;for(const{value:i,domain:a}of t){if(a!==void 0)return a();if(i!==void 0)for(const o of i)r.add(o)}if(n!==void 0){const[i,a]=Nn(r).map(n.floor,n);return n.range(i,n.offset(a))}if(r.size>1e4&&st.get(e)===Jt)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return vs(r,ne)}function zc(t,n){let e;for(const{hint:r}of t){const i=r==null?void 0:r[n];if(i!==void 0){if(e===void 0)e=i;else if(e!==i)return}}return e}function xw(t){return{fill:zc(t,"fill"),stroke:zc(t,"stroke")}}function Mw(t){return St(t.fill)?F6:R6}function sf(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:a=e,insetLeft:o=e,round:f,nice:u,clamp:c,zero:s,align:d,padding:l,projection:h,facet:{label:p=n}={},...g}={}){const b={};for(const[w,y]of t){const v=g[w],m=Aw(w,y,{round:st.get(w)===Jt?f:void 0,nice:u,clamp:c,zero:s,align:d,padding:l,projection:h,...v});if(m){let{label:M=w==="fx"||w==="fy"?p:n,percent:x,transform:_,inset:S,insetTop:A=S!==void 0?S:w==="y"?r:0,insetRight:N=S!==void 0?S:w==="x"?i:0,insetBottom:$=S!==void 0?S:w==="y"?a:0,insetLeft:D=S!==void 0?S:w==="x"?o:0}=v||{};if(_==null)_=void 0;else if(typeof _!="function")throw new Error("invalid scale transform; not a function");m.percent=!!x,m.label=M===void 0?_w(y,m):M,m.transform=_,w==="x"||w==="fx"?(m.insetLeft=+D,m.insetRight=+N):(w==="y"||w==="fy")&&(m.insetTop=+A,m.insetBottom=+$),b[w]=m}}return b}function Yc(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:a,type:o,interval:f,label:u}=i;n[r]=Dw(i),e[r]=a,a.type=o,f!=null&&(a.interval=f),u!=null&&(a.label=u)}return e}function $w(t,n){const{x:e,y:r,fx:i,fy:a}=t,o=i||a?au(n):n;i&&Bc(i,o),a&&Hc(a,o);const f=i||a?Ch(t,n):n;e&&Bc(e,f),r&&Hc(r,f)}function _w(t=[],n){let e;for(const{label:r}of t)if(r!==void 0){if(e===void 0)e=r;else if(e!==r)return}if(e!==void 0)return!ce(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function Sw(t){return Math.sign(ke(t.domain()))*Math.sign(ke(t.range()))}function au(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:a,height:o,facet:{marginTop:f,marginRight:u,marginBottom:c,marginLeft:s}}=t;return{marginTop:Math.max(n,f),marginRight:Math.max(e,u),marginBottom:Math.max(r,c),marginLeft:Math.max(i,s),width:a,height:o}}function Ch({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:f,height:u}=au(e);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:t?t.scale.bandwidth()+o+i:f,height:n?n.scale.bandwidth()+r+a:u,facet:{width:f,height:u}}}function Bc(t,n){if(t.range===void 0){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:a=0,marginRight:o=0}=n,f=a+e,u=i-o-r;t.range=[f,Math.max(f,u)],ce(t)||(t.range=Nh(t)),t.scale.range(t.range)}Eh(t)}function Hc(t,n){if(t.range===void 0){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:a=0,marginBottom:o=0}=n,f=a+e,u=i-o-r;t.range=[Math.max(f,u),f],ce(t)?t.range.reverse():t.range=Nh(t),t.scale.range(t.range)}Eh(t)}function Eh(t){t.round===void 0&&Ew(t)&&Tw(t)<=30&&t.scale.round(!0)}function Tw({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,a=t.paddingOuter?t.paddingOuter():t.padding(),o=n-i,f=Math.abs(r-e)/Math.max(1,o+a*2);return(f-Math.floor(f))*o}function Nh(t){const n=t.scale.domain().length+kh(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},(i,a)=>e+a/(n-1)*(r-e))}function Aw(t,n=[],e={}){const r=Cw(t,n,e);if(e.type===void 0&&e.domain===void 0&&e.range===void 0&&e.interval==null&&t!=="fx"&&t!=="fy"&&ce({type:r})){const i=n.map(({value:a})=>a).filter(a=>a!==void 0);i.some(qt)?kn(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${ge(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${ge(r)}".`):i.some(f8)?kn(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${ge(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${ge(r)}".`):i.some(u8)&&kn(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${ge(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${ge(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=oi(n,e,Ec);break;case"identity":switch(st.get(t)){case Jt:e=oi(n,e,Ec);break;case $a:e=oi(n,e,Nw);break}break;case"utc":case"time":e=oi(n,e,K0);break}switch(r){case"diverging":return fw(t,n,e);case"diverging-sqrt":return uw(t,n,e);case"diverging-pow":return $h(t,n,e);case"diverging-log":return cw(t,n,e);case"diverging-symlog":return sw(t,n,e);case"categorical":case"ordinal":case Gr:return yw(t,n,e);case"cyclical":case"sequential":case"linear":return G8(t,n,e);case"sqrt":return X8(t,n,e);case"threshold":return ru(t,n,e);case"quantile":return Q8(t,n,e);case"quantize":return J8(t,n,e);case"pow":return xh(t,n,e);case"log":return Z8(t,n,e);case"symlog":return K8(t,n,e);case"utc":return bw(t,n,e);case"time":return mw(t,n,e);case"point":return ww(t,n,e);case"band":return vw(t,n,e);case"identity":return tw(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function ge(t){return typeof t=="symbol"?t.description:t}function Wc(t){return typeof t=="string"?`${t}`.toLowerCase():t}const Vc={toString:()=>"projection"};function Cw(t,n,{type:e,domain:r,range:i,scheme:a,pivot:o,projection:f}){var s;if(e=Wc(e),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(e=Vc);for(const d of n){const l=Wc(d.type);if(l!==void 0){if(e===void 0)e=l;else if(e!==l)throw new Error(`scale incompatible with channel: ${e} !== ${l}`)}}if(e===Vc)return;if(e!==void 0)return e;if(r===void 0&&!n.some(({value:d})=>d!==void 0))return;const u=st.get(t);if(u===Br)return"sqrt";if(u===Wr||u===Hr)return"linear";if(u===$a)return"ordinal";const c=(s=r??i)==null?void 0:s.length;if(c<2||c>2)return ja(u);if(r!==void 0){if(Nc(r))return ja(u);if(qt(r))return"utc"}else{const d=n.map(({value:l})=>l).filter(l=>l!==void 0);if(d.some(Nc))return ja(u);if(d.some(qt))return"utc"}if(u===Sn){if(o!=null||W8(a))return"diverging";if(Y8(a))return"categorical"}return"linear"}function ja(t){switch(t){case Jt:return"point";case Sn:return Gr;default:return"ordinal"}}function ce({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===Gr}function kh({type:t}){return t==="threshold"}function Ew({type:t}){return t==="point"||t==="band"}function Re(t){if(t===void 0)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function oi(t,{domain:n,...e},r){var i;for(const a of t)a.value!==void 0&&(n===void 0&&(n=(i=a.value)==null?void 0:i.domain),a.value=r(a.value));return{domain:n===void 0?n:r(n),...e}}function Nw(t){return dt(t,tu)}function kw(t){return n=>{if(!st.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}function Dw({scale:t,type:n,domain:e,range:r,interpolate:i,interval:a,transform:o,percent:f,pivot:u}){if(n==="identity")return{type:"identity",apply:s=>s,invert:s=>s};const c=t.unknown?t.unknown():void 0;return{type:n,domain:nf(e),...r!==void 0&&{range:nf(r)},...o!==void 0&&{transform:o},...f&&{percent:f},...c!==void 0&&{unknown:c},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:s=>t(s),...t.invert&&{invert:s=>t.invert(s)}}}function Iw(t,n){const{fx:e,fy:r}=sf(t,n),i=e==null?void 0:e.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?z1(i,a).map(([o,f],u)=>({x:o,y:f,i:u})):i?i.map((o,f)=>({x:o,i:f})):a?a.map((o,f)=>({y:o,i:f})):void 0}function Lw(t,{x:n,y:e}){return n&&(n=lf(n)),e&&(e=lf(e)),t.filter(n&&e?r=>n.has(r.x)&&e.has(r.y):n?r=>n.has(r.x):r=>e.has(r.y)).sort(n&&e?(r,i)=>n.get(r.x)-n.get(i.x)||e.get(r.y)-e.get(i.y):n?(r,i)=>n.get(r.x)-n.get(i.x):(r,i)=>e.get(r.y)-e.get(i.y))}function ou(t,{fx:n,fy:e}){const r=Be(t),i=n==null?void 0:n.value,a=e==null?void 0:e.value;return n&&e?pi(r,o=>(o.fx=i[o[0]],o.fy=a[o[0]],o),o=>i[o],o=>a[o]):n?pi(r,o=>(o.fx=i[o[0]],o),o=>i[o]):pi(r,o=>(o.fy=a[o[0]],o),o=>a[o])}function Rw(t,n,{marginTop:e,marginLeft:r}){const i=t?({x:o})=>t(o)-r:()=>0,a=n?({y:o})=>n(o)-e:()=>0;return function(o){this.tagName==="svg"?(this.setAttribute("x",i(o)),this.setAttribute("y",a(o))):this.setAttribute("transform",`translate(${i(o)},${a(o)})`)}}function Fw(t){const n=[],e=new Uint32Array(na(t,r=>r.length));for(const r of t){let i=0;for(const a of t)r!==a&&(e.set(a,i),i+=a.length);n.push(e.slice(0,i))}return n}const Pw=new Map([["top",to],["right",ro],["bottom",no],["left",eo],["top-left",fi(to,eo)],["top-right",fi(to,ro)],["bottom-left",fi(no,eo)],["bottom-right",fi(no,ro)],["top-empty",qw],["right-empty",Bw],["bottom-empty",zw],["left-empty",Yw],["empty",Hw]]);function Ow(t){if(t==null)return null;const n=Pw.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}const Gc=new WeakMap;function lf(t){let n=Gc.get(t);return n||Gc.set(t,n=new hr(dt(t,(e,r)=>[e,r]))),n}function On(t,n){return lf(t).get(n)}function Uw(t,n,e){return n=vn(n),e=vn(e),t.find(r=>Object.is(vn(r.x),n)&&Object.is(vn(r.y),e))}function Ta(t,n,e){var r;return(r=Uw(t,n,e))==null?void 0:r.empty}function to(t,{y:n},{y:e}){return n?On(n,e)===0:!0}function no(t,{y:n},{y:e}){return n?On(n,e)===n.length-1:!0}function eo(t,{x:n},{x:e}){return n?On(n,e)===0:!0}function ro(t,{x:n},{x:e}){return n?On(n,e)===n.length-1:!0}function qw(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=On(n,r);if(a>0)return Ta(t,e,n[a-1])}function zw(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=On(n,r);if(a<n.length-1)return Ta(t,e,n[a+1])}function Yw(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=On(n,e);if(a>0)return Ta(t,n[a-1],r)}function Bw(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=On(n,e);if(a<n.length-1)return Ta(t,n[a+1],r)}function Hw(t,n,{empty:e}){return e}function fi(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function io(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map(({x:i,y:a})=>{var o;return((o=r.get(i))==null?void 0:o.get(a))??[]}):n?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}const Dh=Math.PI,dn=2*Dh,ao=.618;function Ww({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:a=n}={},o){if(t==null)return;if(typeof t.stream=="function")return t;let f,u,c="frame";if(Pn(t)){let M;if({type:t,domain:u,inset:M,insetTop:e=M!==void 0?M:e,insetRight:r=M!==void 0?M:r,insetBottom:i=M!==void 0?M:i,insetLeft:a=M!==void 0?M:a,clip:c=c,...f}=t,t==null)return}typeof t!="function"&&({type:t}=df(t));const{width:s,height:d,marginLeft:l,marginRight:h,marginTop:p,marginBottom:g}=o,b=s-l-h-a-r,w=d-p-g-e-i;if(t=t==null?void 0:t({width:b,height:w,clip:c,...f}),t==null)return;c=Vw(c,l,p,s-h,d-g);let y=l+a,v=p+e,m;if(u!=null){const[[M,x],[_,S]]=kf(t).bounds(u),A=Math.min(b/(_-M),w/(S-x));A>0?(y-=(A*(M+_)-b)/2,v-=(A*(x+S)-w)/2,m=Bi({point(N,$){this.stream.point(N*A+y,$*A+v)}})):kn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return m??(m=y===0&&v===0?Ih():Bi({point(M,x){this.stream.point(M+y,x+v)}})),{stream:M=>t.stream(m.stream(c(M)))}}function df(t){switch(`${t}`.toLowerCase()){case"albers-usa":return zt(E2,.7463,.4673);case"albers":return ui(Dl,.7463,.4673);case"azimuthal-equal-area":return zt(N2,4,4);case"azimuthal-equidistant":return zt(k2,dn,dn);case"conic-conformal":return ui(L2,dn,dn);case"conic-equal-area":return ui(Hi,6.1702,2.9781);case"conic-equidistant":return ui(P2,7.312,3.6282);case"equal-earth":return zt(U2,5.4133,2.6347);case"equirectangular":return zt(R2,dn,Dh);case"gnomonic":return zt(q2,3.4641,3.4641);case"identity":return{type:Ih};case"reflect-y":return{type:Gw};case"mercator":return zt(D2,dn,dn);case"orthographic":return zt(z2,2,2);case"stereographic":return zt(Y2,2,2);case"transverse-mercator":return zt(B2,dn,dn);default:throw new Error(`unknown projection type: ${t}`)}}function Vw(t,n,e,r,i){if(t===!1||t==null||typeof t=="number")return a=>a;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return ml(n,e,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function zt(t,n,e){return{type:({width:r,height:i,rotate:a,precision:o=.15,clip:f})=>{var c,s,d;const u=t();return o!=null&&((c=u.precision)==null||c.call(u,o)),a!=null&&((s=u.rotate)==null||s.call(u,a)),typeof f=="number"&&((d=u.clipAngle)==null||d.call(u,f)),r!=null&&(u.scale(Math.min(r/n,i/e)),u.translate([r/2,i/2])),u},aspectRatio:e/n}}function ui(t,n,e){const{type:r,aspectRatio:i}=zt(t,n,e);return{type:a=>{const{parallels:o,domain:f,width:u,height:c}=a,s=r(a);return o!=null&&(s.parallels(o),f===void 0&&u!=null&&s.fitSize([u,c],{type:"Sphere"})),s},aspectRatio:i}}const Ih=wn({stream:t=>t}),Gw=wn(Bi({point(t,n){this.stream.point(t,-n)}}));function Xw(t,n,e,r){const i=e[t],a=e[n],o=i.length,f=e[t]=new Float64Array(o).fill(NaN),u=e[n]=new Float64Array(o).fill(NaN);let c;const s=r.stream({point(d,l){f[c]=d,u[c]=l}});for(c=0;c<o;++c)s.point(i[c],a[c])}function Zw({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(Pn(t)&&(t=t.type),t!=null)}function Kw(t){if(typeof(t==null?void 0:t.stream)=="function")return ao;if(Pn(t)){let n,e;if({domain:n,type:t,...e}=t,n!=null&&t!=null){const r=typeof t=="string"?df(t).type:t,[[i,a],[o,f]]=kf(r({...e,width:100,height:100})).bounds(n),u=(f-a)/(o-i);return u&&isFinite(u)?u<.2?.2:u>5?5:u:ao}}if(t!=null){if(typeof t!="function"){const{aspectRatio:n}=df(t);if(n)return n}return ao}}function Qw(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},a={point(o,f){n.push(o),e.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const o of t.value)zn(o,a);return[r,i]}function Jw({x:t,y:n}){if(t||n)return t??(t=e=>e),n??(n=e=>e),Bi({point(e,r){this.stream.point(t(e),n(r))}})}function fu(t={}){const{document:n=typeof window<"u"?window.document:void 0,clip:e}=t;return{document:n,clip:ah(e)}}function _t(t,{document:n}){return Bn(ra(t).call(n.documentElement))}const hf=Symbol("unset");function uu(t){return(t.length===1?jw:t5)(t)}function jw(t){let n,e=hf;return r=>(Object.is(e,r)||(e=r,n=t(r)),n)}function t5(t){let n,e;return(...r)=>(((e==null?void 0:e.length)!==r.length||e.some((i,a)=>!Object.is(i,r[a])))&&(e=r,n=t(...r)),n)}const n5=uu(t=>new Intl.NumberFormat(t));uu((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{month:n}}));uu((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{weekday:n}}));function e5(t="en-US"){const n=n5(t);return e=>e!=null&&!isNaN(e)?n.format(e):void 0}function r5(t){return P6(t,"Invalid Date")}function i5(t="en-US"){const n=e5(t);return e=>(e instanceof Date?r5:typeof e=="number"?n:vt)(e)}const Fe=i5(),Nt=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let a5=0;function Lh(){return`plot-clip-${++a5}`}function o5(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:o,fill:f,fillOpacity:u,stroke:c,strokeWidth:s,strokeOpacity:d,strokeLinejoin:l,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:b,opacity:w,mixBlendMode:y,imageFilter:v,paintOrder:m,pointerEvents:M,shapeRendering:x,channels:_},{ariaLabel:S,fill:A="currentColor",fillOpacity:N,stroke:$="none",strokeOpacity:D,strokeWidth:F,strokeLinecap:L,strokeLinejoin:T,strokeMiterlimit:P,paintOrder:k}){A===null&&(f=null,u=null),$===null&&(c=null,d=null),St(A)?!St($)&&(!St(f)||_!=null&&_.fill)&&($="none"):St($)&&(!St(c)||_!=null&&_.stroke)&&(A="none");const[B,W]=ee(f,A),[I,O]=Et(u,N),[z,R]=ee(c,$),[X,nt]=Et(d,D),[J,q]=Et(w);$r(R)||(s===void 0&&(s=F),h===void 0&&(h=L),l===void 0&&(l=T),p===void 0&&!d8(l)&&(p=P),!$r(W)&&m===void 0&&(m=k));const[H,E]=Et(s);return A!==null&&(t.fill=yt(W,"currentColor"),t.fillOpacity=je(O,1)),$!==null&&(t.stroke=yt(R,"none"),t.strokeWidth=je(E,1),t.strokeOpacity=je(nt,1),t.strokeLinejoin=yt(l,"miter"),t.strokeLinecap=yt(h,"butt"),t.strokeMiterlimit=je(p,4),t.strokeDasharray=yt(g,"none"),t.strokeDashoffset=yt(b,"0")),t.target=vt(o),t.ariaLabel=vt(S),t.ariaDescription=vt(i),t.ariaHidden=vt(a),t.opacity=je(q,1),t.mixBlendMode=yt(y,"normal"),t.imageFilter=yt(v,"none"),t.paintOrder=yt(m,"normal"),t.pointerEvents=yt(M,"auto"),t.shapeRendering=yt(x,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:B,scale:"auto",optional:!0},fillOpacity:{value:I,scale:"auto",optional:!0},stroke:{value:z,scale:"auto",optional:!0},strokeOpacity:{value:X,scale:"auto",optional:!0},strokeWidth:{value:H,optional:!0},opacity:{value:J,scale:"auto",optional:!0}}}function f5(t,n){n&&t.filter(e=>Yf(n[e])).append("title").call(c5,n)}function u5(t,n){n&&t.filter(([e])=>Yf(n[e])).append("title").call(s5,n)}function c5(t,n){n&&t.text(e=>Fe(n[e]))}function s5(t,n){n&&t.text(([e])=>Fe(n[e]))}function re(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:a,fillOpacity:o,stroke:f,strokeOpacity:u,strokeWidth:c,opacity:s,href:d}){r&&G(t,"aria-label",l=>r[l]),a&&G(t,"fill",l=>a[l]),o&&G(t,"fill-opacity",l=>o[l]),f&&G(t,"stroke",l=>f[l]),u&&G(t,"stroke-opacity",l=>u[l]),c&&G(t,"stroke-width",l=>c[l]),s&&G(t,"opacity",l=>s[l]),d&&Rh(t,l=>d[l],n),e||f5(t,i)}function _7(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:a,fillOpacity:o,stroke:f,strokeOpacity:u,strokeWidth:c,opacity:s,href:d}){r&&G(t,"aria-label",([l])=>r[l]),a&&G(t,"fill",([l])=>a[l]),o&&G(t,"fill-opacity",([l])=>o[l]),f&&G(t,"stroke",([l])=>f[l]),u&&G(t,"stroke-opacity",([l])=>u[l]),c&&G(t,"stroke-width",([l])=>c[l]),s&&G(t,"opacity",([l])=>s[l]),d&&Rh(t,([l])=>d[l],n),e||u5(t,i)}function l5({ariaLabel:t,title:n,fill:e,fillOpacity:r,stroke:i,strokeOpacity:a,strokeWidth:o,opacity:f,href:u},{tip:c}){return[t,c?void 0:n,e,r,i,a,o,f,u].filter(s=>s!==void 0)}function d5(t,n,e){const r=ws(t,i=>n[i]);return e===void 0&&r.size>1+t.length>>1&&kn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*S7(t,n,e,r){const{z:i}=e,{z:a}=r,o=l5(r,e),f=[...n,...o];for(const u of a?d5(t,a,i):[t]){let c,s;t:for(const d of u){for(const l of f)if(!In(l[d])){s&&s.push(-1);continue t}if(c===void 0){s&&(yield s),c=o.map(l=>vn(l[d])),s=[d];continue}s.push(d);for(let l=0;l<o.length;++l)if(vn(o[l][d])!==c[l]){yield s,c=o.map(p=>vn(p[d])),s=[d];continue t}}s&&(yield s)}}function h5(t,n,e,r){let i;const{clip:a=r.clip}=n;a==="frame"?(t=_t("svg:g",r).each(function(){this.appendChild(t.node()),t.node=()=>this}),i=g5(r,e)):a&&(i=b5(a,r)),G(t,"aria-label",n.ariaLabel),G(t,"aria-description",n.ariaDescription),G(t,"aria-hidden",n.ariaHidden),G(t,"clip-path",i)}function p5(t){const n=new WeakMap;return(e,r)=>{let i=n.get(e);if(!i){const a=Lh();Bn(e.ownerSVGElement).append("clipPath").attr("id",a).call(t,e,r),n.set(e,i=`url(#${a})`)}return i}}const g5=p5((t,n,e)=>{const{width:r,height:i,marginLeft:a,marginRight:o,marginTop:f,marginBottom:u}=e;t.append("rect").attr("x",a).attr("y",f).attr("width",r-o-a).attr("height",i-f-u)}),Xc=new WeakMap,m5={type:"Sphere"};function b5(t,n){let e,r;if((e=Xc.get(n))||Xc.set(n,e=new WeakMap),t.type==="Sphere"&&(t=m5),!(r=e.get(t))){const i=Lh();Bn(n.ownerSVGElement).append("clipPath").attr("id",i).append("path").attr("d",n.path()(t)),e.set(t,r=`url(#${i})`)}return r}function se(t,n,e,r){h5(t,n,e,r),G(t,"class",n.className),G(t,"fill",n.fill),G(t,"fill-opacity",n.fillOpacity),G(t,"stroke",n.stroke),G(t,"stroke-width",n.strokeWidth),G(t,"stroke-opacity",n.strokeOpacity),G(t,"stroke-linejoin",n.strokeLinejoin),G(t,"stroke-linecap",n.strokeLinecap),G(t,"stroke-miterlimit",n.strokeMiterlimit),G(t,"stroke-dasharray",n.strokeDasharray),G(t,"stroke-dashoffset",n.strokeDashoffset),G(t,"shape-rendering",n.shapeRendering),G(t,"filter",n.imageFilter),G(t,"paint-order",n.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=n;G(t,"pointer-events",i)}function Ln(t,n){y5(t,"mix-blend-mode",n.mixBlendMode),G(t,"opacity",n.opacity)}function Rh(t,n,e){t.each(function(r){const i=n(r);if(i!=null){const a=this.ownerDocument.createElementNS(Me.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(Me.xlink,"href",i),e!=null&&a.setAttribute("target",e),this.parentNode.insertBefore(a,this).appendChild(this)}})}function G(t,n,e){e!=null&&t.attr(n,e)}function y5(t,n,e){e!=null&&t.style(n,e)}function le(t,n,{x:e,y:r},i=Nt,a=Nt){i+=n.dx,a+=n.dy,e!=null&&e.bandwidth&&(i+=e.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&t.attr("transform",`translate(${i},${a})`)}function yt(t,n){if((t=vt(t))!==n)return t}function je(t,n){if((t=Mt(t))!==n)return t}const w5=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function cu(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!w5.test(t))throw new Error(`invalid class name: ${t}`);return t}function su(t,n){if(typeof n=="string")t.property("style",n);else if(n!=null)for(const e of t)Object.assign(e.style,n)}function Aa({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:a,marginLeft:o}){return[/left$/.test(t)?o:/right$/.test(t)?n-i:(o+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-a:(r+e-a)/2]}class un{constructor(n,e={},r={},i){const{facet:a="auto",facetAnchor:o,fx:f,fy:u,sort:c,dx:s=0,dy:d=0,margin:l=0,marginTop:h=l,marginRight:p=l,marginBottom:g=l,marginLeft:b=l,className:w,clip:y=i==null?void 0:i.clip,channels:v,tip:m,render:M}=r;if(this.data=n,this.sort=Ie(c)?c:null,this.initializer=Le(r).initializer,this.transform=this.initializer?r.transform:ch(r).transform,a===null||a===!1?this.facet=null:(this.facet=Xt(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=n===xi&&typeof f=="string"?[f]:f,this.fy=n===xi&&typeof u=="string"?[u]:u),this.facetAnchor=Ow(o),e=ih(e),v!==void 0&&(e={...v5(v),...e}),i!==void 0&&(e={...o5(this,r,i),...e}),this.channels=Object.fromEntries(Object.entries(e).map(([x,_])=>{if(va(_.value)){const{value:S,label:A=_.label,scale:N=_.scale}=_.value;_={..._,label:A,scale:N,value:S}}if(n===xi&&typeof _.value=="string"){const{value:S}=_;_={..._,value:[S]}}return[x,_]}).filter(([x,{value:_,optional:S}])=>{if(_!=null)return!0;if(S)return!1;throw new Error(`missing channel value: ${x}`)})),this.dx=+s,this.dy=+d,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+b,this.clip=ah(y),this.tip=x5(m),this.className=vt(w),this.facet==="super"){if(f||u)throw new Error("super-faceting cannot use fx or fy");for(const x in this.channels){const{scale:_}=e[x];if(!(_!=="x"&&_!=="y"))throw new Error("super-faceting cannot use x or y")}}M!=null&&(this.render=Ph(M,this.render))}initialize(n,e,r){let i=De(this.data);n===void 0&&i!=null&&(n=[Be(i)]);const a=n;this.transform!=null&&({facets:n,data:i}=this.transform(i,n,r),i=De(i)),n!==void 0&&(n.original=a);const o=F8(this.channels,i);return this.sort!=null&&O8(i,n,o,e,this.sort),{data:i,facets:n,channels:o}}filter(n,e,r){for(const i in e){const{filter:a=In}=e[i];if(a!==null){const o=r[i];n=n.filter(f=>a(o[f]))}}return n}project(n,e,r){for(const i in n)if(n[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in n&&n[a].scale==="y"&&Xw(i,a,e,r.projection)}}scale(n,e,r){const i=P8(n,e);return r.projection&&this.project(n,i,r),i}}function Fh(...t){return t.plot=un.prototype.plot,t}function Ph(t,n){if(t==null)return n===null?void 0:n;if(n==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof n!="function")throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,a,o,f){return t.call(this,e,r,i,a,o,(u,c,s,d,l)=>n.call(this,u,c,s,d,l,f))}}function v5(t){return Object.fromEntries(Object.entries(ih(t)).map(([n,e])=>(e=typeof e=="string"?{value:e,label:n}:xa(e),e.filter===void 0&&e.scale==null&&(e={...e,filter:null}),[n,e])))}function x5(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?Xt(t,"tip",["x","y","xy"]):t}function Oh(t,n){return(t==null?void 0:t.tip)===!0?{...t,tip:n}:Pn(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:n}}:t}function M5(t,n,e={}){let r=.5-Nt,i=.5+Nt,a=.5+Nt,o=.5-Nt;for(const{marginTop:g,marginRight:b,marginBottom:w,marginLeft:y}of n)g>r&&(r=g),b>i&&(i=b),w>a&&(a=w),y>o&&(o=y);let{margin:f,marginTop:u=f!==void 0?f:r,marginRight:c=f!==void 0?f:i,marginBottom:s=f!==void 0?f:a,marginLeft:d=f!==void 0?f:o}=e;u=+u,c=+c,s=+s,d=+d;let{width:l=640,height:h=$5(t,e,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:o})+Math.max(0,u-r+s-a)}=e;l=+l,h=+h;const p={width:l,height:h,marginTop:u,marginRight:c,marginBottom:s,marginLeft:d};if(t.fx||t.fy){let{margin:g,marginTop:b=g!==void 0?g:u,marginRight:w=g!==void 0?g:c,marginBottom:y=g!==void 0?g:s,marginLeft:v=g!==void 0?g:d}=e.facet??{};b=+b,w=+w,y=+y,v=+v,p.facet={marginTop:b,marginRight:w,marginBottom:y,marginLeft:v}}return p}function $5({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:a},{width:o,marginTopDefault:f,marginRightDefault:u,marginBottomDefault:c,marginLeftDefault:s}){const d=e&&e.scale.domain().length||1,l=Kw(i);if(l){const p=r?r.scale.domain().length:1,g=(1.1*d-.1)/(1.1*p-.1)*l,b=Math.max(.1,Math.min(10,g));return Math.round((o-s-u)*b+f+c)}const h=n?ce(n)?n.scale.domain().length||1:Math.max(7,17/d):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const p=Zc("y",n)/(Zc("x",t)*a),g=r?r.scale.bandwidth():1,b=e?e.scale.bandwidth():1,w=g*(o-s-u)-t.insetLeft-t.insetRight;return(p*w+n.insetTop+n.insetBottom)/b+f+c}return!!(n||e)*Math.max(1,Math.min(60,h*d))*20+!!r*30+60}function Zc(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=n.scale.exponent();i=u=>Math.pow(u,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[a,o]=Nn(r);return Math.abs(i(o)-i(a))}const Kc=new WeakMap;function lu(t,n,{x:e,y:r,px:i,py:a,maxRadius:o=40,channels:f,render:u,...c}={}){return o=+o,i!=null&&(e??(e=null),f={...f,px:{value:i,scale:"x"}}),a!=null&&(r??(r=null),f={...f,py:{value:a,scale:"y"}}),{x:e,y:r,channels:f,...c,render:Ph(function(s,d,l,h,p,g){p={...p,pointerSticky:!1};const b=p.ownerSVGElement,{data:w}=p.getMarkState(this);let y=Kc.get(b);y||Kc.set(b,y={sticky:!1,roots:[],renders:[]});let v=y.renders.push(R)-1;const{x:m,y:M,fx:x,fy:_}=d;let S=x?x(s.fx)-h.marginLeft:0,A=_?_(s.fy)-h.marginTop:0;m!=null&&m.bandwidth&&(S+=m.bandwidth()/2),M!=null&&M.bandwidth&&(A+=M.bandwidth()/2);const N=s.fi!=null;let $;if(N){let q=y.facetStates;q||(y.facetStates=q=new Map),$=q.get(this),$||q.set(this,$=new Map)}const[D,F]=Aa(this,h),{px:L,py:T}=l,P=L?q=>L[q]:Uh(l,D),k=T?q=>T[q]:qh(l,F);let B,W,I,O;function z(q,H){if(N)if(O&&(O=cancelAnimationFrame(O)),q==null)$.delete(s.fi);else{$.set(s.fi,H),O=requestAnimationFrame(()=>{O=null;for(const[E,U]of $)if(U<H||U===H&&E<s.fi){q=null;break}R(q)});return}R(q)}function R(q){if(B===q&&I===y.sticky)return;B=q,I=p.pointerSticky=y.sticky;const H=B==null?[]:[B];N&&(H.fx=s.fx,H.fy=s.fy,H.fi=s.fi);const E=g(H,d,l,h,p);if(W){if(N){const U=W.parentNode,Y=W.getAttribute("transform"),C=E.getAttribute("transform");Y?E.setAttribute("transform",Y):E.removeAttribute("transform"),C?U.setAttribute("transform",C):U.removeAttribute("transform"),E.removeAttribute("aria-label"),E.removeAttribute("aria-description"),E.removeAttribute("aria-hidden")}W.replaceWith(E)}if(y.roots[v]=W=E,!(B==null&&($==null?void 0:$.size)>1)){const U=B==null?null:zr(w)?w[B]:w.get(B);p.dispatchValue(U)}return E}function X(q){if(y.sticky||q.pointerType==="mouse"&&q.buttons===1)return;let[H,E]=Wg(q);H-=S,E-=A;const U=H<h.marginLeft||H>h.width-h.marginRight?1:t,Y=E<h.marginTop||E>h.height-h.marginBottom?1:n;let C=null,at=o*o;for(const V of s){const ft=U*(P(V)-H),lt=Y*(k(V)-E),Ct=ft*ft+lt*lt;Ct<=at&&(C=V,at=Ct)}if(C!=null&&(t!==1||n!==1)){const V=P(C)-H,ft=k(C)-E;at=V*V+ft*ft}z(C,at)}function nt(q){q.pointerType==="mouse"&&B!=null&&(y.sticky&&y.roots.some(H=>H==null?void 0:H.contains(q.target))||(y.sticky?(y.sticky=!1,y.renders.forEach(H=>H(null))):(y.sticky=!0,R(B)),q.stopImmediatePropagation()))}function J(q){q.pointerType==="mouse"&&(y.sticky||z(null))}return b.addEventListener("pointerenter",X),b.addEventListener("pointermove",X),b.addEventListener("pointerdown",nt),b.addEventListener("pointerleave",J),R(null)},u)}}function _5(t){return lu(1,1,t)}function S5(t){return lu(1,.01,t)}function Qc(t){return lu(.01,1,t)}function Uh({x1:t,x2:n,x:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function qh({y1:t,y2:n,y:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function zh(t){return ce(t)&&t.interval===void 0?void 0:"tabular-nums"}function T5(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:o=18,marginRight:f=0,marginBottom:u=16+r,marginLeft:c=0,style:s,ticks:d=(i-c-f)/64,tickFormat:l,fontVariant:h=zh(t),round:p=!0,opacity:g,className:b}=n;const w=fu(n);b=cu(b),g=Et(g)[1],l===null&&(l=()=>null);const y=_t("svg",w).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(D=>D.append("style").text(`:where(.${b}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${b}-ramp text) {
  white-space: pre;
}`)).call(su,s);let v=D=>D.selectAll(".tick line").attr("y1",o+u-a),m;const M=p?(D,F)=>D.rangeRound(F):(D,F)=>D.range(F),{type:x,domain:_,range:S,interpolate:A,scale:N,pivot:$}=t;if(A){const D=S===void 0?A:fa(A.length===1?iu(A):A,S);m=M(N.copy(),Ht(wt(c,i-f),Math.min(_.length+($!==void 0),S===void 0?1/0:S.length)));const F=256,L=w.document.createElement("canvas");L.width=F,L.height=1;const T=L.getContext("2d");for(let P=0,k=F-1;P<F;++P)T.fillStyle=D(P/k),T.fillRect(P,0,1,1);y.append("image").attr("opacity",g).attr("x",c).attr("y",o).attr("width",i-c-f).attr("height",a-o-u).attr("preserveAspectRatio","none").attr("xlink:href",L.toDataURL())}else if(x==="threshold"){const D=_,F=l===void 0?L=>L:typeof l=="string"?qe(l):l;m=M(Ff().domain([-1,S.length-1]),[c,i-f]),y.append("g").attr("fill-opacity",g).selectAll().data(S).enter().append("rect").attr("x",(L,T)=>m(T-1)).attr("y",o).attr("width",(L,T)=>m(T)-m(T-1)).attr("height",a-o-u).attr("fill",L=>L),d=dt(D,(L,T)=>T),l=L=>F(D[L],L)}else m=M(da().domain(_),[c,i-f]),y.append("g").attr("fill-opacity",g).selectAll().data(_).enter().append("rect").attr("x",m).attr("y",o).attr("width",Math.max(0,m.bandwidth()-1)).attr("height",a-o-u).attr("fill",N),v=()=>{};return y.append("g").attr("transform",`translate(0,${a-u})`).call(up(m).ticks(Array.isArray(d)?null:d,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",yt(h,"normal")).call(v).call(D=>D.select(".domain").remove()),e!==void 0&&y.append("text").attr("x",c).attr("y",o-6).attr("fill","currentColor").attr("font-weight","bold").text(e),y.node()}const Yh=Math.PI/180;function Bh(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=oo(e),t.markerMid=oo(r),t.markerEnd=oo(i)}function oo(t){if(t==null||t===!1)return null;if(t===!0)return jc;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Jc("auto");case"arrow-reverse":return Jc("auto-start-reverse");case"dot":return A5;case"circle":case"circle-fill":return jc;case"circle-stroke":return C5;case"tick":return fo("auto");case"tick-x":return fo(90);case"tick-y":return fo(0)}throw new Error(`invalid marker: ${t}`)}function Jc(t){return(n,e)=>_t("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function A5(t,n){return _t("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(e=>e.append("circle").attr("r",2.5)).node()}function jc(t,n){return _t("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function C5(t,n){return _t("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function fo(t){return(n,e)=>_t("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let E5=0;function Hh(t,n,{stroke:e},r){return Vh(t,n,e&&(i=>e[i]),null,r)}function T7(t,n,{stroke:e,z:r},i){return Vh(t,n,e&&(([a])=>e[a]),r,i)}const pf=1,Wh=2;function N5(t,n){const e=new Uint8Array(n.length),r=t.data().filter(a=>a.length>1),i=r.length;for(let a=0,o=hf;a<i;++a){const f=r[a];if(f.length>1){const u=f[0];o!==(o=vn(n[u]))&&(e[u]|=pf)}}for(let a=i-1,o=hf;a>=0;--a){const f=r[a];if(f.length>1){const u=f[0];o!==(o=vn(n[u]))&&(e[u]|=Wh)}}return([a])=>e[a]}function Vh(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},a=()=>i,o,f){if(!n&&!e&&!r)return;const u=new Map,c=o&&N5(t,o);function s(d,l,h){return function(p){if(h&&!h(p))return;const g=a(p);let b=u.get(l);b||u.set(l,b=new Map);let w=b.get(g);if(!w){const y=this.parentNode.insertBefore(l(g,f),this),v=`plot-marker-${++E5}`;y.setAttribute("id",v),b.set(g,w=`url(#${v})`)}this.setAttribute(d,w)}}n&&t.each(s("marker-start",n,c&&(d=>c(d)&pf))),e&&c&&t.each(s("marker-start",e,d=>!(c(d)&pf))),e&&t.each(s("marker-mid",e)),r&&t.each(s("marker-end",r,c&&(d=>c(d)&Wh)))}function du({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=Gh(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function hu({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=Gh(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function Gh(t,n,e){return t===void 0&&n===void 0&&e===void 0?Nt?[1,0]:[.5,.5]:[n,e]}function Xh(t,{interval:n}){return t={...xa(t)},t.interval=Kf(t.interval===void 0?n:t.interval),t}function Ca(t,n,e,r){const{[t]:i,[`${t}1`]:a,[`${t}2`]:o}=e,{value:f,interval:u}=Xh(i,e);if(f==null||u==null&&!r)return e;const c=He(i);if(u==null){let h;const p={transform:g=>h||(h=_n(g,f)),label:c};return{...e,[t]:void 0,[`${t}1`]:a===void 0?p:a,[`${t}2`]:o===void 0&&!(a===o&&r)?p:o}}let s,d;function l(h){return d!==void 0&&h===s?d:d=dt(_n(s=h,f),p=>u.floor(p))}return n({...e,[t]:void 0,[`${t}1`]:a===void 0?{transform:l,label:c}:a,[`${t}2`]:o===void 0?{transform:h=>l(h).map(p=>u.offset(p)),label:c}:o})}function Zh(t,n,e){const{[t]:r}=e,{value:i,interval:a}=Xh(r,e);return i==null||a==null?e:n({...e,[t]:{label:He(r),transform:o=>{const f=dt(_n(o,i),c=>a.floor(c)),u=f.map(c=>a.offset(c));return f.map(qt(f)?(c,s)=>c==null||isNaN(c=+c)||(s=u[s],s==null)||isNaN(s=+s)?void 0:new Date((c+s)/2):(c,s)=>c==null||(s=u[s],s==null)?NaN:(+c+ +s)/2)}}})}function k5(t={}){return Ca("x",du,t,!0)}function D5(t={}){return Ca("y",hu,t,!0)}function I5(t={}){return Ca("x",du,t)}function L5(t={}){return Ca("y",hu,t)}function R5(t={}){return Zh("x",du,t)}function F5(t={}){return Zh("y",hu,t)}const Kh={ariaLabel:"rule",fill:null,stroke:"currentColor"};class P5 extends un{constructor(n,e={}){const{x:r,y1:i,y2:a,inset:o=0,insetTop:f=o,insetBottom:u=o}=e;super(n,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},Oh(e,"x"),Kh),this.insetTop=Mt(f),this.insetBottom=Mt(u),Bh(this,e)}render(n,e,r,i,a){const{x:o,y:f}=e,{x:u,y1:c,y2:s}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:b}=i,{insetTop:w,insetBottom:y}=this;return _t("svg:g",a).call(se,this,i,a).call(le,this,{x:u&&o},Nt,0).call(v=>v.selectAll().data(n).enter().append("line").call(Ln,this).attr("x1",u?m=>u[m]:(g+d-p)/2).attr("x2",u?m=>u[m]:(g+d-p)/2).attr("y1",c&&!Re(f)?m=>c[m]+w:h+w).attr("y2",s&&!Re(f)?f.bandwidth?m=>s[m]+f.bandwidth()-y:m=>s[m]-y:l-b-y).call(re,this,r).call(Hh,this,r,a)).node()}}class O5 extends un{constructor(n,e={}){const{x1:r,x2:i,y:a,inset:o=0,insetRight:f=o,insetLeft:u=o}=e;super(n,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Oh(e,"y"),Kh),this.insetRight=Mt(f),this.insetLeft=Mt(u),Bh(this,e)}render(n,e,r,i,a){const{x:o,y:f}=e,{y:u,x1:c,x2:s}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:b}=i,{insetLeft:w,insetRight:y}=this;return _t("svg:g",a).call(se,this,i,a).call(le,this,{y:u&&f},0,Nt).call(v=>v.selectAll().data(n).enter().append("line").call(Ln,this).attr("x1",c&&!Re(o)?m=>c[m]+w:g+w).attr("x2",s&&!Re(o)?o.bandwidth?m=>s[m]+o.bandwidth()-y:m=>s[m]-y:d-p-y).attr("y1",u?m=>u[m]:(h+l-b)/2).attr("y2",u?m=>u[m]:(h+l-b)/2).call(re,this,r).call(Hh,this,r,a)).node()}}function U5(t,n){let{x:e=fn,y:r,y1:i,y2:a,...o}=L5(n);return[i,a]=Qh(r,i,a),new P5(t,{...o,x:e,y1:i,y2:a})}function q5(t,n){let{y:e=fn,x:r,x1:i,x2:a,...o}=I5(n);return[i,a]=Qh(r,i,a),new O5(t,{...o,y:e,x1:i,x2:a})}function Qh(t,n,e){if(t==null){if(n===void 0){if(e!==void 0)return[0,e]}else if(e===void 0)return[0,n]}else{if(n===void 0)return e===void 0?[0,t]:[t,e];if(e===void 0)return[t,n]}return[n,e]}function Jh(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)typeof n[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let a=0;a<e;++a)i+=n[a](r)+t[a+1];return i}}const z5={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},jh="­";class pu extends un{constructor(n,e={}){const{x:r,y:i,text:a=ue(n)&&rh(n)?fn:K6,frameAnchor:o,textAnchor:f=/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle",lineAnchor:u=/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle",lineHeight:c=1,lineWidth:s=1/0,textOverflow:d,monospace:l,fontFamily:h=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:b,fontWeight:w,rotate:y}=e,[v,m]=Et(y,0),[M,x]=G5(p);if(super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:M,optional:!0},rotate:{value:o8(v),optional:!0},text:{value:a,filter:Yf,optional:!0}},e,z5),this.rotate=m,this.textAnchor=yt(f,"middle"),this.lineAnchor=Xt(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+s,this.textOverflow=t1(d),this.monospace=!!l,this.fontFamily=vt(h),this.fontSize=x,this.fontStyle=vt(g),this.fontVariant=vt(b),this.fontWeight=vt(w),this.frameAnchor=Qf(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${s}`);this.splitLines=r1(this),this.clipLine=i1(this)}render(n,e,r,i,a){const{x:o,y:f}=e,{x:u,y:c,rotate:s,text:d,title:l,fontSize:h}=r,{rotate:p}=this,[g,b]=Aa(this,i);return _t("svg:g",a).call(se,this,i,a).call(e1,this,d,i).call(le,this,{x:u&&o,y:c&&f}).call(w=>w.selectAll().data(n).enter().append("text").call(Ln,this).call(Y5,this,d,l).attr("transform",Jh`translate(${u?y=>u[y]:g},${c?y=>c[y]:b})${s?y=>` rotate(${s[y]})`:p?` rotate(${p})`:""}`).call(G,"font-size",h&&(y=>h[y])).call(re,this,r)).node()}}function t1(t){return t==null?null:Xt(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function Y5(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:a,textOverflow:o,splitLines:f,clipLine:u}=n;t.each(function(c){const s=f(Fe(e[c])??"").map(u),d=s.length,l=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let h=0;for(let p=0;p<d;++p){if(++h,!s[p])continue;const g=this.ownerDocument.createElementNS(Me.svg,"tspan");g.setAttribute("x",0),p===h-1?g.setAttribute("y",`${(l+p)*a}em`):g.setAttribute("dy",`${h*a}em`),g.textContent=s[p],this.appendChild(g),h=0}}else l&&this.setAttribute("y",`${l*a}em`),this.textContent=s[0];if(o&&!r&&s[0]!==e[c]){const h=this.ownerDocument.createElementNS(Me.svg,"title");h.textContent=e[c],this.appendChild(h)}})}function n1(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=j0(n,e)),new pu(t,{...r,x:n,y:e})}function B5(t,{x:n=fn,...e}={}){return new pu(t,F5({...e,x:n}))}function H5(t,{y:n=fn,...e}={}){return new pu(t,R5({...e,y:n}))}function e1(t,n,e){G(t,"text-anchor",n.textAnchor),G(t,"font-family",n.fontFamily),G(t,"font-size",n.fontSize),G(t,"font-style",n.fontStyle),G(t,"font-variant",n.fontVariant===void 0?W5(e):n.fontVariant),G(t,"font-weight",n.fontWeight)}function W5(t){return t&&(c8(t)||qt(t))?"tabular-nums":void 0}const V5=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function G5(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),V5.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function X5(t,n,e){const r=[];let i,a=0;for(const[o,f,u]of Z5(t)){if(i===void 0&&(i=o),a>i&&e(t,i,f)>n&&(r.push(t.slice(i,a)+(t[a-1]===jh?"-":"")),i=o),u){r.push(t.slice(i,f)),i=void 0;continue}a=f}return r}function*Z5(t){let n=0,e=0;const r=t.length;for(;e<r;){let i=1;switch(t[e]){case jh:case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];t[++e]===" ";);n=e;break;case"\r":t[e+1]===`
`&&++i;case`
`:yield[n,e,!0],e+=i,n=e;break;default:++e;break}}yield[n,e,!0]}const ts={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function gu(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=We(t,i))r+=ts[t[i]]??(o1(t,i)?120:ts.e);return r}function mu(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=We(t,i))r+=o1(t,i)?126:63;return r}function r1({monospace:t,lineWidth:n,textOverflow:e}){if(e!=null||n==1/0)return a=>a.split(/\r\n?|\n/g);const r=t?mu:gu,i=n*100;return a=>X5(a,i,r)}function i1({monospace:t,lineWidth:n,textOverflow:e}){if(e==null||n==1/0)return a=>a;const r=t?mu:gu,i=n*100;switch(e){case"clip-start":return a=>es(a,i,r,"");case"clip-end":return a=>ns(a,i,r,"");case"ellipsis-start":return a=>es(a,i,r,xe);case"ellipsis-middle":return a=>K5(a,i,r,xe);case"ellipsis-end":return a=>ns(a,i,r,xe)}}const xe="…";function Pe(t,n,e,r){const i=[];let a=0;for(let o=0,f=0,u=t.length;o<u;o=f){f=We(t,o);const c=e(t,o,f);if(a+c>n){for(a+=r;a>n&&o>0;)f=o,o=i.pop(),a-=e(t,o,f);return[o,n-a]}a+=c,i.push(o)}return[-1,0]}function ns(t,n,e,r){t=t.trim();const i=e(r),[a]=Pe(t,n,e,i);return a<0?t:t.slice(0,a).trimEnd()+r}function K5(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const a=e(r)/2,[o,f]=Pe(t,n/2,e,a),[u]=Pe(t,i-n/2-f+a,e,-a);return u<0?r:t.slice(0,o).trimEnd()+r+t.slice(We(t,u)).trimStart()}function es(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const a=e(r),[o]=Pe(t,i-n+a,e,-a);return o<0?r:r+t.slice(We(t,o)).trimStart()}const gf=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,rs=new RegExp("\\p{Extended_Pictographic}","uy");function We(t,n){return n+=Q5(t,n)?2:1,j5(t,n)&&(n=gf.lastIndex),J5(t,n)?We(t,n+1):n}function a1(t,n){return t.charCodeAt(n)<128}function Q5(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const r=t.charCodeAt(n+1);return r>=56320&&r<57344}return!1}function J5(t,n){return t.charCodeAt(n)===8205}function j5(t,n){return a1(t,n)?!1:(gf.lastIndex=n,gf.test(t))}function o1(t,n){return a1(t,n)?!1:(rs.lastIndex=n,rs.test(t))}const t3={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},f1=3.5,n3=f1*5,u1={draw(t,n,e){const r=n*e/n3;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},e3={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},r3=new Map([["arrow",u1],["spike",e3]]);function i3(t){return t&&typeof t.draw=="function"}function a3(t){if(i3(t))return t;const n=r3.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}class c1 extends un{constructor(n,e={}){const{x:r,y:i,r:a=f1,length:o,rotate:f,shape:u=u1,anchor:c="middle",frameAnchor:s}=e,[d,l]=Et(o,12),[h,p]=Et(f,0);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:h,optional:!0}},e,t3),this.r=+a,this.length=l,this.rotate=p,this.shape=a3(u),this.anchor=Xt(c,"anchor",["start","middle","end"]),this.frameAnchor=Qf(s)}render(n,e,r,i,a){const{x:o,y:f}=e,{x:u,y:c,length:s,rotate:d}=r,{length:l,rotate:h,anchor:p,shape:g,r:b}=this,[w,y]=Aa(this,i);return _t("svg:g",a).call(se,this,i,a).call(le,this,{x:u&&o,y:c&&f}).call(v=>v.selectAll().data(n).enter().append("path").call(Ln,this).attr("transform",Jh`translate(${u?m=>u[m]:w},${c?m=>c[m]:y})${d?m=>` rotate(${d[m]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?s?m=>` translate(0,${s[m]})`:` translate(0,${l})`:s?m=>` translate(0,${s[m]/2})`:` translate(0,${l/2})`}`).attr("d",s?m=>{const M=No();return g.draw(M,s[m],b),M}:(()=>{const m=No();return g.draw(m,l,b),m})()).call(re,this,r)).node()}}function o3(t,n={}){const{x:e=fn,...r}=n;return new c1(t,{...r,x:e})}function f3(t,n={}){const{y:e=fn,...r}=n;return new c1(t,{...r,y:e})}function Un(t,n){return arguments.length<2&&!ue(t)&&(n=t,t=null),n===void 0&&(n={}),[t,n]}function Ea({anchor:t}={},n){return t===void 0?n[0]:Xt(t,"anchor",n)}function s1(t){return Ea(t,["left","right"])}function l1(t){return Ea(t,["right","left"])}function d1(t){return Ea(t,["bottom","top"])}function h1(t){return Ea(t,["top","bottom"])}function p1(){const[t,n]=Un(...arguments);return m1("y",s1(n),t,n)}function u3(){const[t,n]=Un(...arguments);return m1("fy",l1(n),t,n)}function g1(){const[t,n]=Un(...arguments);return b1("x",d1(n),t,n)}function c3(){const[t,n]=Un(...arguments);return b1("fx",h1(n),t,n)}function m1(t,n,e,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:f=1,fill:u=r,fillOpacity:c=i,textAnchor:s,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="y"?6:0,tickPadding:g,tickRotate:b,x:w,margin:y,marginTop:v=y===void 0?20:y,marginRight:m=y===void 0?n==="right"?40:0:y,marginBottom:M=y===void 0?20:y,marginLeft:x=y===void 0?n==="left"?40:0:y,label:_,labelAnchor:S,labelArrow:A,labelOffset:N,ariaLabel:$=`${t}-axis`,...D}){return p=Mt(p),g=Mt(g),b=Mt(b),S!==void 0&&(S=Xt(S,"labelAnchor",["center","top","bottom"])),A=S1(A),Fh(p&&!St(a)?s3(t,n,e,{stroke:a,strokeOpacity:o,strokeWidth:f,tickSize:p,tickPadding:g,tickRotate:b,x:w,ariaLabel:$,...D}):null,St(u)?null:d3(t,n,e,{fill:u,fillOpacity:c,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:s,tickSize:p,tickPadding:g,tickRotate:b,x:w,marginTop:v,marginRight:m,marginBottom:M,marginLeft:x,ariaLabel:$,...D}),!St(u)&&_!==null?n1([],x1({fill:u,fillOpacity:c,...D},function(F,L,T,P,k){const B=P[t],{marginTop:W,marginRight:I,marginBottom:O,marginLeft:z}=t==="y"&&k.inset||k,R=S??(B.bandwidth?"center":"top"),X=N??(n==="right"?I:z)-3;return R==="center"?(this.textAnchor=void 0,this.lineAnchor=n==="right"?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor=n==="right"?"end":"start",this.lineAnchor=R,this.frameAnchor=`${R}-${n}`,this.rotate=0),this.dy=R==="top"?3-W:R==="bottom"?O-3:0,this.dx=n==="right"?X:-X,this.ariaLabel=`${$} label`,{facets:[[0]],channels:{text:{value:[_1(t,B,{anchor:n,label:_,labelAnchor:R,labelArrow:A})]}}}})):null)}function b1(t,n,e,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:f=1,fill:u=r,fillOpacity:c=i,textAnchor:s,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="x"?6:0,tickPadding:g,tickRotate:b,y:w,margin:y,marginTop:v=y===void 0?n==="top"?30:0:y,marginRight:m=y===void 0?20:y,marginBottom:M=y===void 0?n==="bottom"?30:0:y,marginLeft:x=y===void 0?20:y,label:_,labelAnchor:S,labelArrow:A,labelOffset:N,ariaLabel:$=`${t}-axis`,...D}){return p=Mt(p),g=Mt(g),b=Mt(b),S!==void 0&&(S=Xt(S,"labelAnchor",["center","left","right"])),A=S1(A),Fh(p&&!St(a)?l3(t,n,e,{stroke:a,strokeOpacity:o,strokeWidth:f,tickSize:p,tickPadding:g,tickRotate:b,y:w,ariaLabel:$,...D}):null,St(u)?null:h3(t,n,e,{fill:u,fillOpacity:c,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:s,tickSize:p,tickPadding:g,tickRotate:b,y:w,marginTop:v,marginRight:m,marginBottom:M,marginLeft:x,ariaLabel:$,...D}),!St(u)&&_!==null?n1([],x1({fill:u,fillOpacity:c,...D},function(F,L,T,P,k){const B=P[t],{marginTop:W,marginRight:I,marginBottom:O,marginLeft:z}=t==="x"&&k.inset||k,R=S??(B.bandwidth?"center":"right"),X=N??(n==="top"?W:O)-3;return R==="center"?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${R}`,this.textAnchor=R==="right"?"end":"start"),this.lineAnchor=n,this.dy=n==="top"?-X:X,this.dx=R==="right"?I-3:R==="left"?3-z:0,this.ariaLabel=`${$} label`,{facets:[[0]],channels:{text:{value:[_1(t,B,{anchor:n,label:_,labelAnchor:R,labelArrow:A})]}}}})):null)}function s3(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=n+(t==="y"?"-empty":""),frameAnchor:f=n,tickSize:u,inset:c=0,insetLeft:s=c,insetRight:d=c,dx:l=0,y:h=t==="y"?void 0:null,ariaLabel:p,...g}){return Ve(f3,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:o,frameAnchor:f,y:h,...g,dx:n==="left"?+l-Nt+ +s:+l+Nt-d,anchor:"start",length:u,shape:n==="left"?x3:M3})}function l3(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=n+(t==="x"?"-empty":""),frameAnchor:f=n,tickSize:u,inset:c=0,insetTop:s=c,insetBottom:d=c,dy:l=0,x:h=t==="x"?void 0:null,ariaLabel:p,...g}){return Ve(o3,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:o,frameAnchor:f,x:h,...g,dy:n==="bottom"?+l-Nt-d:+l+Nt+ +s,anchor:"start",length:u,shape:n==="bottom"?w3:v3})}function d3(t,n,e,{facetAnchor:r=n+(t==="y"?"-empty":""),frameAnchor:i=n,tickSize:a,tickRotate:o=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(o)>60?4*Math.cos(o*Yh):0),text:u,textAnchor:c=Math.abs(o)>60?"middle":n==="left"?"end":"start",lineAnchor:s=o>60?"top":o<-60?"bottom":"middle",fontVariant:d,inset:l=0,insetLeft:h=l,insetRight:p=l,dx:g=0,ariaLabel:b,y:w=t==="y"?void 0:null,...y}){return Ve(H5,t,e,{ariaLabel:`${b} tick label`},{facetAnchor:r,frameAnchor:i,text:u,textAnchor:c,lineAnchor:s,fontVariant:d,rotate:o,y:w,...y,dx:n==="left"?+g-a-f+ +h:+g+ +a+ +f-p},function(v,m,M,x,_){d===void 0&&(this.fontVariant=$1(v)),u===void 0&&(_.text=M1(v,m,M,x,n))})}function h3(t,n,e,{facetAnchor:r=n+(t==="x"?"-empty":""),frameAnchor:i=n,tickSize:a,tickRotate:o=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(o)>=10?4*Math.cos(o*Yh):0),text:u,textAnchor:c=Math.abs(o)>=10?o<0^n==="bottom"?"start":"end":"middle",lineAnchor:s=Math.abs(o)>=10?"middle":n==="bottom"?"top":"bottom",fontVariant:d,inset:l=0,insetTop:h=l,insetBottom:p=l,dy:g=0,x:b=t==="x"?void 0:null,ariaLabel:w,...y}){return Ve(B5,t,e,{ariaLabel:`${w} tick label`},{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:c,lineAnchor:s,fontVariant:d,rotate:o,x:b,...y,dy:n==="bottom"?+g+ +a+ +f-p:+g-a-f+ +h},function(v,m,M,x,_){d===void 0&&(this.fontVariant=$1(v)),u===void 0&&(_.text=M1(v,m,M,x,n))})}function p3(){const[t,n]=Un(...arguments);return y1("y",s1(n),t,n)}function g3(){const[t,n]=Un(...arguments);return y1("fy",l1(n),t,n)}function m3(){const[t,n]=Un(...arguments);return w1("x",d1(n),t,n)}function b3(){const[t,n]=Un(...arguments);return w1("fx",h1(n),t,n)}function y1(t,n,e,{y:r=t==="y"?void 0:null,x:i=null,x1:a=n==="left"?i:null,x2:o=n==="right"?i:null,ariaLabel:f=`${t}-grid`,ariaHidden:u=!0,...c}){return Ve(q5,t,e,{ariaLabel:f,ariaHidden:u},{y:r,x1:a,x2:o,...v1(c)})}function w1(t,n,e,{x:r=t==="x"?void 0:null,y:i=null,y1:a=n==="top"?i:null,y2:o=n==="bottom"?i:null,ariaLabel:f=`${t}-grid`,ariaHidden:u=!0,...c}){return Ve(U5,t,e,{ariaLabel:f,ariaHidden:u},{x:r,y1:a,y2:o,...v1(c)})}function v1({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...a}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...a}}function x1({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:f,pointerEvents:u,shapeRendering:c,clip:s=!1},d){return[,t]=ee(t),[,n]=Et(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:f,pointerEvents:u,shapeRendering:c,clip:s,initializer:d}}function Ve(t,n,e,r,i,a){let o;function f(s,d,l,h,p,g){const b=s==null&&(n==="fx"||n==="fy"),{[n]:w}=h;if(!w)throw new Error(`missing scale: ${n}`);const y=w.domain();let{interval:v,ticks:m,tickFormat:M,tickSpacing:x=n==="x"?80:35}=i;if(typeof m=="string"&&T1(w)&&(v=m,m=void 0),m===void 0&&(m=Yr(v,w.type)??y3(w,x)),s==null){if(ue(m))s=fe(m);else if(eh(m))s=uo(m,...Nn(y));else if(w.interval){let S=w.interval;if(w.ticks){const[A,N]=Nn(y),$=(N-A)/S[qr];S=Sc(S,$/m)??S,s=uo(S,A,N)}else{s=y;const A=s.length;S=Sc(S,A/m)??S,S!==w.interval&&(s=uo(S,...Nn(s)))}if(S===w.interval){const A=Math.round(s.length/m);A>1&&(s=s.filter((N,$)=>$%A===0))}}else w.ticks?s=w.ticks(m):s=y;if(!w.ticks&&s.length&&s!==y){const S=new ta(y);s=s.filter(A=>S.has(A)),s.length||kn(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}n==="y"||n==="x"?d=[Be(s)]:o[n]={scale:n,value:fn}}a==null||a.call(this,w,s,m,M,o);const _=Object.fromEntries(Object.entries(o).map(([S,A])=>[S,{...A,value:_n(s,A.value)}]));return b&&(d=g.filterFacets(s,_)),{data:s,facets:d,channels:_}}const u=Le(i).initializer,c=t(e,Le({...i,initializer:f},u));return e==null?(o=c.channels,c.channels={}):o={},r!==void 0&&Object.assign(c,r),c.clip===void 0&&(c.clip=!1),c}function y3(t,n){const[e,r]=Nn(t.range());return(r-e)/n}function M1(t,n,e,r,i){return{value:bu(t,n,e,r,i)}}function bu(t,n,e,r,i){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&n&&qt(n)?B6(t.type,n,i)??Fe:t.tickFormat?t.tickFormat(typeof e=="number"?e:null,r):typeof r=="string"&&t.domain().length>0?(qt(t.domain())?Or:qe)(r):r===void 0?Fe:wn(r)}function uo(t,n,e){return t.range(n,t.offset(t.floor(e)))}const w3={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},v3={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},x3={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},M3={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function $1(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function _1(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&T1(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!n.bandwidth||n.interval)&&!/[↑↓→←]/.test(r)),!a)return r;if(a===!0){const o=Sw(n);o&&(a=/x$/.test(t)||i==="center"?/x$/.test(t)===o<0?"left":"right":o<0?"up":"down")}switch(a){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return e==="right"?`${r} ↑`:`↑ ${r}`;case"down":return e==="right"?`${r} ↓`:`↓ ${r}`}return r}}function S1(t="auto"){return St(t)?!1:typeof t=="boolean"?t:Xt(t,"labelArrow",["auto","up","right","down","left"])}function T1(t){return qt(t.domain())}function is(t,n){if(n==null)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function $3(t,{opacity:n,...e}={}){if(!ce(t)&&!kh(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return A1(t,e,(r,i,a,o)=>r.append("svg").attr("width",a).attr("height",o).attr("fill",i.scale).attr("fill-opacity",Et(n)[1]).append("rect").attr("width","100%").attr("height","100%"))}function _3(t,{fill:n=(c=>(c=t.hint)==null?void 0:c.fill)()!==void 0?t.hint.fill:"none",fillOpacity:e=1,stroke:r=(s=>(s=t.hint)==null?void 0:s.stroke)()!==void 0?t.hint.stroke:St(n)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:o=4.5,...f}={},u){const[d,l]=ee(n),[h,p]=ee(r),g=is(u,d),b=is(u,h),w=o*o*Math.PI;return e=Et(e)[1],i=Et(i)[1],a=Et(a)[1],A1(t,f,(y,v,m,M)=>y.append("svg").attr("viewBox","-8 -8 16 16").attr("width",m).attr("height",M).attr("fill",d==="color"?x=>g.scale(x):l).attr("fill-opacity",e).attr("stroke",h==="color"?x=>b.scale(x):p).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",x=>{const _=No();return t.scale(x).draw(_,w),_}))}function A1(t,n={},e){let{columns:r,tickFormat:i,fontVariant:a=zh(t),swatchSize:o=15,swatchWidth:f=o,swatchHeight:u=o,marginLeft:c=0,className:s,style:d,width:l}=n;const h=fu(n);s=cu(s),i=bu(t.scale,t.domain,void 0,i);const p=_t("div",h).attr("class",`${s}-swatches ${s}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`:where(.${s}-swatches-columns .${s}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${s}-swatches-columns .${s}-swatch::before) {
  flex-shrink: 0;
}
:where(.${s}-swatches-columns .${s}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${s}-swatch`).call(e,t,f,u).call(b=>b.append("div").attr("class",`${s}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${s}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${s}-swatches-wrap .${s}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${s}-swatch`).call(e,t,f,u).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(b=>b.insert("style","*").text(`:where(.${s}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${s}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",c?`${+c}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",yt(a,"normal")).call(su,d).node()}const mf=new Map([["symbol",_3],["color",E1],["opacity",T3]]);function S3(t,n,e={}){return(r,i)=>{if(!mf.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return mf.get(r)(t[r],C1(n,e[r],i),a=>t[a])}}function C1({className:t,...n},{label:e,ticks:r,tickFormat:i}={},a){return h8(a,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function E1(t,{legend:n=!0,...e}){if(n===!0&&(n=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${n}`.toLowerCase()){case"swatches":return $3(t,e);case"ramp":return T5(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function T3({type:t,interpolate:n,...e},{legend:r=!0,color:i=Dn(0,0,0),...a}){if(!n)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return E1({type:t,...e,interpolate:A3(i)},{legend:r,...a})}function A3(t){const{r:n,g:e,b:r}=Dn(t)||Dn(0,0,0);return i=>`rgba(${n},${e},${r},${i})`}function C3(t,n,e){const r=[];for(const[i,a]of mf){const o=e[i];if(o!=null&&o.legend&&i in t){const f=a(t[i],C1(n,t[i],o),u=>t[u]);f!=null&&r.push(f)}}return r}const E3={ariaLabel:"rect"};class N3 extends un{constructor(n,e={}){const{x1:r,y1:i,x2:a,y2:o}=e;super(n,{x1:{value:r,scale:"x",type:r!=null&&a==null?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:i!=null&&o==null?"band":void 0,optional:!0},x2:{value:a,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0}},e,E3),N1(this,e),k1(this,e)}render(n,e,r,i,a){const{x:o,y:f}=e;let{x1:u,y1:c,x2:s,y2:d}=r;const{marginTop:l,marginRight:h,marginBottom:p,marginLeft:g,width:b,height:w}=i,{projection:y}=a,{insetTop:v,insetRight:m,insetBottom:M,insetLeft:x}=this,{rx:_,ry:S,rx1y1:A,rx1y2:N,rx2y1:$,rx2y2:D}=this;(u||s)&&!y&&Re(o)&&(u=s=null),(c||d)&&!y&&Re(f)&&(c=d=null);const F=o!=null&&o.bandwidth?o.bandwidth():0,L=f!=null&&f.bandwidth?f.bandwidth():0;return _t("svg:g",a).call(se,this,i,a).call(le,this,{},0,0).call(T=>T.selectAll().data(n).enter().call(A||N||$||D?P=>P.append("path").call(Ln,this).call(D1,u&&s?k=>u[k]+(s[k]<u[k]?-m:x):u?k=>u[k]+x:g+x,c&&d?k=>c[k]+(d[k]<c[k]?-M:v):c?k=>c[k]+v:l+v,u&&s?k=>s[k]-(s[k]<u[k]?-x:m):u?k=>u[k]+F-m:b-h-m,c&&d?k=>d[k]-(d[k]<c[k]?-v:M):c?k=>c[k]+L-M:w-p-M,this).call(re,this,r):P=>P.append("rect").call(Ln,this).attr("x",u?s?k=>Math.min(u[k],s[k])+x:k=>u[k]+x:g+x).attr("y",c?d?k=>Math.min(c[k],d[k])+v:k=>c[k]+v:l+v).attr("width",u?s?k=>Math.max(0,Math.abs(s[k]-u[k])+F-x-m):F-x-m:b-h-g-m-x).attr("height",c?d?k=>Math.max(0,Math.abs(c[k]-d[k])+L-v-M):L-v-M:w-l-p-v-M).call(G,"rx",_).call(G,"ry",S).call(re,this,r))).node()}}function N1(t,{inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:a=n}={}){t.insetTop=Mt(e),t.insetRight=Mt(r),t.insetBottom=Mt(i),t.insetLeft=Mt(a)}function k1(t,{r:n,rx:e,ry:r,rx1:i=n,ry1:a=n,rx2:o=n,ry2:f=n,rx1y1:u=i!==void 0?+i:a!==void 0?+a:0,rx1y2:c=i!==void 0?+i:f!==void 0?+f:0,rx2y1:s=o!==void 0?+o:a!==void 0?+a:0,rx2y2:d=o!==void 0?+o:f!==void 0?+f:0}={}){u||c||s||d?(t.rx1y1=u,t.rx1y2=c,t.rx2y1=s,t.rx2y2=d):(t.rx=yt(e,"auto"),t.ry=yt(r,"auto"))}function D1(t,n,e,r,i,a){const{rx1y1:o,rx1y2:f,rx2y1:u,rx2y2:c}=a;typeof n!="function"&&(n=wn(n)),typeof e!="function"&&(e=wn(e)),typeof r!="function"&&(r=wn(r)),typeof i!="function"&&(i=wn(i));const s=Math.max(Math.abs(o+u),Math.abs(f+c)),d=Math.max(Math.abs(o+f),Math.abs(u+c));t.attr("d",l=>{const h=n(l),p=e(l),g=r(l),b=i(l),w=h>g,y=p>b,v=w?g:h,m=w?h:g,M=y?b:p,x=y?p:b,_=Math.min(1,(m-v)/s,(x-M)/d),S=_*(w?y?c:u:y?f:o),A=_*(w?y?f:o:y?c:u),N=_*(w?y?o:f:y?u:c),$=_*(w?y?u:c:y?o:f);return`M${v},${M+si(S,$)}A${S},${S} 0 0 ${S<0?0:1} ${v+ci(S,$)},${M}H${m-ci(A,N)}A${A},${A} 0 0 ${A<0?0:1} ${m},${M+si(A,N)}V${x-si(N,A)}A${N},${N} 0 0 ${N<0?0:1} ${m-ci(N,A)},${x}H${v+ci($,S)}A${$},${$} 0 0 ${$<0?0:1} ${v},${x-si($,S)}Z`})}function ci(t,n){return n<0?t:Math.abs(t)}function si(t,n){return n<0?Math.abs(t):t}function A7(t,n){return new N3(t,k5(D5(n)))}const k3={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},D3={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class I3 extends un{constructor(n={}){const{anchor:e=null}=n;super(xi,void 0,n,e==null?k3:D3),this.anchor=Q0(e,"anchor",["top","right","bottom","left"]),N1(this,n),e||k1(this,n)}render(n,e,r,i,a){const{marginTop:o,marginRight:f,marginBottom:u,marginLeft:c,width:s,height:d}=i,{anchor:l,insetTop:h,insetRight:p,insetBottom:g,insetLeft:b}=this,{rx:w,ry:y,rx1y1:v,rx1y2:m,rx2y1:M,rx2y2:x}=this,_=c+b,S=s-f-p,A=o+h,N=d-u-g;return _t(l?"svg:line":v||m||M||x?"svg:path":"svg:rect",a).datum(0).call(se,this,i,a).call(Ln,this).call(re,this,r).call(le,this,{}).call(l==="left"?$=>$.attr("x1",_).attr("x2",_).attr("y1",A).attr("y2",N):l==="right"?$=>$.attr("x1",S).attr("x2",S).attr("y1",A).attr("y2",N):l==="top"?$=>$.attr("x1",_).attr("x2",S).attr("y1",A).attr("y2",A):l==="bottom"?$=>$.attr("x1",_).attr("x2",S).attr("y1",N).attr("y2",N):v||m||M||x?$=>$.call(D1,_,A,S,N,this):$=>$.attr("x",_).attr("y",A).attr("width",S-_).attr("height",N-A).attr("rx",w).attr("ry",y)).node()}}function L3(t){return new I3(t)}const co={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},R3=new Set(["geometry","href","src","ariaLabel","scales"]);class F3 extends un{constructor(n,e={}){e.tip&&(e={...e,tip:!1}),e.title===void 0&&ue(n)&&rh(n)&&(e={...e,title:fn});const{x:r,y:i,x1:a,x2:o,y1:f,y2:u,anchor:c,preferredAnchor:s="bottom",monospace:d,fontFamily:l=d?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:p,fontVariant:g,fontWeight:b,lineHeight:w=1,lineWidth:y=20,frameAnchor:v,format:m,textAnchor:M="start",textOverflow:x,textPadding:_=8,title:S,pointerSize:A=12,pathFilter:N="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(n,{x:{value:a!=null&&o!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&u!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:o==null},y1:{value:f,scale:"y",optional:u==null},x2:{value:o,scale:"x",optional:a==null},y2:{value:u,scale:"y",optional:f==null},title:{value:S,optional:!0}},e,co),this.anchor=af(c,"anchor"),this.preferredAnchor=af(s,"preferredAnchor"),this.frameAnchor=Qf(v),this.textAnchor=yt(M,"middle"),this.textPadding=+_,this.pointerSize=+A,this.pathFilter=vt(N),this.lineHeight=+w,this.lineWidth=+y,this.textOverflow=t1(x),this.monospace=!!d,this.fontFamily=vt(l),this.fontSize=Mt(h),this.fontStyle=vt(p),this.fontVariant=vt(g),this.fontWeight=vt(b);for(const $ in co)$ in this.channels&&(this[$]=co[$]);this.splitLines=r1(this),this.clipLine=i1(this),this.format=typeof m=="string"||typeof m=="function"?{title:m}:{...m}}render(n,e,r,i,a){const o=this,{x:f,y:u,fx:c,fy:s}=e,{ownerSVGElement:d,document:l}=a,{anchor:h,monospace:p,lineHeight:g,lineWidth:b}=this,{textPadding:w,pointerSize:y,pathFilter:v}=this,{marginTop:m,marginLeft:M}=i,{x1:x,y1:_,x2:S,y2:A,x:N=x??S,y:$=_??A}=r,D=c?c(n.fx)-M:0,F=s?s(n.fy)-m:0,[L,T]=Aa(this,i),P=Uh(r,L),k=qh(r,T),B=p?mu:gu,W=B(xe);let I,O;"title"in r?(I=as.call(this,{title:r.channels.title},e),O=z3):(I=as.call(this,r.channels,e),O=Y3);const z=_t("svg:g",a).call(se,this,i,a).call(e1,this).call(le,this,{x:N&&f,y:$&&u}).call(nt=>nt.selectAll().data(n).enter().append("g").attr("transform",J=>`translate(${Math.round(P(J))},${Math.round(k(J))})`).call(Ln,this).call(J=>J.append("path").attr("filter",v)).call(J=>J.append("text").each(function(q){const H=Bn(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const E=O.call(o,q,n,I,e,r);if(typeof E=="string")for(const U of o.splitLines(E))R(H,{value:o.clipLine(U)});else{const U=new Set;for(const Y of E){const{label:C=""}=Y;C&&U.has(C)||(U.add(C),R(H,Y))}}})));function R(nt,{label:J,value:q,color:H,opacity:E}){J??(J=""),q??(q="");const U=H!=null||E!=null;let Y,C=b*100;const[at]=Pe(J,C,B,W);if(at>=0)J=J.slice(0,at).trimEnd()+xe,Y=q.trim(),q="";else{(J||!q&&!U)&&(q=" "+q);const[ft]=Pe(q,C-B(J),B,W);ft>=0&&(Y=q.trim(),q=q.slice(0,ft).trimEnd()+xe)}const V=nt.append("tspan").attr("x",0).attr("dy",`${g}em`).text("​");J&&V.append("tspan").attr("font-weight","bold").text(J),q&&V.append(()=>l.createTextNode(q)),U&&V.append("tspan").text(" ■").attr("fill",H).attr("fill-opacity",E).style("user-select","none"),Y&&V.append("title").text(Y)}function X(){const{width:nt,height:J}=i.facet??i;z.selectChildren().each(function(q){let{x:H,width:E,height:U}=this.getBBox();E=Math.round(E),U=Math.round(U);let Y=h;if(Y===void 0){const V=P(q)+D,ft=k(q)+F,lt=V+E+y+w*2<nt,Ct=V-E-y-w*2>0,de=ft+U+y+w*2<J,Ge=ft-U-y-w*2>0;Y=lt&&Ct?de&&Ge?o.preferredAnchor:Ge?"bottom":"top":de&&Ge?lt?"left":"right":(lt||Ct)&&(de||Ge)?`${Ge?"bottom":"top"}-${lt?"left":"right"}`:o.preferredAnchor}const C=this.firstChild,at=this.lastChild;if(C.setAttribute("d",q3(Y,y,w,E,U)),H)for(const V of at.childNodes)V.setAttribute("x",-H);at.setAttribute("y",`${+O3(Y,at.childNodes.length,g).toFixed(6)}em`),at.setAttribute("transform",`translate(${U3(Y,y,w,E,U)})`)}),z.attr("visibility",null)}return n.length&&(z.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(X):typeof requestAnimationFrame<"u"&&requestAnimationFrame(X)),z.node()}}function P3(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=j0(n,e)),new F3(t,{...r,x:n,y:e})}function O3(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}function U3(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}function q3(t,n,e,r,i){const a=r+e*2,o=i+e*2;switch(t){case"middle":return`M${-a/2},${-o/2}h${a}v${o}h${-a}z`;case"top-left":return`M0,0l${n},${n}h${a-n}v${o}h${-a}z`;case"top":return`M0,0l${n/2},${n/2}h${(a-n)/2}v${o}h${-a}v${-o}h${(a-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-a}v${o}h${a}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-o/2}h${-a}v${o}h${a}v${n/2-o/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${a-n}v${-o}h${-a}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(a-n)/2}v${-o}h${-a}v${o}h${(a-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-a}v${-o}h${a}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-o/2}h${a}v${o}h${-a}v${n/2-o/2}z`}}function as(t,n){var i,a;const e={};let r=this.format;r=os(r,t,"x"),r=os(r,t,"y"),this.format=r;for(const o in r){const f=r[o];if(!(f===null||f===!1))if(o==="fx"||o==="fy")e[o]=!0;else{const u=Lc(t,o);u&&(e[o]=u)}}for(const o in t){if(o in e||o in r||R3.has(o)||(o==="x"||o==="y")&&t.geometry)continue;const f=Lc(t,o);if(f){if(f.scale==null&&f.defaultScale==="color")continue;e[o]=f}}this.facet&&(n.fx&&!("fx"in r)&&(e.fx=!0),n.fy&&!("fy"in r)&&(e.fy=!0));for(const o in e){const f=this.format[o];if(typeof f=="string"){const u=((i=e[o])==null?void 0:i.value)??((a=n[o])==null?void 0:a.domain())??[];this.format[o]=(qt(u)?Or:qe)(f)}else if(f===void 0||f===!0){const u=n[o];this.format[o]=u!=null&&u.bandwidth?bu(u,u.domain()):Fe}}return e}function os(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if((r in t||!(r in n))&&(i in t||!(i in n)))return t;const a=Object.entries(t),o=t[e];return a.splice(a.findIndex(([f])=>f===e)+1,0,[r,o],[i,o]),Object.fromEntries(a)}function z3(t,n,{title:e}){return this.format.title(e.value[t],t)}function*Y3(t,n,e,r,i){for(const a in e){if(a==="fx"||a==="fy"){yield{label:Ji(r,e,a),value:this.format[a](n[a],t)};continue}if(a==="x1"&&"x2"in e||a==="y1"&&"y2"in e)continue;const o=e[a];if(a==="x2"&&"x1"in e)yield{label:us(r,e,"x"),value:fs(this.format.x2,e.x1,o,t)};else if(a==="y2"&&"y1"in e)yield{label:us(r,e,"y"),value:fs(this.format.y2,e.y1,o,t)};else{const f=o.value[t],u=o.scale;if(!In(f)&&u==null)continue;yield{label:Ji(r,e,a),value:this.format[a](f,t),color:u==="color"?i[a][t]:null,opacity:u==="opacity"?i[a][t]:null}}}}function fs(t,n,e,r){var i;return(i=e.hint)!=null&&i.length?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}–${t(e.value[r],r)}`}function us(t,n,e){const r=Ji(t,n,`${e}1`,e),i=Ji(t,n,`${e}2`,e);return r===i?r:`${r}–${i}`}function Ji(t,n,e,r=e){const i=n[e],a=t[(i==null?void 0:i.scale)??e];return String((a==null?void 0:a.label)??(i==null?void 0:i.label)??r)}function B3(t={}){var W;const{facet:n,style:e,title:r,subtitle:i,caption:a,ariaLabel:o,ariaDescription:f}=t,u=cu(t.className),c=t.marks===void 0?[]:ss(t.marks);c.push(...K3(c));const s=X3(n,t),d=new Map;for(const I of c){const O=ls(I,s,t);O&&d.set(I,O)}const l=new Map;s&&tr(l,[s],t),tr(l,d,t);const h=ss(Q3(c,l,t));for(const I of h){const O=ls(I,s,t);O&&d.set(I,O)}c.unshift(...h);let p=Iw(l,t);if(p!==void 0){const I=s?io(p,s):void 0;for(const z of c){if(z.facet===null||z.facet==="super")continue;const R=d.get(z);R!==void 0&&(R.facetsIndex=z.fx!=null||z.fy!=null?io(p,R):I)}const O=new Set;for(const{facetsIndex:z}of d.values())z==null||z.forEach((R,X)=>{(R==null?void 0:R.length)>0&&O.add(X)});p.forEach(0<O.size&&O.size<p.length?(z,R)=>z.empty=!O.has(R):z=>z.empty=!1);for(const z of c)if(z.facet==="exclude"){const R=d.get(z);R!==void 0&&(R.facetsIndex=Fw(R.facetsIndex))}}for(const I of st.keys())ef(t[I])&&I!=="fx"&&I!=="fy"&&l.set(I,[]);const g=new Map;for(const I of c){if(g.has(I))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:O,channels:z}=d.get(I)??{},{data:R,facets:X,channels:nt}=I.initialize(O,z,t);yu(nt,t),g.set(I,{data:R,facets:X,channels:nt})}const b=sf(tr(l,g,t),t),w=M5(b,c,t);$w(b,w);const y=Yc(b),{fx:v,fy:m}=y,M=v||m?Ch(b,w):w,x=v||m?i7(y,w):w,_=fu(t),S=_.document,A=ra("svg").call(S.documentElement);let N=A;_.ownerSVGElement=A,_.className=u,_.projection=Ww(t,M),_.path=function(){return kf(this.projection??Jw(y))},_.filterFacets=(I,O)=>io(p,{channels:O,groups:ou(I,O)}),_.getMarkState=I=>{const O=g.get(I),z=d.get(I);return{...O,channels:{...O.channels,...z==null?void 0:z.channels}}},_.dispatchValue=I=>{N.value!==I&&(N.value=I,N.dispatchEvent(new _.document.defaultView.Event("input",{bubbles:!0})))};const $=new Set;for(const[I,O]of g)if(I.initializer!=null){const z=I.facet==="super"?x:M,R=I.initializer(O.data,O.facets,O.channels,y,z,_);if(R.data!==void 0&&(O.data=R.data),R.facets!==void 0&&(O.facets=R.facets),R.channels!==void 0){const{fx:X,fy:nt,...J}=R.channels;G3(J),Object.assign(O.channels,J);for(const q of Object.values(J)){const{scale:H}=q;H!=null&&!m8(st.get(H))&&(I1(q,t),$.add(H))}(X!=null||nt!=null)&&d.set(I,!0)}}if($.size){const I=new Map;tr(I,g,t,X=>$.has(X)),tr(l,g,t,X=>$.has(X));const O=r7(sf(I,t),b),{scales:z,...R}=Yc(O);Object.assign(b,O),Object.assign(y,R),Object.assign(y.scales,z)}let D,F;p!==void 0&&(D={x:v==null?void 0:v.domain(),y:m==null?void 0:m.domain()},p=Lw(p,D),F=Rw(v,m,w));for(const[I,O]of g)O.values=I.scale(O.channels,y,_);const{width:L,height:T}=w;Bn(A).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",L).attr("height",T).attr("viewBox",`0 0 ${L} ${T}`).attr("aria-label",o).attr("aria-description",f).call(I=>I.append("style").text(`:where(.${u}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${u} text),
:where(.${u} tspan) {
  white-space: pre;
}`)).call(su,e);for(const I of c){const{channels:O,values:z,facets:R}=g.get(I);if(p===void 0||I.facet==="super"){let X=null;if(R&&(X=R[0],X=I.filter(X,O,z),X.length===0))continue;const nt=I.render(X,y,z,x,_);if(nt==null)continue;A.appendChild(nt)}else{let X;for(const nt of p){if(!(((W=I.facetAnchor)==null?void 0:W.call(I,p,D,nt))??!nt.empty))continue;let J=null;if(R){const H=d.has(I);if(J=R[H?nt.i:0],J=I.filter(J,O,z),J.length===0)continue;!H&&J===R[0]&&(J=e8(J)),J.fx=nt.x,J.fy=nt.y,J.fi=nt.i}const q=I.render(J,y,z,M,_);if(q!=null){(X??(X=Bn(A).append("g"))).append(()=>q).datum(nt);for(const H of["aria-label","aria-description","aria-hidden","transform"])q.hasAttribute(H)&&(X.attr(H,q.getAttribute(H)),q.removeAttribute(H))}}X==null||X.selectChildren().each(F)}}const P=C3(b,_,t),{figure:k=r!=null||i!=null||a!=null||P.length>0}=t;k&&(N=S.createElement("figure"),N.className=`${u}-figure`,N.style.maxWidth="initial",r!=null&&N.append(cs(S,r,"h2")),i!=null&&N.append(cs(S,i,"h3")),N.append(...P,A),a!=null&&N.append(H3(S,a)),"value"in A&&(N.value=A.value,delete A.value)),N.scale=kw(y.scales),N.legend=S3(b,_,t);const B=ow();return B>0&&Bn(A).append("text").attr("x",L).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${B.toLocaleString("en-US")} warning${B===1?"":"s"}. Please check the console.`),N}function cs(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function H3(t,n){const e=t.createElement("figcaption");return e.append(n),e}function ss(t){return t.flat(1/0).filter(n=>n!=null).map(W3)}function W3(t){return typeof t.render=="function"?t:new V3(t)}class V3 extends un{constructor(n){if(typeof n!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=n}render(){}}function yu(t,n){for(const e in t)I1(t[e],n);return t}function I1(t,n){const{scale:e,transform:r=!0}=t;if(e==null||!r)return;const{type:i,percent:a,interval:o,transform:f=a?u=>u==null?NaN:u*100:nh(o,i)}=n[e]??{};f!=null&&(t.value=dt(t.value,f),t.transform=!1)}function G3(t){for(const n in t)ph(n,t[n])}function tr(t,n,e,r=Q6){var i,a;for(const{channels:o}of n.values())for(const f in o){const u=o[f],{scale:c}=u;if(c!=null&&r(c))if(c==="projection"){if(!Zw(e)){const s=((i=e.x)==null?void 0:i.domain)===void 0,d=((a=e.y)==null?void 0:a.domain)===void 0;if(s||d){const[l,h]=Qw(u);s&&so(t,"x",l),d&&so(t,"y",h)}}}else so(t,c,u)}return t}function so(t,n,e){const r=t.get(n);r!==void 0?r.push(e):t.set(n,[e])}function X3(t,n){if(t==null)return;const{x:e,y:r}=t;if(e==null&&r==null)return;const i=De(t.data);if(i==null)throw new Error("missing facet data");const a={};e!=null&&(a.fx=_r(i,{value:e,scale:"fx"})),r!=null&&(a.fy=_r(i,{value:r,scale:"fy"})),yu(a,n);const o=ou(i,a);return{channels:a,groups:o,data:t.data}}function ls(t,n,e){if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const u=De(t.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(u===null)return;const c={};return r!=null&&(c.fx=_r(u,{value:r,scale:"fx"})),i!=null&&(c.fy=_r(u,{value:i,scale:"fy"})),yu(c,e),{channels:c,groups:ou(u,c)}}if(n===void 0)return;const{channels:a,groups:o,data:f}=n;if(t.facet!=="auto"||t.data===f)return{channels:a,groups:o};f.length>0&&(o.size>1||o.size===1&&a.fx&&a.fy&&[...o][0][1].size>1)&&rf(De(t.data))===rf(f)&&kn(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function Z3(t,n={}){return Le({...n,x:null,y:null},(e,r,i,a,o,f)=>f.getMarkState(t))}function K3(t){const n=[];for(const e of t){let r=e.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:a}=r;i=/^x$/i.test(i)?S5:/^y$/i.test(i)?Qc:_5,r=i(Z3(e,r)),r.title=null,a===void 0&&(r.preferredAnchor=i===Qc?"left":"bottom");const o=P3(e.data,r);o.facet=e.facet,o.facetAnchor=e.facetAnchor,n.push(o)}}return n}function Q3(t,n,e){let{projection:r,x:i={},y:a={},fx:o={},fy:f={},axis:u,grid:c,facet:s={},facet:{axis:d=u,grid:l}=s,x:{axis:h=u,grid:p=h===null?null:c}=i,y:{axis:g=u,grid:b=g===null?null:c}=a,fx:{axis:w=d,grid:y=w===null?null:l}=o,fy:{axis:v=d,grid:m=v===null?null:l}=f}=e;(r||!ef(i)&&!ds("x",t))&&(h=p=null),(r||!ef(a)&&!ds("y",t))&&(g=b=null),n.has("fx")||(w=y=null),n.has("fy")||(v=m=null),h===void 0&&(h=!hi(t,"x")),g===void 0&&(g=!hi(t,"y")),w===void 0&&(w=!hi(t,"fx")),v===void 0&&(v=!hi(t,"fy")),h===!0&&(h="bottom"),g===!0&&(g="left"),w===!0&&(w=h==="top"||h===null?"bottom":"top"),v===!0&&(v=g==="right"||g===null?"left":"right");const M=[];return di(M,m,g3,f),li(M,v,u3,"right","left",s,f),di(M,y,b3,o),li(M,w,c3,"top","bottom",s,o),di(M,b,p3,a),li(M,g,p1,"left","right",e,a),di(M,p,m3,i),li(M,h,g1,"bottom","top",e,i),M}function li(t,n,e,r,i,a,o){if(!n)return;const f=J3(n);o=j3(f?r:n,a,o);const{line:u}=o;(e===p1||e===g1)&&u&&!$r(u)&&t.push(L3(t7(o))),t.push(e(o)),f&&t.push(e({...o,anchor:i,label:null}))}function di(t,n,e,r){!n||$r(n)||t.push(e(n7(n,r)))}function J3(t){return/^\s*both\s*$/i.test(t)}function j3(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:s,ariaDescription:d,label:l=n.label,labelAnchor:h,labelArrow:p=n.labelArrow,labelOffset:g}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:s,ariaDescription:d,label:l,labelAnchor:h,labelArrow:p,labelOffset:g}}function t7(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:e===!0?void 0:e}}function n7(t,{stroke:n=Ma(t)?t:void 0,ticks:e=e7(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function e7(t){switch(typeof t){case"number":return!0;case"string":return!Ma(t)}return ue(t)||typeof(t==null?void 0:t.range)=="function"}function hi(t,n){const e=`${n}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(e)})}function ds(t,n){for(const e of n)for(const r in e.channels){const{scale:i}=e.channels[r];if(i===t||i==="projection")return!0}return!1}function r7(t,n){for(const e in t){const r=t[e],i=n[e];r.label===void 0&&i&&(r.label=i.label)}return t}function i7({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:f,height:u}=au(e),c=t&&hs(t),s=n&&hs(n);return{marginTop:n?s[0]:r,marginRight:t?f-c[1]:i,marginBottom:n?u-s[1]:a,marginLeft:t?c[0]:o,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:f,height:u}}function hs(t){const n=t.domain();if(n.length===0)return[0,t.bandwidth()];let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}un.prototype.plot=function({marks:t=[],...n}={}){return B3({...n,marks:[...t,this]})};export{th as $,Bh as A,S7 as B,_7 as C,T7 as D,Ec as E,B3 as F,q5 as G,U5 as H,n1 as I,Bn as J,p6 as K,v0 as L,un as M,Nn as N,vs as O,En as P,pi as Q,ws as R,n8 as S,rf as T,nf as U,G6 as V,Oh as W,s7 as X,u7 as Y,h7 as Z,d7 as _,K6 as a,ch as a0,zr as a1,hr as a2,na as a3,_n as a4,ne as a5,pr as a6,nn as a7,p7 as a8,Jo as a9,_i as aA,$7 as aB,g7 as aC,ue as aD,bf as aE,x7 as aF,v7 as aG,M7 as aH,Mt as aI,Nt as aJ,Hh as aK,A7 as aL,ra as aM,Ss as aN,Ue as aO,Lm as aP,Wg as aQ,f7 as aR,be as aS,Ff as aT,qe as aU,a7 as aV,f6 as aW,Z6 as aa,Be as ab,zb as ac,Si as ad,Y1 as ae,o7 as af,du as ag,of as ah,y7 as ai,ee as aj,k8 as ak,xa as al,hh as am,He as an,w7 as ao,dh as ap,S8 as aq,A8 as ar,Yr as as,W0 as at,qt as au,dt as av,j6 as aw,eh as ax,iy as ay,po as az,le as b,Re as c,k1 as d,_t as e,se as f,Ln as g,c7 as h,fn as i,D1 as j,re as k,G as l,L5 as m,Et as n,m7 as o,Bf as p,Qf as q,N1 as r,zf as s,Aa as t,Jh as u,No as v,q0 as w,b7 as x,j0 as y,l7 as z};
