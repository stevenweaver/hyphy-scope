import"../chunks/CWj6FrbW.js";import"../chunks/DwqWfmFf.js";import{o as ot}from"../chunks/Cwh0FcVT.js";import{p as it,o as l,q as p,z as te,j as Pe,i as e,A as ft,f as b,c as o,r as s,a as y,m as lt,B as Me,s as i,x as at,n as V,t as A,v as Ie,e as L,D as Qe,F as Ze,$ as yt,w as gt}from"../chunks/BAjxKRmT.js";import{s as C,e as W,h as bt}from"../chunks/BzaWH1un.js";import{i as O,b as we}from"../chunks/CNWIBFBx.js";import{r as Ne,e as he,i as ue,a as rt,k as _t,b as Ve,g as St,l as zt,c as kt}from"../chunks/DJlT08gO.js";import{i as nt}from"../chunks/HQjPdDHY.js";import{z as Ae,D as Fe}from"../chunks/DMkSVGaj.js";import{s as et,a as tt}from"../chunks/BQtjgPEE.js";import{s as $e}from"../chunks/BVzcOKxO.js";import{p as Et}from"../chunks/Dj7YHM2X.js";import{d as st}from"../chunks/DHrXX71C.js";import{b as xt}from"../chunks/K_UNyUlX.js";var Dt=b('<div class="loading svelte-85ohhs">Loading BUSTED data...</div>'),Lt=b('<div class="summary-tiles svelte-85ohhs"><div class="tile svelte-85ohhs"><div class="tile-number svelte-85ohhs"> </div> <div class="tile-description svelte-85ohhs">Sequences</div></div> <div class="tile svelte-85ohhs"><div class="tile-number svelte-85ohhs"> </div> <div class="tile-description svelte-85ohhs">Sites</div></div> <div class="tile svelte-85ohhs"><div class="tile-number svelte-85ohhs"> </div> <div class="tile-description svelte-85ohhs">p-value</div></div> <div class="tile svelte-85ohhs"><div class="tile-number svelte-85ohhs"> </div> <div class="tile-description svelte-85ohhs">Test Statistic</div></div> <div class="tile svelte-85ohhs"><div class="tile-number svelte-85ohhs"> </div> <div class="tile-description svelte-85ohhs">Selection Detected</div></div></div>'),Rt=b(`<div class="plot-section svelte-85ohhs"><h3 class="svelte-85ohhs">Evidence Ratios for Positive Selection</h3> <p class="plot-description svelte-85ohhs">Sites with higher evidence ratios show stronger statistical support for positive selection.
          Thresholds: Strong (≥100), Moderate (≥10), Weak (≥3).</p> <div class="plot-container svelte-85ohhs"></div></div>`),Tt=b('<div class="plot-section svelte-85ohhs"><h3 class="svelte-85ohhs">Synonymous Substitution Rates</h3> <p class="plot-description svelte-85ohhs">Rate of synonymous substitutions across sites, indicating background mutation rate.</p> <div class="plot-container svelte-85ohhs"></div></div>'),Bt=b('<span class="sort-indicator svelte-85ohhs"><!></span>'),Ct=b('<th><div class="header-content svelte-85ohhs"><span> </span> <!></div></th>'),Ut=b('<td class="svelte-85ohhs"> </td>'),Pt=b("<tr></tr>"),Mt=b("<button> </button>"),wt=b('<div class="pagination svelte-85ohhs"><div class="pagination-info svelte-85ohhs"> </div> <div class="pagination-controls svelte-85ohhs"><button class="page-btn svelte-85ohhs">‹‹</button> <button class="page-btn svelte-85ohhs">‹</button> <!> <button class="page-btn svelte-85ohhs">›</button> <button class="page-btn svelte-85ohhs">››</button></div> <div class="page-size-control svelte-85ohhs"><label for="page-size">Per page:</label> <select id="page-size" class="svelte-85ohhs"><option>25</option><option>50</option><option>100</option></select></div></div>'),At=b(`<div class="analysis-info svelte-85ohhs"><h2 class="svelte-85ohhs">BUSTED Analysis Results</h2> <p><strong>Branch-site Unrestricted Statistical Test for Episodic Diversification</strong> tests whether a gene has experienced positive selection at some sites along some branches.</p></div> <!> <div class="controls svelte-85ohhs"><div class="control-group svelte-85ohhs"><label for="evidence-threshold" class="svelte-85ohhs">Evidence threshold:</label> <input type="number" id="evidence-threshold" min="1" max="1000" step="10" class="svelte-85ohhs"/></div> <div class="control-group svelte-85ohhs"><label class="svelte-85ohhs"><input type="checkbox"/> Show only sites above threshold</label></div> <div class="control-group svelte-85ohhs"><label for="visualization-type" class="svelte-85ohhs">Show plots:</label> <select id="visualization-type" class="svelte-85ohhs"><option>Evidence Ratios</option><option>Synonymous Rates</option><option>All Plots</option></select></div></div> <div class="plot-section svelte-85ohhs"><h3 class="svelte-85ohhs">Model Comparison</h3> <p class="plot-description svelte-85ohhs">Comparison of baseline and alternative models. The likelihood ratio test determines 
        if positive selection is present.</p> <div class="plot-container svelte-85ohhs"></div></div> <!> <!> <div class="table-section svelte-85ohhs"><h3 class="svelte-85ohhs">Site-Level Results</h3> <p class="table-description svelte-85ohhs">Statistical evidence for positive selection at each site. Click column headers to sort.</p> <div class="table-container svelte-85ohhs"><table class="svelte-85ohhs"><thead><tr></tr></thead><tbody></tbody></table></div> <!></div> <div class="citation svelte-85ohhs"><h3 class="svelte-85ohhs">Citation</h3> <code class="svelte-85ohhs">Murrell B, Weaver S, Smith MD, Wertheim JO, Murrell S, Aylward A, Eren K, Pollner T, 
        Martin DP, Smith DM, Scheffler K, Kosakovsky Pond SL. Gene-wide identification of 
        episodic selection. Mol Biol Evol. 2015;32(5):1365-71.</code></div>`,1),Ft=b('<div class="busted-visualization svelte-85ohhs"><!></div>');function $t(ze,pe){it(pe,!1);const d=p(),m=p(),R=p(),K=p(),k=p(),H=p(),ve=p();let U=Et(pe,"data",8),le=p(100),ae=p(!1),E=p("evidence"),P=p("Evidence Ratio"),q=p("desc"),h=p(1),T=p(50),F=p(),$=p(),j=p();function ce(t){var f,x,I,se,ne;const r=t["test results"],a=t.fits;return{sequences:((f=t.input)==null?void 0:f.sequences)||0,sites:((x=t.input)==null?void 0:x.sites)||0,pValue:(r==null?void 0:r["p-value"])||1,testStatistic:(r==null?void 0:r["test statistic"])||0,baselineLogL:((I=a==null?void 0:a["Baseline MG94xREV"])==null?void 0:I["log-likelihood"])||0,alternativeLogL:((se=a==null?void 0:a["Alternative model"])==null?void 0:se["log-likelihood"])||0,hasSelection:((r==null?void 0:r["p-value"])||1)<=.05,branchesTestedCount:((ne=t.tested)==null?void 0:ne.length)||0}}function me(t){const r=t["Evidence Ratios"],a=t["Synonymous site-posteriors"];return r?Object.keys(r).map(Number).sort((x,I)=>x-I).map(x=>{const I=r[x]||0,se=(a==null?void 0:a[x])||0;return{site:x,partition:1,"Evidence Ratio":I,"Synonymous Rate":se,Selection:fe(I)}}):[]}function re(t){const r=t.fits;if(!r)return null;const a=r["Baseline MG94xREV"],f=r["Alternative model"];return{baseline:{logL:(a==null?void 0:a["log-likelihood"])||0,parameters:(a==null?void 0:a.parameters)||0,AIC:(a==null?void 0:a.AIC)||0},alternative:{logL:(f==null?void 0:f["log-likelihood"])||0,parameters:(f==null?void 0:f.parameters)||0,AIC:(f==null?void 0:f.AIC)||0},lrt:2*(((f==null?void 0:f["log-likelihood"])||0)-((a==null?void 0:a["log-likelihood"])||0))}}function fe(t){return t>=100?"Strong Positive":t>=10?"Moderate Positive":t>=3?"Weak Positive":"Neutral/Purifying"}function ye(t){switch(t){case"Strong Positive":return"#e3243b";case"Moderate Positive":return"#ff6b35";case"Weak Positive":return"#ffa500";default:return"#666"}}function ge(t){if(!t.length)return null;const r=t.map(a=>({...a,cappedRatio:Math.min(a["Evidence Ratio"],1e3)}));return Ae({title:"Evidence Ratios for Positive Selection",subtitle:"Sites with higher ratios show stronger evidence for selection",width:1e3,height:300,marginLeft:60,x:{label:"Site",grid:!0},y:{label:"Evidence Ratio (capped at 1000)",grid:!0},color:{type:"ordinal",domain:["Strong Positive","Moderate Positive","Weak Positive","Neutral/Purifying"],range:["#e3243b","#ff6b35","#ffa500","#666"]},marks:[Fe([100],{stroke:"#e3243b",strokeDasharray:"5,5"}),Fe([10],{stroke:"#ff6b35",strokeDasharray:"3,3"}),Fe([3],{stroke:"#ffa500",strokeDasharray:"2,2"}),st(r,{x:"site",y:"cappedRatio",fill:"Selection",r:3,title:a=>`Site ${a.site}
Evidence Ratio: ${a["Evidence Ratio"].toFixed(2)}
Category: ${a.Selection}`}),tt(r,{x:"site",y:"cappedRatio",stroke:"#999",strokeWidth:1})]})}function be(t){return t.length?Ae({title:"Synonymous Substitution Rates",subtitle:"Rate of synonymous substitutions across sites",width:1e3,height:300,marginLeft:60,x:{label:"Site",grid:!0},y:{label:"Synonymous Rate",grid:!0},marks:[tt(t,{x:"site",y:"Synonymous Rate",stroke:"#1f77b4",strokeWidth:2}),st(t.filter((r,a)=>a%20===0),{x:"site",y:"Synonymous Rate",fill:"#1f77b4",r:3,title:r=>`Site ${r.site}
Synonymous Rate: ${r["Synonymous Rate"].toFixed(4)}`})]}):null}function ke(t){if(!t)return null;const r=[{model:"Baseline",logL:t.baseline.logL,AIC:t.baseline.AIC,parameters:t.baseline.parameters},{model:"Alternative",logL:t.alternative.logL,AIC:t.alternative.AIC,parameters:t.alternative.parameters}];return Ae({title:"Model Comparison",subtitle:`LRT = ${t.lrt.toFixed(2)}`,width:500,height:300,marginLeft:100,x:{type:"band",domain:["Baseline","Alternative"],label:"Model"},y:{label:"Log Likelihood",grid:!0},marks:[xt(r,{x:"model",y:"logL",fill:"#1f77b4",title:a=>`${a.model}
Log-L: ${a.logL.toFixed(2)}
AIC: ${a.AIC.toFixed(2)}
Parameters: ${a.parameters}`})]})}let de=p(!1);ot(()=>{l(de,!0)});function Ee(){if(e(F)&&(e(E)==="evidence"||e(E)==="all")){const t=ge(e(m));t&&(Me(F,e(F).innerHTML=""),e(F).appendChild(t))}if(e($)&&(e(E)==="synonymous"||e(E)==="all")){const t=be(e(m));t&&(Me($,e($).innerHTML=""),e($).appendChild(t))}if(e(j)&&e(R)){const t=ke(e(R));t&&(Me(j,e(j).innerHTML=""),e(j).appendChild(t))}}function xe(t){e(P)===t?l(q,e(q)==="asc"?"desc":"asc"):(l(P,t),l(q,"desc")),l(h,1)}function De(t,r){return typeof t!="number"?String(t):r==="Evidence Ratio"?t<.001?t.toExponential(2):t.toFixed(2):r==="Synonymous Rate"?t.toFixed(4):t.toString()}const _e=[{key:"site",label:"Site",sortable:!0},{key:"Evidence Ratio",label:"Evidence Ratio",sortable:!0},{key:"Synonymous Rate",label:"Synonymous Rate",sortable:!0},{key:"Selection",label:"Selection Category",sortable:!0}];te(()=>Pe(U()),()=>{l(d,U()?ce(U()):null)}),te(()=>Pe(U()),()=>{l(m,U()?me(U()):[])}),te(()=>Pe(U()),()=>{l(R,U()?re(U()):null)}),te(()=>(e(ae),e(m),e(le)),()=>{l(K,e(ae)?e(m).filter(t=>t["Evidence Ratio"]>=e(le)):e(m))}),te(()=>(e(K),e(P),e(q)),()=>{l(k,[...e(K)].sort((t,r)=>{const a=t[e(P)],f=r[e(P)],x=typeof a=="number"&&typeof f=="number"?a-f:String(a).localeCompare(String(f));return e(q)==="asc"?x:-x}))}),te(()=>(e(k),e(T)),()=>{l(H,Math.ceil(e(k).length/e(T)))}),te(()=>(e(k),e(h),e(T)),()=>{l(ve,e(k).slice((e(h)-1)*e(T),e(h)*e(T)))}),te(()=>(e(de),e(m)),()=>{e(de)&&e(m).length>0&&Ee()}),ft(),nt();var n=Ft(),u=o(n);{var _=t=>{var r=Dt();y(t,r)},Y=t=>{var r=At(),a=i(at(r),2);{var f=c=>{var v=Lt(),g=o(v),B=o(g),D=o(B,!0);s(B),V(2),s(g);var z=i(g,2),J=o(z),X=o(J,!0);s(J),V(2),s(z);var N=i(z,2),M=o(N),Q=o(M,!0);s(M),V(2),s(N);var G=i(N,2),Z=o(G),oe=o(Z,!0);s(Z),V(2),s(G);var w=i(G,2),S=o(w),ie=o(S,!0);s(S),V(2),s(w),s(v),A((ee,Se)=>{C(D,(e(d),L(()=>e(d).sequences))),C(X,(e(d),L(()=>e(d).sites))),$e(M,`color: ${e(d),L(()=>e(d).hasSelection?"#e3243b":"#666")??""}`),C(Q,ee),C(oe,Se),$e(S,`color: ${e(d),L(()=>e(d).hasSelection?"#e3243b":"#666")??""}`),C(ie,(e(d),L(()=>e(d).hasSelection?"YES":"NO")))},[()=>(e(d),L(()=>e(d).pValue.toExponential(3))),()=>(e(d),L(()=>e(d).testStatistic.toFixed(2)))]),y(c,v)};O(a,c=>{e(d)&&c(f)})}var x=i(a,2),I=o(x),se=i(o(I),2);Ne(se),s(I);var ne=i(I,2),We=o(ne),Oe=o(We);Ne(Oe),V(),s(We),s(ne);var He=i(ne,2),Le=i(o(He),2);A(()=>{e(E),Ie(()=>{})});var Re=o(Le);Re.value=Re.__value="evidence";var Te=i(Re);Te.value=Te.__value="synonymous";var qe=i(Te);qe.value=qe.__value="all",s(Le),s(He),s(x);var Be=i(x,2),vt=i(o(Be),4);we(vt,c=>l(j,c),()=>e(j)),s(Be);var Je=i(Be,2);{var ct=c=>{var v=Rt(),g=i(o(v),4);we(g,B=>l(F,B),()=>e(F)),s(v),y(c,v)};O(Je,c=>{(e(E)==="evidence"||e(E)==="all")&&c(ct)})}var Ge=i(Je,2);{var dt=c=>{var v=Tt(),g=i(o(v),4);we(g,B=>l($,B),()=>e($)),s(v),y(c,v)};O(Ge,c=>{(e(E)==="synonymous"||e(E)==="all")&&c(dt)})}var Ke=i(Ge,2),Ce=i(o(Ke),4),Ye=o(Ce),Ue=o(Ye),je=o(Ue);he(je,5,()=>_e,ue,(c,v)=>{var g=Ct();let B;var D=o(g),z=o(D),J=o(z,!0);s(z);var X=i(z,2);{var N=M=>{var Q=Bt(),G=o(Q);{var Z=w=>{var S=Qe();A(()=>C(S,e(q)==="asc"?"↑":"↓")),y(w,S)},oe=w=>{var S=Qe("↕");y(w,S)};O(G,w=>{e(P),e(v),L(()=>e(P)===e(v).key)?w(Z):w(oe,!1)})}s(Q),y(M,Q)};O(X,M=>{e(v),L(()=>e(v).sortable)&&M(N)})}s(D),s(g),A(M=>{B=et(g,1,"svelte-85ohhs",null,B,M),C(J,(e(v),L(()=>e(v).label)))},[()=>({sortable:e(v).sortable,sorted:e(P)===e(v).key})]),W("click",g,()=>e(v).sortable&&xe(e(v).key)),y(c,g)}),s(je),s(Ue);var Xe=i(Ue);he(Xe,5,()=>e(ve),ue,(c,v)=>{var g=Pt();he(g,5,()=>_e,ue,(B,D)=>{var z=Ut(),J=o(z,!0);s(z),A((X,N)=>{$e(z,`color: ${X??""}`),C(J,N)},[()=>(e(D),e(v),L(()=>e(D).key==="Selection"?ye(e(v)[e(D).key]):"inherit")),()=>(e(v),e(D),L(()=>De(e(v)[e(D).key],e(D).key)))]),y(B,z)}),s(g),y(c,g)}),s(Xe),s(Ye),s(Ce);var ht=i(Ce,2);{var ut=c=>{var v=wt(),g=o(v),B=o(g);s(g);var D=i(g,2),z=o(D),J=i(z,2),X=i(J,2);he(X,1,()=>(e(H),e(h),L(()=>Array.from({length:Math.min(5,e(H))},(S,ie)=>Math.max(1,e(h)-2)+ie).filter(S=>S<=e(H)))),ue,(S,ie)=>{var ee=Mt();let Se;var pt=o(ee,!0);s(ee),A(mt=>{Se=et(ee,1,"page-btn svelte-85ohhs",null,Se,mt),C(pt,e(ie))},[()=>({active:e(ie)===e(h)})]),W("click",ee,()=>l(h,e(ie))),y(S,ee)});var N=i(X,2),M=i(N,2);s(D);var Q=i(D,2),G=i(o(Q),2);A(()=>{e(T),Ie(()=>{e(h)})});var Z=o(G);Z.value=Z.__value=25;var oe=i(Z);oe.value=oe.__value=50;var w=i(oe);w.value=w.__value=100,s(G),s(Q),s(v),A(S=>{C(B,`Showing ${(e(h)-1)*e(T)+1}-${S??""} 
            of ${e(k),L(()=>e(k).length)??""} sites`),z.disabled=e(h)===1,J.disabled=e(h)===1,N.disabled=e(h)===e(H),M.disabled=e(h)===e(H)},[()=>(e(h),e(T),e(k),L(()=>Math.min(e(h)*e(T),e(k).length)))]),W("click",z,()=>l(h,1)),W("click",J,()=>Ze(h,-1)),W("click",N,()=>Ze(h)),W("click",M,()=>l(h,e(H))),Ve(G,()=>e(T),S=>l(T,S)),W("change",G,()=>l(h,1)),y(c,v)};O(ht,c=>{e(H)>1&&c(ut)})}s(Ke),V(2),rt(se,()=>e(le),c=>l(le,c)),_t(Oe,()=>e(ae),c=>l(ae,c)),Ve(Le,()=>e(E),c=>l(E,c)),y(t,r)};O(u,t=>{U()?t(Y,!1):t(_)})}s(n),y(ze,n),lt()}var It=b('<meta name="description" content="Interactive visualization of BUSTED (Branch-site Unrestricted Statistical Test for Episodic Diversification) analysis results"/>'),Nt=b("<option> </option>"),Vt=b('<div class="status loading svelte-m5loyz"><p>Loading data...</p></div>'),Wt=b('<div class="status error svelte-m5loyz"><p> </p> <button class="svelte-m5loyz">Dismiss</button></div>'),Ot=b('<div class="visualization-section svelte-m5loyz"><!></div>'),Ht=b('<div class="no-data svelte-m5loyz"><h3>No Data Loaded</h3> <p>Please load BUSTED analysis data using one of the options above to see the visualization.</p></div>'),qt=b(`<div class="busted-demo svelte-m5loyz"><div class="header svelte-m5loyz"><h1 class="svelte-m5loyz">BUSTED Analysis</h1> <p class="svelte-m5loyz">Interactive visualization of Branch-site Unrestricted Statistical Test for Episodic Diversification.
      BUSTED tests whether a gene has experienced positive selection at some sites along some branches.</p></div> <div class="data-loading svelte-m5loyz"><h2>Load Data</h2> <div class="loading-options svelte-m5loyz"><div class="option svelte-m5loyz"><h3 class="svelte-m5loyz">Test Data</h3> <div class="test-data-controls svelte-m5loyz"><select class="svelte-m5loyz"></select> <button class="svelte-m5loyz"> </button></div> <p class="help svelte-m5loyz">Load example data to explore the visualization features.</p></div> <div class="option svelte-m5loyz"><h3 class="svelte-m5loyz">Load from URL</h3> <div class="url-input svelte-m5loyz"><input type="url" placeholder="Enter JSON file URL..." class="svelte-m5loyz"/> <button class="svelte-m5loyz">Load</button></div> <p class="help svelte-m5loyz">Load BUSTED results from a remote JSON file.</p></div> <div class="option svelte-m5loyz"><h3 class="svelte-m5loyz">Upload File</h3> <input type="file" accept=".json,.gz" class="svelte-m5loyz"/> <p class="help svelte-m5loyz">Upload a local BUSTED JSON file from your computer.</p></div></div> <!> <!></div> <!> <div class="usage-info svelte-m5loyz"><h2 class="svelte-m5loyz">About BUSTED</h2> <h3 class="svelte-m5loyz">What is BUSTED?</h3> <p><strong>BUSTED (Branch-site Unrestricted Statistical Test for Episodic Diversification)</strong> is a likelihood ratio test that provides evidence for positive selection occurring at 
      some sites along some branches in a phylogeny. Unlike site-specific methods, BUSTED 
      tests for selection at the gene level.</p> <h3 class="svelte-m5loyz">Key Features</h3> <ul class="svelte-m5loyz"><li class="svelte-m5loyz"><strong>Gene-wide test:</strong> Tests whether ANY sites have experienced positive selection</li> <li class="svelte-m5loyz"><strong>No multiple testing:</strong> Single test per gene, avoiding multiple comparison issues</li> <li class="svelte-m5loyz"><strong>Flexible framework:</strong> Can test specific branches or all branches</li> <li class="svelte-m5loyz"><strong>Evidence ratios:</strong> Provides site-level evidence for positive selection</li> <li class="svelte-m5loyz"><strong>Robust method:</strong> Uses likelihood ratio test with known statistical properties</li></ul> <h3 class="svelte-m5loyz">Interpretation</h3> <ul class="svelte-m5loyz"><li class="svelte-m5loyz"><strong>p-value &lt; 0.05:</strong> Evidence of positive selection somewhere in the gene</li> <li class="svelte-m5loyz"><strong>Evidence Ratios:</strong> Site-level support for positive selection</li> <li class="svelte-m5loyz"><strong>≥100:</strong> Strong evidence for positive selection at site</li> <li class="svelte-m5loyz"><strong>≥10:</strong> Moderate evidence for positive selection</li> <li class="svelte-m5loyz"><strong>≥3:</strong> Weak evidence for positive selection</li></ul> <h3 class="svelte-m5loyz">Using This Component</h3> <pre class="svelte-m5loyz"><code class="svelte-m5loyz">import &#123; BustedVisualization &#125; from 'hyphy-scope';

&lt;BustedVisualization data=&#123;bustedResults&#125; /&gt;</code></pre> <h3 class="svelte-m5loyz">Data Format</h3> <p>The component expects BUSTED analysis results in JSON format with the following structure:</p> <ul class="svelte-m5loyz"><li class="svelte-m5loyz"><code class="svelte-m5loyz">test results</code> - Overall test statistics and p-value</li> <li class="svelte-m5loyz"><code class="svelte-m5loyz">Evidence Ratios</code> - Site-level evidence for positive selection</li> <li class="svelte-m5loyz"><code class="svelte-m5loyz">Synonymous site-posteriors</code> - Synonymous substitution rates</li> <li class="svelte-m5loyz"><code class="svelte-m5loyz">fits</code> - Model comparison statistics</li></ul> <h3 class="svelte-m5loyz">Method Comparison</h3> <p>BUSTED differs from other HyPhy methods:</p> <ul class="svelte-m5loyz"><li class="svelte-m5loyz"><strong>vs. FEL/MEME:</strong> Tests gene-wide rather than site-by-site</li> <li class="svelte-m5loyz"><strong>vs. aBSREL:</strong> Tests all branches rather than individual branches</li> <li class="svelte-m5loyz"><strong>vs. RELAX:</strong> Tests for selection rather than relaxation of selection</li></ul></div></div>`);function as(ze,pe){it(pe,!1);let d=p(null),m=p(!1),R=p(""),K=p(""),k=p("busted");const H=[{value:"fel",label:"FEL"},{value:"meme",label:"MEME"},{value:"absrel",label:"aBSREL"},{value:"busted",label:"BUSTED"},{value:"relax",label:"RELAX"},{value:"slac",label:"SLAC"}];ot(async()=>{await ve()});async function ve(){try{l(m,!0),l(R,""),l(d,await St(e(k)))}catch(n){l(R,`Failed to load ${e(k).toUpperCase()} test data: ${n.message}`),l(d,null)}finally{l(m,!1)}}async function U(){if(!e(K).trim()){l(R,"Please enter a valid URL");return}try{l(m,!0),l(R,""),l(d,await zt(e(K)))}catch(n){l(R,`Failed to load data from URL: ${n.message}`),l(d,null)}finally{l(m,!1)}}async function le(n){var _;const u=(_=n.target.files)==null?void 0:_[0];if(u)try{l(m,!0),l(R,""),l(d,await kt(u))}catch(Y){l(R,`Failed to load file: ${Y.message}`),l(d,null)}finally{l(m,!1)}}function ae(){l(R,"")}nt();var E=qt();bt(n=>{var u=It();yt.title="BUSTED Analysis - HyPhy Scope",y(n,u)});var P=i(o(E),2),q=i(o(P),2),h=o(q),T=i(o(h),2),F=o(T);A(()=>{e(k),Ie(()=>{})}),he(F,5,()=>H,ue,(n,u)=>{var _=Nt(),Y=o(_,!0);s(_);var t={};A(()=>{C(Y,e(u).label),t!==(t=e(u).value)&&(_.value=(_.__value=e(u).value)??"")}),y(n,_)}),s(F);var $=i(F,2),j=o($,!0);s($),s(T),V(2),s(h);var ce=i(h,2),me=i(o(ce),2),re=o(me);Ne(re);var fe=i(re,2);s(me),V(2),s(ce);var ye=i(ce,2),ge=i(o(ye),2);V(2),s(ye),s(q);var be=i(q,2);{var ke=n=>{var u=Vt();y(n,u)};O(be,n=>{e(m)&&n(ke)})}var de=i(be,2);{var Ee=n=>{var u=Wt(),_=o(u),Y=o(_,!0);s(_);var t=i(_,2);s(u),A(()=>C(Y,e(R))),W("click",t,ae),y(n,u)};O(de,n=>{e(R)&&n(Ee)})}s(P);var xe=i(P,2);{var De=n=>{var u=Ot(),_=o(u);$t(_,{get data(){return e(d)}}),s(u),y(n,u)},_e=n=>{var u=gt(),_=at(u);{var Y=t=>{var r=Ht();y(t,r)};O(_,t=>{e(m)||t(Y)},!0)}y(n,u)};O(xe,n=>{e(d)?n(De):n(_e,!1)})}V(2),s(E),A(n=>{$.disabled=e(m),C(j,e(m)?"Loading...":"Load Test Data"),re.disabled=e(m),fe.disabled=n,ge.disabled=e(m)},[()=>e(m)||!e(K).trim()]),Ve(F,()=>e(k),n=>l(k,n)),W("click",$,ve),rt(re,()=>e(K),n=>l(K,n)),W("click",fe,U),W("change",ge,le),y(ze,E),lt()}export{as as component};
