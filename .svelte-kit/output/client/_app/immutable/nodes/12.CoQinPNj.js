import"../chunks/CWj6FrbW.js";import"../chunks/D_-aaKZl.js";import{o as se}from"../chunks/o3K4TFwT.js";import{p as ae,o as l,q as m,aC as lt,j as Yt,i as t,aD as ge,f as _,c as a,r as s,a as g,m as ie,aE as Et,s as i,x as le,n as q,t as $,v as Rt,e as A,aF as Qt,aG as Zt,$ as me,w as he}from"../chunks/DFDNEQV0.js";import{s as F,e as I,h as _e}from"../chunks/y1NYNGaY.js";import{i as w,b as $t}from"../chunks/DwfxME3I.js";import{e as pt,i as gt,g as be,l as Se,a as ye}from"../chunks/D-5BVINM.js";import{r as Vt,a as re,c as Ne,b as qt}from"../chunks/m5uLgNLF.js";import{i as oe}from"../chunks/DPzC27DL.js";import{F as wt,G as Tt}from"../chunks/BWWySPzG.js";import{s as te,l as ee}from"../chunks/rQMkXgiS.js";import{s as je}from"../chunks/D1jAydFb.js";import{p as Le}from"../chunks/rOhOFPaZ.js";import{d as Ut}from"../chunks/Bi4WDgjP.js";var ke=_('<div class="loading svelte-1rt9t8r">Loading SLAC data...</div>'),xe=_('<div class="summary-tiles svelte-1rt9t8r"><div class="tile svelte-1rt9t8r"><div class="tile-number svelte-1rt9t8r"> </div> <div class="tile-description svelte-1rt9t8r">Sequences</div></div> <div class="tile svelte-1rt9t8r"><div class="tile-number svelte-1rt9t8r"> </div> <div class="tile-description svelte-1rt9t8r">Sites</div></div> <div class="tile svelte-1rt9t8r"><div class="tile-number svelte-1rt9t8r"> </div> <div class="tile-description svelte-1rt9t8r">Significant Sites</div></div> <div class="tile svelte-1rt9t8r"><div class="tile-number svelte-1rt9t8r" style="color: #e3243b"> </div> <div class="tile-description svelte-1rt9t8r">Positive Selection</div></div> <div class="tile svelte-1rt9t8r"><div class="tile-number svelte-1rt9t8r" style="color: #1f77b4"> </div> <div class="tile-description svelte-1rt9t8r">Negative Selection</div></div></div>'),De=_(`<div class="plot-section svelte-1rt9t8r"><h3 class="svelte-1rt9t8r">dN/dS Ratios</h3> <p class="plot-description svelte-1rt9t8r">Ratio of non-synonymous to synonymous substitution rates. 
          Values > 1 may indicate positive selection.</p> <div class="plot-container svelte-1rt9t8r"></div></div>`),Ce=_(`<div class="plot-section svelte-1rt9t8r"><h3 class="svelte-1rt9t8r">Normalized dN - dS</h3> <p class="plot-description svelte-1rt9t8r">Normalized difference between non-synonymous and synonymous rates. 
          Positive values indicate excess non-synonymous substitutions.</p> <div class="plot-container svelte-1rt9t8r"></div></div>`),ze=_('<div class="plot-section svelte-1rt9t8r"><h3 class="svelte-1rt9t8r">Statistical Significance</h3> <p class="plot-description svelte-1rt9t8r">-log₁₀(p-value) for each site. Sites above the threshold line are significant.</p> <div class="plot-container svelte-1rt9t8r"></div></div>'),Pe=_('<span class="sort-indicator svelte-1rt9t8r"><!></span>'),Ae=_('<th><div class="header-content svelte-1rt9t8r"><span> </span> <!></div></th>'),Fe=_('<td class="svelte-1rt9t8r"> </td>'),Me=_("<tr></tr>"),Ee=_("<button> </button>"),$e=_('<div class="pagination svelte-1rt9t8r"><div class="pagination-info svelte-1rt9t8r"> </div> <div class="pagination-controls svelte-1rt9t8r"><button class="page-btn svelte-1rt9t8r">‹‹</button> <button class="page-btn svelte-1rt9t8r">‹</button> <!> <button class="page-btn svelte-1rt9t8r">›</button> <button class="page-btn svelte-1rt9t8r">››</button></div> <div class="page-size-control svelte-1rt9t8r"><label for="page-size">Per page:</label> <select id="page-size" class="svelte-1rt9t8r"><option>25</option><option>50</option><option>100</option></select></div></div>'),we=_(`<div class="analysis-info svelte-1rt9t8r"><h2 class="svelte-1rt9t8r">SLAC Analysis Results</h2> <p><strong>Single Likelihood Ancestor Counting (SLAC)</strong> uses a maximum likelihood 
        approach to infer the number of synonymous and non-synonymous substitutions at each site.</p></div> <!> <div class="controls svelte-1rt9t8r"><div class="control-group svelte-1rt9t8r"><label for="pvalue-threshold" class="svelte-1rt9t8r">p-value threshold:</label> <input type="number" id="pvalue-threshold" min="0.001" max="0.5" step="0.01" class="svelte-1rt9t8r"/></div> <div class="control-group svelte-1rt9t8r"><label class="svelte-1rt9t8r"><input type="checkbox"/> Show only significant sites</label></div> <div class="control-group svelte-1rt9t8r"><label for="visualization-type" class="svelte-1rt9t8r">Show plots:</label> <select id="visualization-type" class="svelte-1rt9t8r"><option>dN/dS Ratios</option><option>Normalized dN-dS</option><option>p-values</option><option>All Plots</option></select></div></div> <!> <!> <!> <div class="table-section svelte-1rt9t8r"><h3 class="svelte-1rt9t8r">Site-Level Results</h3> <p class="table-description svelte-1rt9t8r">SLAC results for each site. Click column headers to sort.</p> <div class="table-container svelte-1rt9t8r"><table class="svelte-1rt9t8r"><thead><tr></tr></thead><tbody></tbody></table></div> <!></div> <div class="citation svelte-1rt9t8r"><h3 class="svelte-1rt9t8r">Citation</h3> <code class="svelte-1rt9t8r">Kosakovsky Pond SL, Frost SDW. Not so different after all: a comparison of methods 
        for detecting amino acid sites under selection. Mol Biol Evol. 2005;22(5):1208-22.</code></div>`,1),Te=_('<div class="slac-visualization svelte-1rt9t8r"><!></div>');function Ue(Lt,mt){ae(mt,!1);const h=m(),u=m(),z=m(),k=m(),P=m(),ht=m();let H=Le(mt,"data",8),W=m(.1),rt=m(!1),y=m("dnds"),M=m("p-value"),O=m("asc"),d=m(1),x=m(50),G=m(),T=m(),U=m();function kt(e){var Y,K,Q;const r=((K=(Y=e.MLE)==null?void 0:Y.content)==null?void 0:K["0"])||[],c=.1;let S=0,N=0,X=0;return r.forEach(Z=>{const nt=Z[4]||1,ft=Z[3]||0;nt<=c&&(S++,ft>1?N++:X++)}),{sequences:((Q=e.input)==null?void 0:Q.sequences)||0,sites:r.length,partitions:Object.keys(e["data partitions"]||{}).length,testedSites:r.length,significantSites:S,positivelySelected:N,negativelySelected:X,pValueThreshold:c}}function dt(e){var c,S;const r=((S=(c=e.MLE)==null?void 0:c.content)==null?void 0:S["0"])||[];return e["data partitions"],r.map((N,X)=>{const Y=N[0]||0,K=N[1]||0,Q=N[3]||0,Z=N[4]||1,nt=N[5]!==void 0?N[5]:Y-K;return{site:X+1,partition:_t(),"dN/dS":Q,dN:Y,dS:K,"Normalized dN-dS":nt,"p-value":Z,significance:ot(Z,Q)}})}function _t(e,r){return 1}function ot(e,r){return e>t(W)?"Not Significant":r>1?"Positive Selection":"Negative Selection"}function bt(e){switch(e){case"Positive Selection":return"#e3243b";case"Negative Selection":return"#1f77b4";default:return"#666"}}function St(e){if(!e.length)return null;const r=e.map(c=>({...c,cappedDNDS:Math.min(c["dN/dS"],10)}));return wt({title:"dN/dS Ratios Across Sites",subtitle:"Sites with dN/dS > 1 may be under positive selection",width:1e3,height:300,marginLeft:60,x:{label:"Site",grid:!0},y:{label:"dN/dS (capped at 10)",grid:!0},color:{type:"ordinal",domain:["Positive Selection","Negative Selection","Not Significant"],range:["#e3243b","#1f77b4","#666"]},marks:[Tt([1],{stroke:"#666",strokeDasharray:"5,5"}),Ut(r,{x:"site",y:"cappedDNDS",fill:"significance",r:3,title:c=>`Site ${c.site}
dN/dS: ${c["dN/dS"].toFixed(3)}
p-value: ${c["p-value"].toFixed(4)}
${c.significance}`}),ee(r,{x:"site",y:"cappedDNDS",stroke:"#999",strokeWidth:1})]})}function yt(e){return e.length?wt({title:"Normalized dN - dS",subtitle:"Positive values indicate excess of non-synonymous substitutions",width:1e3,height:300,marginLeft:60,x:{label:"Site",grid:!0},y:{label:"Normalized dN - dS",grid:!0},color:{type:"ordinal",domain:["Positive Selection","Negative Selection","Not Significant"],range:["#e3243b","#1f77b4","#666"]},marks:[Tt([0],{stroke:"#666",strokeDasharray:"5,5"}),Ut(e,{x:"site",y:"Normalized dN-dS",fill:"significance",r:3,title:r=>`Site ${r.site}
Normalized dN-dS: ${r["Normalized dN-dS"].toFixed(3)}
p-value: ${r["p-value"].toFixed(4)}`}),ee(e,{x:"site",y:"Normalized dN-dS",stroke:"#999",strokeWidth:1})]}):null}function Nt(e){if(!e.length)return null;const r=e.map(S=>({...S,negLogP:-Math.log10(Math.max(S["p-value"],1e-10))})),c=-Math.log10(t(W));return wt({title:"Statistical Significance",subtitle:`p-value threshold: ${t(W)}`,width:1e3,height:300,marginLeft:60,x:{label:"Site",grid:!0},y:{label:"-log₁₀(p-value)",grid:!0},color:{type:"ordinal",domain:["Positive Selection","Negative Selection","Not Significant"],range:["#e3243b","#1f77b4","#666"]},marks:[Tt([c],{stroke:"#e3243b",strokeDasharray:"5,5"}),Ut(r,{x:"site",y:"negLogP",fill:"significance",r:3,title:S=>`Site ${S.site}
p-value: ${S["p-value"].toExponential(3)}
${S.significance}`})]})}let ct=m(!1);se(()=>{l(ct,!0)});function xt(){if(t(G)&&(t(y)==="dnds"||t(y)==="all")){const e=St(t(u));e&&(Et(G,t(G).innerHTML=""),t(G).appendChild(e))}if(t(T)&&(t(y)==="normalized"||t(y)==="all")){const e=yt(t(u));e&&(Et(T,t(T).innerHTML=""),t(T).appendChild(e))}if(t(U)&&(t(y)==="pvalue"||t(y)==="all")){const e=Nt(t(u));e&&(Et(U,t(U).innerHTML=""),t(U).appendChild(e))}}function Dt(e){t(M)===e?l(O,t(O)==="asc"?"desc":"asc"):(l(M,e),l(O,e==="p-value"?"asc":"desc")),l(d,1)}function Ct(e,r){return typeof e!="number"?String(e):r==="p-value"?e<.001?e.toExponential(2):e.toFixed(4):r==="dN/dS"||r==="dN"||r==="dS"?e.toFixed(4):r==="Normalized dN-dS"?e.toFixed(3):e.toString()}const jt=[{key:"site",label:"Site",sortable:!0},{key:"dN/dS",label:"dN/dS",sortable:!0},{key:"dN",label:"dN",sortable:!0},{key:"dS",label:"dS",sortable:!0},{key:"Normalized dN-dS",label:"Normalized dN-dS",sortable:!0},{key:"p-value",label:"p-value",sortable:!0},{key:"significance",label:"Significance",sortable:!0}];lt(()=>Yt(H()),()=>{l(h,H()?kt(H()):null)}),lt(()=>Yt(H()),()=>{l(u,H()?dt(H()):[])}),lt(()=>(t(rt),t(u),t(W)),()=>{l(z,t(rt)?t(u).filter(e=>e["p-value"]<=t(W)):t(u))}),lt(()=>(t(z),t(M),t(O)),()=>{l(k,[...t(z)].sort((e,r)=>{const c=e[t(M)],S=r[t(M)],N=typeof c=="number"&&typeof S=="number"?c-S:String(c).localeCompare(String(S));return t(O)==="asc"?N:-N}))}),lt(()=>(t(k),t(x)),()=>{l(P,Math.ceil(t(k).length/t(x)))}),lt(()=>(t(k),t(d),t(x)),()=>{l(ht,t(k).slice((t(d)-1)*t(x),t(d)*t(x)))}),lt(()=>(t(ct),t(u)),()=>{t(ct)&&t(u).length>0&&xt()}),ge(),oe();var ut=Te(),n=a(ut);{var f=e=>{var r=ke();g(e,r)},b=e=>{var r=we(),c=i(le(r),2);{var S=v=>{var o=xe(),p=a(o),D=a(p),C=a(D,!0);s(D),q(2),s(p);var j=i(p,2),B=a(j),tt=a(B,!0);s(B),q(2),s(j);var R=i(j,2),V=a(R),et=a(V,!0);s(V),q(2),s(R);var J=i(R,2),st=a(J),at=a(st,!0);s(st),q(2),s(J);var E=i(J,2),L=a(E),it=a(L,!0);s(L),q(2),s(E),s(o),$(()=>{F(C,(t(h),A(()=>t(h).sequences))),F(tt,(t(h),A(()=>t(h).sites))),F(et,(t(h),A(()=>t(h).significantSites))),F(at,(t(h),A(()=>t(h).positivelySelected))),F(it,(t(h),A(()=>t(h).negativelySelected)))}),g(v,o)};w(c,v=>{t(h)&&v(S)})}var N=i(c,2),X=a(N),Y=i(a(X),2);Vt(Y),s(X);var K=i(X,2),Q=a(K),Z=a(Q);Vt(Z),q(),s(Q),s(K);var nt=i(K,2),ft=i(a(nt),2);$(()=>{t(y),Rt(()=>{})});var zt=a(ft);zt.value=zt.__value="dnds";var Pt=i(zt);Pt.value=Pt.__value="normalized";var At=i(Pt);At.value=At.__value="pvalue";var It=i(At);It.value=It.__value="all",s(ft),s(nt),s(N);var Ht=i(N,2);{var ne=v=>{var o=De(),p=i(a(o),4);$t(p,D=>l(G,D),()=>t(G)),s(o),g(v,o)};w(Ht,v=>{(t(y)==="dnds"||t(y)==="all")&&v(ne)})}var Ot=i(Ht,2);{var ve=v=>{var o=Ce(),p=i(a(o),4);$t(p,D=>l(T,D),()=>t(T)),s(o),g(v,o)};w(Ot,v=>{(t(y)==="normalized"||t(y)==="all")&&v(ve)})}var Bt=i(Ot,2);{var de=v=>{var o=ze(),p=i(a(o),4);$t(p,D=>l(U,D),()=>t(U)),s(o),g(v,o)};w(Bt,v=>{(t(y)==="pvalue"||t(y)==="all")&&v(de)})}var Jt=i(Bt,2),Ft=i(a(Jt),4),Wt=a(Ft),Mt=a(Wt),Gt=a(Mt);pt(Gt,5,()=>jt,gt,(v,o)=>{var p=Ae();let D;var C=a(p),j=a(C),B=a(j,!0);s(j);var tt=i(j,2);{var R=V=>{var et=Pe(),J=a(et);{var st=E=>{var L=Qt();$(()=>F(L,t(O)==="asc"?"↑":"↓")),g(E,L)},at=E=>{var L=Qt("↕");g(E,L)};w(J,E=>{t(M),t(o),A(()=>t(M)===t(o).key)?E(st):E(at,!1)})}s(et),g(V,et)};w(tt,V=>{t(o),A(()=>t(o).sortable)&&V(R)})}s(C),s(p),$(V=>{D=te(p,1,"svelte-1rt9t8r",null,D,V),F(B,(t(o),A(()=>t(o).label)))},[()=>({sortable:t(o).sortable,sorted:t(M)===t(o).key})]),I("click",p,()=>t(o).sortable&&Dt(t(o).key)),g(v,p)}),s(Gt),s(Mt);var Kt=i(Mt);pt(Kt,5,()=>t(ht),gt,(v,o)=>{var p=Me();pt(p,5,()=>jt,gt,(D,C)=>{var j=Fe(),B=a(j,!0);s(j),$((tt,R)=>{je(j,`color: ${tt??""}`),F(B,R)},[()=>(t(C),t(o),A(()=>t(C).key==="significance"?bt(t(o)[t(C).key]):"inherit")),()=>(t(o),t(C),A(()=>Ct(t(o)[t(C).key],t(C).key)))]),g(D,j)}),s(p),g(v,p)}),s(Kt),s(Wt),s(Ft);var ce=i(Ft,2);{var ue=v=>{var o=$e(),p=a(o),D=a(p);s(p);var C=i(p,2),j=a(C),B=i(j,2),tt=i(B,2);pt(tt,1,()=>(t(P),t(d),A(()=>Array.from({length:Math.min(5,t(P))},(L,it)=>Math.max(1,t(d)-2)+it).filter(L=>L<=t(P)))),gt,(L,it)=>{var vt=Ee();let Xt;var fe=a(vt,!0);s(vt),$(pe=>{Xt=te(vt,1,"page-btn svelte-1rt9t8r",null,Xt,pe),F(fe,t(it))},[()=>({active:t(it)===t(d)})]),I("click",vt,()=>l(d,t(it))),g(L,vt)});var R=i(tt,2),V=i(R,2);s(C);var et=i(C,2),J=i(a(et),2);$(()=>{t(x),Rt(()=>{t(d)})});var st=a(J);st.value=st.__value=25;var at=i(st);at.value=at.__value=50;var E=i(at);E.value=E.__value=100,s(J),s(et),s(o),$(L=>{F(D,`Showing ${(t(d)-1)*t(x)+1}-${L??""} 
            of ${t(k),A(()=>t(k).length)??""} sites`),j.disabled=t(d)===1,B.disabled=t(d)===1,R.disabled=t(d)===t(P),V.disabled=t(d)===t(P)},[()=>(t(d),t(x),t(k),A(()=>Math.min(t(d)*t(x),t(k).length)))]),I("click",j,()=>l(d,1)),I("click",B,()=>Zt(d,-1)),I("click",R,()=>Zt(d)),I("click",V,()=>l(d,t(P))),qt(J,()=>t(x),L=>l(x,L)),I("change",J,()=>l(d,1)),g(v,o)};w(ce,v=>{t(P)>1&&v(ue)})}s(Jt),q(2),re(Y,()=>t(W),v=>l(W,v)),Ne(Z,()=>t(rt),v=>l(rt,v)),qt(ft,()=>t(y),v=>l(y,v)),g(e,r)};w(n,e=>{H()?e(b,!1):e(f)})}s(ut),g(Lt,ut),ie()}var Re=_('<meta name="description" content="Interactive visualization of SLAC (Single Likelihood Ancestor Counting) analysis results"/>'),Ve=_("<option> </option>"),qe=_('<div class="status loading svelte-1vcjtdf"><p>Loading data...</p></div>'),Ie=_('<div class="status error svelte-1vcjtdf"><p> </p> <button class="svelte-1vcjtdf">Dismiss</button></div>'),He=_('<div class="visualization-section svelte-1vcjtdf"><!></div>'),Oe=_('<div class="no-data svelte-1vcjtdf"><h3>No Data Loaded</h3> <p>Please load SLAC analysis data using one of the options above to see the visualization.</p></div>'),Be=_(`<div class="slac-demo svelte-1vcjtdf"><div class="header svelte-1vcjtdf"><h1 class="svelte-1vcjtdf">SLAC Analysis</h1> <p class="svelte-1vcjtdf">Interactive visualization of Single Likelihood Ancestor Counting analysis.
      SLAC uses maximum likelihood to infer synonymous and non-synonymous substitutions at each site.</p></div> <div class="data-loading svelte-1vcjtdf"><h2>Load Data</h2> <div class="loading-options svelte-1vcjtdf"><div class="option svelte-1vcjtdf"><h3 class="svelte-1vcjtdf">Test Data</h3> <div class="test-data-controls svelte-1vcjtdf"><select class="svelte-1vcjtdf"></select> <button class="svelte-1vcjtdf"> </button></div> <p class="help svelte-1vcjtdf">Load example data to explore the visualization features.</p></div> <div class="option svelte-1vcjtdf"><h3 class="svelte-1vcjtdf">Load from URL</h3> <div class="url-input svelte-1vcjtdf"><input type="url" placeholder="Enter JSON file URL..." class="svelte-1vcjtdf"/> <button class="svelte-1vcjtdf">Load</button></div> <p class="help svelte-1vcjtdf">Load SLAC results from a remote JSON file.</p></div> <div class="option svelte-1vcjtdf"><h3 class="svelte-1vcjtdf">Upload File</h3> <input type="file" accept=".json,.gz" class="svelte-1vcjtdf"/> <p class="help svelte-1vcjtdf">Upload a local SLAC JSON file from your computer.</p></div></div> <!> <!></div> <!> <div class="usage-info svelte-1vcjtdf"><h2 class="svelte-1vcjtdf">About SLAC</h2> <h3 class="svelte-1vcjtdf">What is SLAC?</h3> <p><strong>SLAC (Single Likelihood Ancestor Counting)</strong> is a maximum likelihood method 
      for detecting sites under positive selection. It counts the number of synonymous (dS) and 
      non-synonymous (dN) substitutions at each site by reconstructing ancestral sequences.</p> <h3 class="svelte-1vcjtdf">Key Features</h3> <ul class="svelte-1vcjtdf"><li class="svelte-1vcjtdf"><strong>Maximum likelihood:</strong> Uses ML to reconstruct ancestral sequences</li> <li class="svelte-1vcjtdf"><strong>Site-by-site analysis:</strong> Tests each codon site individually</li> <li class="svelte-1vcjtdf"><strong>dN/dS ratios:</strong> Calculates selection pressure at each site</li> <li class="svelte-1vcjtdf"><strong>Statistical testing:</strong> Provides p-values for significance</li> <li class="svelte-1vcjtdf"><strong>Fast computation:</strong> Efficient algorithm for large datasets</li></ul> <h3 class="svelte-1vcjtdf">Interpretation</h3> <ul class="svelte-1vcjtdf"><li class="svelte-1vcjtdf"><strong>dN/dS &gt; 1:</strong> May indicate positive selection</li> <li class="svelte-1vcjtdf"><strong>dN/dS &lt; 1:</strong> Indicates purifying/negative selection</li> <li class="svelte-1vcjtdf"><strong>dN/dS ≈ 1:</strong> Indicates neutral evolution</li> <li class="svelte-1vcjtdf"><strong>p-value &lt; 0.1:</strong> Significant evidence for non-neutral evolution</li> <li class="svelte-1vcjtdf"><strong>Normalized dN-dS:</strong> Difference measure accounting for variance</li></ul> <h3 class="svelte-1vcjtdf">Using This Component</h3> <pre class="svelte-1vcjtdf"><code class="svelte-1vcjtdf">import &#123; SlacVisualization &#125; from 'hyphy-scope';

&lt;SlacVisualization data=&#123;slacResults&#125; /&gt;</code></pre> <h3 class="svelte-1vcjtdf">Data Format</h3> <p>The component expects SLAC analysis results in JSON format with the following structure:</p> <ul class="svelte-1vcjtdf"><li class="svelte-1vcjtdf"><code class="svelte-1vcjtdf">MLE</code> - Maximum likelihood estimates for each site</li> <li class="svelte-1vcjtdf"><code class="svelte-1vcjtdf">MLE.content</code> - Site-by-site results [dN, dS, dN-dS, dN/dS, p-value]</li> <li class="svelte-1vcjtdf"><code class="svelte-1vcjtdf">data partitions</code> - Partition information for sites</li></ul> <h3 class="svelte-1vcjtdf">Method Comparison</h3> <p>SLAC differs from other HyPhy methods:</p> <ul class="svelte-1vcjtdf"><li class="svelte-1vcjtdf"><strong>vs. FEL:</strong> Uses counting approach rather than likelihood ratios</li> <li class="svelte-1vcjtdf"><strong>vs. MEME:</strong> Tests for consistent rather than episodic selection</li> <li class="svelte-1vcjtdf"><strong>vs. BUSTED:</strong> Site-level rather than gene-level testing</li> <li class="svelte-1vcjtdf"><strong>Speed:</strong> Faster than FEL but may be less powerful</li></ul></div></div>`);function rs(Lt,mt){ae(mt,!1);let h=m(null),u=m(!1),z=m(""),k=m(""),P=m("slac");const ht=[{value:"fel",label:"FEL"},{value:"meme",label:"MEME"},{value:"absrel",label:"aBSREL"},{value:"busted",label:"BUSTED"},{value:"relax",label:"RELAX"},{value:"slac",label:"SLAC"}];se(async()=>{await H()});async function H(){try{l(u,!0),l(z,""),l(h,await be(t(P)))}catch(n){l(z,`Failed to load ${t(P).toUpperCase()} test data: ${n.message}`),l(h,null)}finally{l(u,!1)}}async function W(){if(!t(k).trim()){l(z,"Please enter a valid URL");return}try{l(u,!0),l(z,""),l(h,await Se(t(k)))}catch(n){l(z,`Failed to load data from URL: ${n.message}`),l(h,null)}finally{l(u,!1)}}async function rt(n){var b;const f=(b=n.target.files)==null?void 0:b[0];if(f)try{l(u,!0),l(z,""),l(h,await ye(f))}catch(e){l(z,`Failed to load file: ${e.message}`),l(h,null)}finally{l(u,!1)}}function y(){l(z,"")}oe();var M=Be();_e(n=>{var f=Re();me.title="SLAC Analysis - HyPhy Scope",g(n,f)});var O=i(a(M),2),d=i(a(O),2),x=a(d),G=i(a(x),2),T=a(G);$(()=>{t(P),Rt(()=>{})}),pt(T,5,()=>ht,gt,(n,f)=>{var b=Ve(),e=a(b,!0);s(b);var r={};$(()=>{F(e,t(f).label),r!==(r=t(f).value)&&(b.value=(b.__value=t(f).value)??"")}),g(n,b)}),s(T);var U=i(T,2),kt=a(U,!0);s(U),s(G),q(2),s(x);var dt=i(x,2),_t=i(a(dt),2),ot=a(_t);Vt(ot);var bt=i(ot,2);s(_t),q(2),s(dt);var St=i(dt,2),yt=i(a(St),2);q(2),s(St),s(d);var Nt=i(d,2);{var ct=n=>{var f=qe();g(n,f)};w(Nt,n=>{t(u)&&n(ct)})}var xt=i(Nt,2);{var Dt=n=>{var f=Ie(),b=a(f),e=a(b,!0);s(b);var r=i(b,2);s(f),$(()=>F(e,t(z))),I("click",r,y),g(n,f)};w(xt,n=>{t(z)&&n(Dt)})}s(O);var Ct=i(O,2);{var jt=n=>{var f=He(),b=a(f);Ue(b,{get data(){return t(h)}}),s(f),g(n,f)},ut=n=>{var f=he(),b=le(f);{var e=r=>{var c=Oe();g(r,c)};w(b,r=>{t(u)||r(e)},!0)}g(n,f)};w(Ct,n=>{t(h)?n(jt):n(ut,!1)})}q(2),s(M),$(n=>{U.disabled=t(u),F(kt,t(u)?"Loading...":"Load Test Data"),ot.disabled=t(u),bt.disabled=n,yt.disabled=t(u)},[()=>t(u)||!t(k).trim()]),qt(T,()=>t(P),n=>l(P,n)),I("click",U,H),re(ot,()=>t(k),n=>l(k,n)),I("click",bt,W),I("change",yt,rt),g(Lt,M),ie()}export{rs as component};
